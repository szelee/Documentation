<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeTvmService.GetPresalesFulfilmentOptions Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="GetPresalesFulfilmentOptions method" /><meta name="System.Keywords" content="CbeTvmService.GetPresalesFulfilmentOptions method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeTvmService.GetPresalesFulfilmentOptions" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.CbeTvmService.GetPresalesFulfilmentOptions(Vix.Cbe.WebService.Contracts.SalesInformation.PresalesFulfilmentOptionsMessageRequestSpdAuthV1)" /><meta name="Description" content="This call provides the fulfilment options and occurs after the customer has selected the service and fare that they wish to book with the CBE returning the list of available fulfilment options." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="f31b3620-310f-a32a-4461-6fbacbecdb85" /><meta name="guid" content="f31b3620-310f-a32a-4461-6fbacbecdb85" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/abf32f96-6674-87dc-fd0d-5338ca4f4294.htm" title="CbeTvmService Class" tocid="abf32f96-6674-87dc-fd0d-5338ca4f4294">CbeTvmService Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/4cf7b8db-20c0-d680-f8e6-507bddde8d5c.htm" title="CbeTvmService Methods" tocid="4cf7b8db-20c0-d680-f8e6-507bddde8d5c">CbeTvmService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4a2f3f7c-3f34-4262-b81e-68c06cf4a3ba.htm" title="AmendReservation Method " tocid="4a2f3f7c-3f34-4262-b81e-68c06cf4a3ba">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e1e65f7e-2ab8-1b83-aece-f61333dc7a11.htm" title="CancelReservation Method " tocid="e1e65f7e-2ab8-1b83-aece-f61333dc7a11">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/526eef60-88d1-392b-581b-fe4d68d4fe08.htm" title="CancelTransaction Method " tocid="526eef60-88d1-392b-581b-fe4d68d4fe08">CancelTransaction Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8fea79ff-189d-9d6a-f781-f7c40ae40d1a.htm" title="CustomerCardLogin Method " tocid="8fea79ff-189d-9d6a-f781-f7c40ae40d1a">CustomerCardLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5c41f7cd-3e72-c5db-f62d-e846d0abf694.htm" title="GetCoachesInformation Method " tocid="5c41f7cd-3e72-c5db-f62d-e846d0abf694">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7a508d6-de3c-02ca-c0cc-b04be4550560.htm" title="GetCoachesSeatAvailability Method " tocid="c7a508d6-de3c-02ca-c0cc-b04be4550560">GetCoachesSeatAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d16ae95a-70f6-f222-21bd-fb40f63e33d5.htm" title="GetCtrDetails Method " tocid="d16ae95a-70f6-f222-21bd-fb40f63e33d5">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bfaaa850-7892-fce8-9c09-5d1e6cab9437.htm" title="GetCustomerSegment Method " tocid="bfaaa850-7892-fce8-9c09-5d1e6cab9437">GetCustomerSegment Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8e16b5d7-47fc-6e71-ecc1-7c2e9b231acf.htm" title="GetFaresInformation Method " tocid="8e16b5d7-47fc-6e71-ecc1-7c2e9b231acf">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a817fdca-64ba-d31d-c79e-09c2a22ccb06.htm" title="GetOptionalServices Method " tocid="a817fdca-64ba-d31d-c79e-09c2a22ccb06">GetOptionalServices Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/f31b3620-310f-a32a-4461-6fbacbecdb85.htm" title="GetPresalesFulfilmentOptions Method " tocid="f31b3620-310f-a32a-4461-6fbacbecdb85">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0388f537-421d-dedd-ffae-b7170b521227.htm" title="GetRouteInformation Method " tocid="0388f537-421d-dedd-ffae-b7170b521227">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/50777f26-01a0-054e-14bf-f4ac5579c1f8.htm" title="GetSalesHistory Method " tocid="50777f26-01a0-054e-14bf-f4ac5579c1f8">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/db52a24a-7c7c-ea4f-8a57-791c9d14c34a.htm" title="GetSeasonTicketFares Method " tocid="db52a24a-7c7c-ea4f-8a57-791c9d14c34a">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a393927e-c028-3c0c-a683-1634632e57a2.htm" title="GetStoppingPatterns Method " tocid="a393927e-c028-3c0c-a683-1634632e57a2">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2375f5ab-8d12-4909-d7f3-a944e29e267c.htm" title="Heartbeat Method " tocid="2375f5ab-8d12-4909-d7f3-a944e29e267c">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/867c1e85-d50d-7a65-aef8-2b33b4f1165c.htm" title="PrintCompleted Method " tocid="867c1e85-d50d-7a65-aef8-2b33b4f1165c">PrintCompleted Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3e74eb19-af85-8de9-d866-716946e0d9de.htm" title="PrintCtrTickets Method " tocid="3e74eb19-af85-8de9-d866-716946e0d9de">PrintCtrTickets Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5ab80034-a50a-e4dd-0a3d-4b4d327a6bac.htm" title="PurchaseCancellation Method " tocid="5ab80034-a50a-e4dd-0a3d-4b4d327a6bac">PurchaseCancellation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ca55af35-f5d6-52de-afa1-b16d25926b70.htm" title="PurchaseConfirmation Method " tocid="ca55af35-f5d6-52de-afa1-b16d25926b70">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fbc82769-8cbf-20bd-f5f7-71407154eaf1.htm" title="PurchaseSeasonTicket Method " tocid="fbc82769-8cbf-20bd-f5f7-71407154eaf1">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cdc4495a-d453-fa64-463e-0bb826c682d5.htm" title="PurchaseTicket3 Method " tocid="cdc4495a-d453-fa64-463e-0bb826c682d5">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c8f321aa-7f6b-5363-4796-f0ed8349bbf4.htm" title="RedeemTravelPass Method " tocid="c8f321aa-7f6b-5363-4796-f0ed8349bbf4">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0dfb371e-dd14-349d-bdc4-d02da41974ea.htm" title="RefundConfirmation Method " tocid="0dfb371e-dd14-349d-bdc4-d02da41974ea">RefundConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dbb64264-85c0-80c9-f6b9-1c0053c254a8.htm" title="RequestItinerary Method " tocid="dbb64264-85c0-80c9-f6b9-1c0053c254a8">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4001edfe-26a5-6736-667c-01c7ad12eb77.htm" title="ReservationBooking Method " tocid="4001edfe-26a5-6736-667c-01c7ad12eb77">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7b29c164-0692-8a96-22f5-3a78deed6692.htm" title="ReservationBooking2 Method " tocid="7b29c164-0692-8a96-22f5-3a78deed6692">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d956bccd-3cf2-0987-ab22-e07771fffce4.htm" title="SalesOfferingAuthorisation Method " tocid="d956bccd-3cf2-0987-ab22-e07771fffce4">SalesOfferingAuthorisation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0246e0ff-fd90-5ec6-94cc-cfd5e0ad0f6a.htm" title="TvmLogin Method " tocid="0246e0ff-fd90-5ec6-94cc-cfd5e0ad0f6a">TvmLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d537e1d4-61de-862f-ff61-69dce7c46ec0.htm" title="TvmLogout Method " tocid="d537e1d4-61de-862f-ff61-69dce7c46ec0">TvmLogout Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e3373c8b-a19e-b35e-39df-49c4a722fd76.htm" title="UnlockCtr Method " tocid="e3373c8b-a19e-b35e-39df-49c4a722fd76">UnlockCtr Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0ba00d5e-9333-6f27-8474-b597b8e7e896.htm" title="UpdateLoyaltyCard Method " tocid="0ba00d5e-9333-6f27-8474-b597b8e7e896">UpdateLoyaltyCard Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeTvmService<span id="LSTEDC95E53_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_0?cpp=::|nu=.");</script>GetPresalesFulfilmentOptions Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            This call provides the fulfilment options and occurs after the customer has selected the service and fare that they wish to book with the CBE returning the list of available fulfilment options. The FEWS covers both point-to-point, season tickets, and parking tickets.
            </div><div class="summary">
		This call provides the fulfilment options and occurs after the customer has selected the service and fare that they wish to book with the CBE returning the list of available fulfilment options.
		The FEWS covers both point-to-point, season tickets, and parking tickets.
	</div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Operation.V7", 
	"Tvm-GetPresalesFulfilmentOptions", Target = <span class="identifier">CbeActivity</span>.GetPresalesFulfilmentOptions)]
<span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">PresalesFulfilmentOptionsMessageResponseV1</span>&gt; <span class="identifier">GetPresalesFulfilmentOptions</span>(
	<span class="identifier">PresalesFulfilmentOptionsMessageRequestSpdAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="7d91c3ce-01d7-673e-e92d-692a1de20e18.htm">Vix.Cbe.WebService.Contracts.SalesInformation<span id="LSTEDC95E53_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PresalesFulfilmentOptionsMessageRequestSpdAuthV1</a><br />The presales fulfilment options request.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LSTEDC95E53_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="6f1a996a-361a-620b-5e0e-b7c326a34ce2.htm">PresalesFulfilmentOptionsMessageResponseV1</a><span id="LSTEDC95E53_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />Fulfilment options for provided fares wrapped in a response message contract.<h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LSTEDC95E53_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_4?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="6f1a996a-361a-620b-5e0e-b7c326a34ce2.htm">PresalesFulfilmentOptionsMessageResponseV1</a><span id="LSTEDC95E53_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_5?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />The fulfilment options for provided fares wrapped in a response message contract.<h4 class="subHeading">Implements</h4><a href="3ccf0f85-b2f7-f4b0-87b8-1ca301bd73e2.htm">ICbeTvmService<span id="LSTEDC95E53_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEDC95E53_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>GetPresalesFulfilmentOptions(PresalesFulfilmentOptionsMessageRequestSpdAuthV1)</a><br /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>BACKGROUND</b></p><p>
			This process provides a list of available fulfilment options and occurs after the customer has selected the journeys and fares that they wish to book with the CBE.
			Customers are then able to choose, prior to payment the fulfilment option convenient to them.
			The list of fulfilment options applies to the whole sales transaction rather than individual journeys.
		</p><p>
			The process can be made from any retail channel FEA. The retail channel making the request may be a factor in determining possible fulfilment options.
		</p><p>
			This document has been updated to include car parking functionality requested as a Change Request.
		</p><p><b>BUSINESS PROCESS CONTEXT</b></p><p>
			The diagram below shows the context of where in the ticket purchase process this FEWS call occurs. This diagram is a logical one and does not reflect any particular retail channel process.
		</p><b>For Point to point tickets:</b><img src="\Content\FEWS 6.0 Get Presales Fulfilment Options\context_p2p.jpg" /><p><b>For season tickets:</b></p><img src="\Content\FEWS 6.0 Get Presales Fulfilment Options\context_season.jpg" /><p><b>PROCESS DIAGRAM</b></p><img src="\Content\FEWS 6.0 Get Presales Fulfilment Options\ProcessDiagram.jpg" /><p><b>PROCESS DESCRIPTION</b></p><p>
			This process is used by all the retail channels: Web, mobile, call centre or ticket office or TVM. The call from the FEA to the CBE provides all the details of the customer’s chosen journey and ticket type details with any additional items eg plusbus, Travelcards and any supplements (e.g. vouchers etc) , so that the CBE can determine the available ticketing fulfilment options that be offered to the customer.
		</p><p>
			The available ticketing options for point to point tickets are held in the fulfilment matrix within the CBE, the current methods of fulfilment agreed with Stagecoach for the web and call centre are indirect methods of fulfilment namely:
		</p><p><ul><li>
					Paper ticket by post referred to as CCST which may be:
					<ul><li>Normal post</li><li>Special delivery</li><li>International</li></ul></li><li>Ticket on Departure (TOD) – which writes the ticket details to a central 3rd party database known as the CTR database so that the ticket can be recalled and issued and collected at a station ticket office or TVM</li><li>Mobile (barcode) – delivered as an SMS/MMS with barcode</li><li>Smart – (indirect fulfilment) delivered to a customer’s smartcard via a message to the HOPS to send an action list to a station, to be collected when the passenger touches in his smart card.</li><li>ETicket - delivered as an Email.</li></ul>
			The criteria for deciding which options are available depend on a number of factors including:
			<ul><li>The route and ticket type</li><li>The Origin Location and Destination Location (these will be used to validate fulfilment methods for journeys will be made available ie to ensure validators are available at stations for use with SMART or Self-Print)</li><li>The available time between the sale taking place and the lead time for delivering the ticket from a print bureau</li><li>The date and time of travel</li><li>The retail channel</li><li>The presence of any additional items which limit the fulfilment options to CCST and TOD.</li></ul></p><p>
			These rules are applied by the CBE by referencing various 3rd party data feeds but in particular the Retail Control Service (RCS).
		</p><p>
			ETicket Charges against each Fulfilment Option will be configurable and held in the Fulfilment Options table.
		</p><p>
			Parking Tickets can be purchased along with journeys or exclusively as separate product.
			For Parking Tickets purchases with or without journeys, the fulfilment options returned shall be restricted to the parking fulfilment options defined in the business rules.
		</p><p>For Season Ticket TOD fulfilment option has been added to the Season Ticket Fulfilment Table however at the present time this cannot be supported until a new RSPS5040 TOD specification is issued with revised CTR requirements for season tickets</p><p>The list of valid categories are: Anytime, Off-Peak and Advanced.</p><p>If Reservation Only is set to true then possible fulfilment options are restricted to TicketOnDeparture or CCSTDirect.</p><p>Underground Transfer should be set to true if there is a Transger Leg in the backet with a Mode of Underground.</p><p>
			This FEWS also includes an indicator to show if a car/bike reservation is included in the purchase details as this limits the fulfilment options available at the current time.
		</p><p>
			If ETicketOnly flag is set true, then offer eTicket as the only fulfilment option, if available, otherwise offer no fulfilment options. If ETicketOnly flag is set false or is not specified then apply the current business rules to determine fulfilment options available.
		</p><p><b>ASSUMPTIONS</b><ol><li>
					For point to point tickets sold via the web or call centre it is assumed that where TOD is chosen as the fulfilment option and the origin station does not have TVMs or “Collect at window” capability; ; the Front End application will manage the presentation of alternatives.
					A data set of TVM locations will be provided to the FEA web server at regular intervals by the CBE.
				</li></ol></p><p><b>VALIDATION </b></p><p>
			The following validation checks are made by the CBE on the data provided by the FEA. Where the request message from the FEA fails one or more of the validation checks listed below, the CBE will respond with an appropriate error messages as shown in the appropriate API guide.
			<ol><li>All mandatory fields are present.</li><li>Origin and destination locations are valid and different.</li><li>
					Validates season ticket duration according to the list of allowed values specified in the Config UI.
				</li><li>If Ticket Type is a season ticket the POV must be present, otherwise absent.</li><li>
					Number of adults and children combined &gt; 0 and &lt; = n where n is configurable:
					1 - 9 for web.1 for mobile.1 – 69 for call centre, Ticket Office.1 for season ticket.</li></ol></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABABBA_tab1" class="codeSnippetContainerTabSingle">Example GetPresalesFulfilmentOptions Request</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
       <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>9999<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>0002<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PreSalesFulfilmentOptionsRequest</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Journeys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PresalesJourneyInfo</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyOriginNlc</span><span class="highlight-xml-bracket">&gt;</span>9328<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyOriginNlc</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyDestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>6121<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyDestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>BTS|IEC|00430|GC|9328|6121<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:DepartureDateTime</span><span class="highlight-xml-bracket">&gt;</span>2017-08-14T13:57:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:DepartureDateTime</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketCategory</span><span class="highlight-xml-bracket">&gt;</span>Advance<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketCategory</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PrimaryTocProvider</span><span class="highlight-xml-bracket">&gt;</span>GR<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PrimaryTocProvider</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:SeatReservation</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:SeatReservation</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PresalesJourneyInfo</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Journeys</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UndergroundTransfer</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UndergroundTransfer</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ETicketOnly</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ETicketOnly</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PreSalesFulfilmentOptionsRequest</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBA_tab1" class="codeSnippetContainerTabSingle">Example GetPresalesFulfilmentOptions Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>78<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>6.0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>17.2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PreSalesFulfilmentOptionsResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentOptions</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>CcstNormal<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>150<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>CcstSpecialDelivery<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>350<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>TicketOnDeparture<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FulfilmentOptions</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PreSalesFulfilmentOptionsResponse</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBA");</script></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Revision History</span></div><div id="ID4RBSection" class="collapsibleSection"><table><tr><th>Date</th><th>Version</th><th>Description</th></tr><tr><td>21/05/2019</td><td>17.0</td><td>FEWS 6.0 Pre Sales Fulfilment Options</td></tr><tr><td>18/11/2019</td><td>17.1</td><td>Added ETicketOnly flag</td></tr><tr><td>05/02/2021</td><td>17.2</td><td>Validation of POV updated.</td></tr></table></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="abf32f96-6674-87dc-fd0d-5338ca4f4294.htm">CbeTvmService Class</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>