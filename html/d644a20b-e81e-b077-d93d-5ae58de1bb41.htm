<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeOnboardService.GetOptionalServices Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="GetOptionalServices method" /><meta name="System.Keywords" content="CbeOnboardService.GetOptionalServices method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeOnboardService.GetOptionalServices" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.CbeOnboardService.GetOptionalServices(Vix.Cbe.WebService.Contracts.SalesInformation.OptionalServicesMessageRequestAuthV1)" /><meta name="Description" content="Gets the optional services." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="d644a20b-e81e-b077-d93d-5ae58de1bb41" /><meta name="guid" content="d644a20b-e81e-b077-d93d-5ae58de1bb41" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/0899427b-ddb9-1836-8ec7-066ba5b04044.htm" title="CbeOnboardService Class" tocid="0899427b-ddb9-1836-8ec7-066ba5b04044">CbeOnboardService Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/035ede35-d4f5-48a1-63ef-8f44cd58f4df.htm" title="CbeOnboardService Methods" tocid="035ede35-d4f5-48a1-63ef-8f44cd58f4df">CbeOnboardService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4ab7eeec-b1de-90c4-7a9e-f98d742a8d1c.htm" title="ChangeOperatorPassword Method " tocid="4ab7eeec-b1de-90c4-7a9e-f98d742a8d1c">ChangeOperatorPassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fcbd0e51-4a7b-256c-5ec0-3d07d5a11a60.htm" title="CreateCustomerProfile Method " tocid="fcbd0e51-4a7b-256c-5ec0-3d07d5a11a60">CreateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/92029ec1-2566-40dd-22ed-815c68f0a089.htm" title="CustomerCardLogin Method " tocid="92029ec1-2566-40dd-22ed-815c68f0a089">CustomerCardLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fe035a5f-e89c-43b9-49a5-719148289a7b.htm" title="DoNonissue Method " tocid="fe035a5f-e89c-43b9-49a5-719148289a7b">DoNonissue Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/68d6312b-0ef3-0542-615d-ec7b217b4990.htm" title="GetCustomerAccountDetails Method " tocid="68d6312b-0ef3-0542-615d-ec7b217b4990">GetCustomerAccountDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7f2fa47b-3cea-2e9a-99f8-828ee5ada36a.htm" title="GetFaresInformation Method " tocid="7f2fa47b-3cea-2e9a-99f8-828ee5ada36a">GetFaresInformation Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/d644a20b-e81e-b077-d93d-5ae58de1bb41.htm" title="GetOptionalServices Method " tocid="d644a20b-e81e-b077-d93d-5ae58de1bb41">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/45e5c8ab-6c88-2a9a-b8f1-57fe7ebe548e.htm" title="GetPresalesFulfilmentOptions Method " tocid="45e5c8ab-6c88-2a9a-b8f1-57fe7ebe548e">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/65b6ff74-568a-e660-7d50-7a067e990d2a.htm" title="GetRouteInformation Method " tocid="65b6ff74-568a-e660-7d50-7a067e990d2a">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3ade87f3-0bb4-9bb2-953f-9713f05ac96b.htm" title="GetSalesBySalesPoint Method " tocid="3ade87f3-0bb4-9bb2-953f-9713f05ac96b">GetSalesBySalesPoint Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2884faed-3e8b-32f1-82d5-77dbc46a784d.htm" title="GetSeasonTicketFares Method " tocid="2884faed-3e8b-32f1-82d5-77dbc46a784d">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3c4265ca-b36b-1de3-5d77-b44d91f63e42.htm" title="GetStoppingPatterns Method " tocid="3c4265ca-b36b-1de3-5d77-b44d91f63e42">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9d8ba00a-6b4c-74da-41e7-c805fe62793f.htm" title="Heartbeat Method " tocid="9d8ba00a-6b4c-74da-41e7-c805fe62793f">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8d2a4ed6-5a3f-eb53-eab9-2be194816ca7.htm" title="OperatorLogin Method " tocid="8d2a4ed6-5a3f-eb53-eab9-2be194816ca7">OperatorLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6874169c-5696-e682-6638-1de44c8ac1ea.htm" title="OperatorLogout Method " tocid="6874169c-5696-e682-6638-1de44c8ac1ea">OperatorLogout Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2b27cf44-4c2c-e7ff-8fe4-bc4084536527.htm" title="OverprintConfirmation Method " tocid="2b27cf44-4c2c-e7ff-8fe4-bc4084536527">OverprintConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3d58a6ec-8d45-c1d2-755f-e8dd4f01b240.htm" title="PurchaseConfirmation Method " tocid="3d58a6ec-8d45-c1d2-755f-e8dd4f01b240">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6171d0b8-86ea-d9be-0306-db8c21619cc7.htm" title="PurchaseExcessFareOnboard Method " tocid="6171d0b8-86ea-d9be-0306-db8c21619cc7">PurchaseExcessFareOnboard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4b1f677b-3a71-ece0-6897-f6c3de42e36d.htm" title="PurchaseSeasonTicket Method " tocid="4b1f677b-3a71-ece0-6897-f6c3de42e36d">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/27560554-bba6-a667-b352-5c41738da17e.htm" title="PurchaseTicket3 Method " tocid="27560554-bba6-a667-b352-5c41738da17e">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c24e4ecc-5841-591a-72f5-589aa0bb43ed.htm" title="RedeemTravelPass Method " tocid="c24e4ecc-5841-591a-72f5-589aa0bb43ed">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/658089be-4590-2f89-d451-76fe6c5f7ece.htm" title="RequestItinerary Method " tocid="658089be-4590-2f89-d451-76fe6c5f7ece">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ca437967-4387-b921-3c18-d9b841304f5e.htm" title="SearchCustomerProfile Method " tocid="ca437967-4387-b921-3c18-d9b841304f5e">SearchCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c5f1c274-11ea-b08b-a2c9-e1cabec5501d.htm" title="UpdateCustomerProfile Method " tocid="c5f1c274-11ea-b08b-a2c9-e1cabec5501d">UpdateCustomerProfile Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeOnboardService<span id="LST3748E75C_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3748E75C_0?cpp=::|nu=.");</script>GetOptionalServices Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Gets the optional services.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Operation.V7", 
	"Onboard-GetOptionalServices", Target = <span class="identifier">CbeActivity</span>.GetOptionalServices)]
<span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">OptionalServicesMessageResponseV1</span>&gt; <span class="identifier">GetOptionalServices</span>(
	<span class="identifier">OptionalServicesMessageRequestAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="560a311f-805e-0404-5d84-5865ce03235b.htm">Vix.Cbe.WebService.Contracts.SalesInformation<span id="LST3748E75C_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3748E75C_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>OptionalServicesMessageRequestAuthV1</a><br />The request.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LST3748E75C_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3748E75C_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="8b639a93-c3aa-f848-7472-8c26c57f28c3.htm">OptionalServicesMessageResponseV1</a><span id="LST3748E75C_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3748E75C_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />
            Optional services for provided journey wrapped in a response message contract.
            <h4 class="subHeading">Implements</h4><a href="1c4c3f87-040c-b071-3001-d0c0f6f2abcf.htm">ICbeOnboardService<span id="LST3748E75C_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3748E75C_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>GetOptionalServices(OptionalServicesMessageRequestAuthV1)</a><br /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>BACKGROUND</b></p><p>
			This call allows the customer to select additional items in conjunction with their chosen journey. Currently supported additional items in IPTIS are:
		</p><p><ul><li>Plusbus (For outbound and inbound locations)</li><li>Travelcards in the London Underground area.</li></ul></p><p>
			Railway locations are defined using 3 character 'CRS' and 4 character 'NLC' codes, and the CBE uses these codes in the web service calls.  There is a requirement that the FEA is able to translate to and from these codes such that meaningful location names are presented to the customer.  The necessary reference data is made available to the FEA by the CBE through separate web service calls
		</p><p>
			This call has been updated to apply business rules around the extended booking horizon for selected products for VTEC as part of CR68 admin UI, and also to address omissions in data definitions in the output.
		</p><p><b>BUSINESS PROCESS CONTEXT</b></p><p>
			The diagram below shows the context of where in the ticket purchase process this FEWS call occurs. This diagram is a logical one and is independent of retail channel.
		</p><img src="\Content\FEWS 2.2 Get Optional Services\Context.jpg" /><p><b>PROCESS DIAGRAM</b></p><p>
			The diagram below shows the process steps that the CBE undertakes in response to a Journey Planning Call 3 request. IPTIS is the Journey Planning and Fares tool that is used by the CBE.
		</p><img src="\Content\FEWS 2.2 Get Optional Services\ProcessDiagram.jpg" /><p><b>PROCESS DESCRIPTION</b></p><p>
			This request is available to all retail channels to search for additional items associated with a selected journey. The availability of additional items e.g. Plusbus and Travelcards are limited and are supplied by the journey planner and fares provider (IPTIS).
		</p><p>
			Travelcards are offered only for outbound journeys where the destination is within a London travel zone. The list of fares for all zones is returned based on the arrival time into London, these are both the peak prices and the off peak prices.
		</p><p>
			Plusbus fares for both the Origin and Destination locations and for outbound and inbound dates will be returned where available. This will accommodate any PlusBus fare increases between these outbound and return dates. Plusbus may be available for the Origin and Destination (inbound and outbound journeys) giving a maximum of four Plusbus fares.
		</p><p>
			Where the destination location is London Terminals the FEA is required to check the London stations restrictions list depending on the origin station, so that the user is informed of these. The CBE provides this data feed to the FEA – see section 6. For example a person travelling from Slough to London Terminals would only be allowed to travel to Paddington, whereas someone travelling from Brighton would be allowed to travel to Victoria, Vauxhall, London Bridge, Blackfriars, City Thameslink, Farringdon and St Pancras (Thameslink). In both cases the route is defined  as 'any permitted' and the fare destination location is 1072.
		</p><p>
			Open Return Tickets will have only the outbound date and time details identified and therefore the CBE will only offer Plusbus fares for the Origin and destination on the outbound dates. Plusbus is not available within the London travel card area, so the travelcard is available at the destination location instead.
		</p><p>
			Most national railcards may be used with PlusBus fares and a discounted fare will be returned from IPTIS. Only certain Railcards can be used in conjunction with Travelcards. These discounts and their applicability are handled by the IPTIS fares provider. The output fares include any discounts which are permitted with various railcards. Whether a Railcard discount has been applied is implied through the Passenger Status Code in the response.
		</p><p>
			This FEWS has been updated in line with the changes associated with CR100 Journey Planning enhancements and CR113 which filters out erroneous information supplied by IPTIS. The input uses the journey signature derived from FEWS 2.1 and the output is restructured into 3 sections three collections: Travelcards / Origin Plusbus / Destination Plusbus).
		</p><p>
			The additions in this version are to check the travel dates in the input  so that if the travel dates provided are beyond the standard booking dates, the FEWS must validate if the ‘Extended Horizon’ is enabled for the TOC Retail channel before carrying out the business validation. Also if the value of the Extended Horizon configuration is TRUE then the station location pair list is checked to see this pair is allowed or not for booking and journey planning beyond the normal booking horizon date.
		</p><p>
			The extended horizon dates and the sales offering location pairs reference data is available from FEWS 10.29 and 10.28 respectively.
		</p><p>
			In addition the FIGS has been updated to amend the output to include omissions in the data provided by IPTIS. This includes some missing fields and passenger group fares where available.
		</p><p>
			Fare Signature is a string that is returned within IPTIS Journey Planning response for each fare option. The fare signature contains the following information:
			<ul><li>Ticket FTOT</li><li>Fare Setter</li><li>Route Code</li><li>Restriction Code</li><li>Fare Origin</li><li>Fare Destination</li></ul>
			e.g. ‘SOS|IWC|00000|2C|0438|1072’
		</p><p><b>ASSUMPTIONS</b><ol><li>The CBE will return all available fares for PlusBus, e.g. in the case of a single journey from Lincoln to Nottingham – this will return 2 Plusbus fares one for the origin location and another for the destination location.   It is assumed that the FEA will display the individual fares for each Plusbus fare to the customer as required.</li><li>The display of Travelcards fares – either peak or off peak - it is assumed that this is left to the FEA to decide what to offer. The CBE does not try to match the fares to the arrival times into London and hence whether peak or off peak fare is suitable.</li><li>It is assumed that the FEA will manage restricted days for Extended Horizon where there is an intention to release the ticket quota in the extended horizon but it has not been done yet.  Customer may be asked if they would like to subscribe to be notified when quota is made available.</li><li>It is assumed that the FEA will manage the excluded days for the Extended Horizon data where there is no intention to release the ticket quota for the extended horizon, eg. Bank Holidays</li></ol></p><p><b>VALIDATION</b></p><p>
			Parameter Validation:
			<ol><li>Dates are valid </li></ol></p><p>
			Business Validation:
			<ol><li>All mandatory items must be present</li><li>Number of adults and children combined &gt; 0 and &lt; n where n is configurable</li><li><ul><li>1 – 9 for Web</li><li>1 – 9 for Mobile</li><li>1 – 69 for Call Centre, Ticket office</li></ul></li><li>If Railcard present, check the Railcard is a valid Railcard for Retail Channel</li><li>Travel date can be in the past, configurable and same validation applies as for FEWS 2.0 and FEWS 2.1</li><li>No more than 2 journeys provided on input</li><li>Travel Date must be less than or equal to the Extended Horizon End Date</li><li>Travel Date must not be an Excluded or Restricted date for the Extended Horizon.</li><li>Origin and Destination station locations must be a valid pair for the Extended Horizon</li></ol></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABABBA_tab1" class="codeSnippetContainerTabSingle">Example GetOptionalServices Request</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>9999<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>0003<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OptionalServicesRequest</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Journeys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyOptionRequest</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyId</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyId</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OutboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneySignature</span><span class="highlight-xml-bracket">&gt;</span>190121|1221|190121|1513|TRIP|BBN|PRE|190121|1221|190121|1239|NT2110|NT|TRIP|PRE|EUS|190121|1258|190121|1513|VT6640|VT<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneySignature</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OutboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>SOS|IWC|00000||2737|1072<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Passengers</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:NumberOfAdults</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:NumberOfAdults</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:NumberOfChildren</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:NumberOfChildren</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Passengers</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyOptionRequest</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Journeys</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OptionalServicesRequest</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBA_tab1" class="codeSnippetContainerTabSingle">Example GetOptionalServices Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>7707<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>374<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsAttribute</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Reference</span><span class="highlight-xml-bracket">&gt;</span>2.2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Reference</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>19.1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsAttribute</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OptionalServicesResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Journeys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyOption</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyId</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyId</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TravelcardFareOptions</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DateValid</span><span class="highlight-xml-bracket">&gt;</span>2019-01-21T00:00:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DateValid</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOptions</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>ADT|ATO|01000||1444|0034<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>15<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>Anytime<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>R<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>Adult<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>1310<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>1310<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CojAdminFee</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
                           <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerGroupFare</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ApplicableDiscountDetails</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>InboundaryLondonTravelcard<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>ATO<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>ADT|ATO|01000||1444|0035<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>63<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>Anytime<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>R<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>Adult<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>1860<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>1860<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CojAdminFee</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
                           <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerGroupFare</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ApplicableDiscountDetails</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>InboundaryLondonTravelcard<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>ATO<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>ODT|ATO|01000|B1|1444|0035<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>63<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>OffPeak<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>R<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>Adult<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>1310<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>1310<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CojAdminFee</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
                           <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerGroupFare</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ApplicableDiscountDetails</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>InboundaryLondonTravelcard<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>ATO<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareOptions</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TravelcardFareOptions</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginPlusbusFareOptions</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DateValid</span><span class="highlight-xml-bracket">&gt;</span>2019-01-21T00:00:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DateValid</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOptions</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>PBD|PLB|00009||2737|H952<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">UtsZone</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>Anytime<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Category</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>O<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSource</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>D1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">InboundValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TicketValidity</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneySegmentCode</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>Adult<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerType</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>250<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Fare</span><span class="highlight-xml-bracket">&gt;</span>
                              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>250<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginalFare</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CojAdminFee</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
                           <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PassengerStatusFares</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PassengerGroupFare</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ApplicableDiscountDetails</span><span class="highlight-xml-bracket">/&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>PlusBusFare<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareType</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>PLB<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareSetter</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareOption</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareOptions</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginPlusbusFareOptions</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DestinationPlusbusFareOptions</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DateValid</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareOptions</span><span class="highlight-xml-bracket">/&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DestinationPlusbusFareOptions</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyOption</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Journeys</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OptionalServicesResponse</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBA");</script></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Revision History</span></div><div id="ID4RBSection" class="collapsibleSection"><table><tr><th>Date</th><th>Version</th><th>Description</th></tr><tr><td>17/01/2019</td><td>18.3</td><td>FEWS 2.2 Journey Planning Call 3</td></tr><tr><td>30/09/2019</td><td>19.1</td><td>Amended for IPTIS v27 / v28 upgrade</td></tr><tr><td>26/01/2021</td><td>20.1</td><td>PassengerGroupFare changed to list to support discount of group tickets by Railcards.</td></tr><tr><td>04/02/2021</td><td>20.2</td><td>Added CojAdminFee into PassengerStatusFares and PassengerGroupFare items.</td></tr></table></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="0899427b-ddb9-1836-8ec7-066ba5b04044.htm">CbeOnboardService Class</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>