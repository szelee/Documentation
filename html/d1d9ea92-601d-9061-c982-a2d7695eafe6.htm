<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ICbeOnboardService Interface</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="ICbeOnboardService interface" /><meta name="System.Keywords" content="Vix.Cbe.WebService.ICbeOnboardService interface" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.ICbeOnboardService" /><meta name="Microsoft.Help.Id" content="T:Vix.Cbe.WebService.ICbeOnboardService" /><meta name="Description" content="Provides methods to interact with the CBE for On Board retail channel." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="d1d9ea92-601d-9061-c982-a2d7695eafe6" /><meta name="guid" content="d1d9ea92-601d-9061-c982-a2d7695eafe6" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/d1d9ea92-601d-9061-c982-a2d7695eafe6.htm" title="ICbeOnboardService Interface" tocid="d1d9ea92-601d-9061-c982-a2d7695eafe6">ICbeOnboardService Interface</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/b2b7054b-a878-8217-a676-540b2bdf544c.htm" title="ICbeOnboardService Methods" tocid="b2b7054b-a878-8217-a676-540b2bdf544c">ICbeOnboardService Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>ICbeOnboardService Interface</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Provides methods to interact with the CBE for On Board retail channel.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">ServiceContractAttribute</span>(Namespace = "http://vixtechnology.com/cbe/2012-05-29")]
[<span class="identifier">TraceActivityCallHandlerAttribute</span>(Order = 10)]
[<span class="identifier">CbeLogCallHandlerAttribute</span>(Order = 20)]
<span class="keyword">public</span> <span class="keyword">interface</span> <span class="identifier">ICbeOnboardService</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script></div><p>The <span class="selflink">ICbeOnboardService</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID2RBSection" class="collapsibleSection"><table class="members" id="methodList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="34ef9894-2d8a-2229-5b08-7e3faa537905.htm">ChangeOperatorPassword</a></td><td><div class="summary">
            Changes the operator password.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="151b3dc5-717d-0e96-5ec5-e528a8c71104.htm">CreateCustomerProfile</a></td><td><div class="summary">
            This case creates the customer account record in the CBE database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="6939f62b-f67b-5e99-7d16-f9a04818a79a.htm">CustomerCardLogin</a></td><td><div class="summary">
            Logs in the user specified via smartcard or photocard.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="b18f8064-052e-dc89-55de-88671be1a8d3.htm">DoNonissue</a></td><td><div class="summary">
            This FEWS sends a non-issue message to the CBE in case of a problem issuing CCST ticket at the Ticket Office,  Call Centre, or On Board, so that the ticket coupons can subsequently be cancelled and the transaction reversed in Lennon (by a non-issue record).
            The non issue value is used to indicate the type of problem with the ticket being resolved.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="99e4f74f-bc82-a440-a828-a68686fbe6a8.htm">GetCustomerAccountDetails</a></td><td><div class="summary">
            This case allows the customer to retrieve their account details stored in the CBE database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a9648d99-d390-2b66-b470-2293617afd3a.htm">GetFaresInformation</a></td><td><div class="summary">
            This call returns timetable and fares information for services from IPTIS. The call will typically be repeated a number of times to include earlier and later timeband calls and other timetable and fares information requests.The output includes available Advance quota controlled fares where mandatory reservations are required and Accompanied fares where available.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1c4c3f87-040c-b071-3001-d0c0f6f2abcf.htm">GetOptionalServices</a></td><td><div class="summary"><p>Following selection of a journey, the front end application will request fares for additional items that may be available for that journey. This includes:</p><ul><li>London Travelcards</li><li>Plusbus(Origin and Destination)</li></ul><p>Travelcards are offered only for journeys where the origin or destination is within a London travel zone, See Notes. Plusbus fares for Origin and Destination locations for outbound and inbound dates will be returned.</p><p>This will accommodate any PlusBus fare increases between these dates.</p><p>Most national Railcards may be used with PlusBus fares however only certain Railcards can be used in conjunction with Travelcards. This will be handled by the fares provider.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="6e32247f-3cdb-df7d-a99f-b6ef9174d2fe.htm">GetPresalesFulfilmentOptions</a></td><td><div class="summary">
            This call provides the fulfilment options and occurs after the customer has selected the service and fare that they wish to book with the CBE returning the list of available fulfilment options. The FEWS covers both point-to-point, season tickets, and parking tickets.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="7c85d1f7-57cf-0658-9796-bc086d5387a7.htm">GetRouteInformation</a></td><td><div class="summary">
            This is the initial journey query for route and timetable information. It will return the number of services available within a configurable timeband for the journey requested.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="466a92c6-529d-39a6-719b-46583fea4faf.htm">GetSalesBySalesPoint</a></td><td><div class="summary">
            This call will allow an operator at a ticket office to find a walk up sale made at a designated TVM or Ticket Office sales point location in a designated time period.
            This call is required to assist ticket office staff to deal with issues at a TVM or other sales point in the station, where the printer may fail in some way and the fulfilment cannot be completed.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="880fd477-df8d-f38a-97e6-c816c42ccb96.htm">GetSeasonTicketFares</a></td><td><div class="summary">
            This is to request the season ticket fares available for a given journey. This will be preliminary to a season ticket purchase.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8b076afe-bf46-b90e-c421-404b1f04f8d9.htm">GetStoppingPatterns</a></td><td><div class="summary">
            This is an information request; the call is required to retrieve details of stopping patterns
            from IPTIS for a chosen train service. The output lists all stops between a chosen origin and destination
            and the timing of these. This should be available to all retail channels.  The input of the call typically
            uses the required train service data returned from Journey Planning call 2 (FEWS 2.1).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="338d7460-5d3b-e947-d635-4b5a5e2d8db8.htm">Heartbeat</a></td><td><div class="summary">
            This case allows the retail channels especially TVMs to verify the health of the CBE and subsequently use it to take the TVMs out of Service or bring them back into service.
            It will also apply to the web and mobile to indicate when the service is unavailable so that the FEA can display a suitable error message for the various failure cases.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a127de8a-e98f-08a6-dbc4-132ee44ea0a6.htm">OperatorLogin</a></td><td><div class="summary">
            Logs in the operator specified in the service request.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ad7355e6-4772-7f8b-8fb6-fd27af262d5f.htm">OperatorLogout</a></td><td><div class="summary">
            Operators the logout.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="6d62420c-15d4-419d-38b6-11799239acb7.htm">OverprintConfirmation</a></td><td><div class="summary">
            The purpose of this FEWS is to allow the operator to confirm that the overprinting of the ticket coupons has been successful. In the case of a non-issue event this then triggers the creation of the non-issue record in SDCI+ by the CBE.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="4358fc8a-7429-c887-767d-4b8ea1894f09.htm">PurchaseConfirmation</a></td><td><div class="summary">
            This case completes the sale with the payment confirmation details for Point to Point, season tickets,
            railcard sales and Gift eVouchers. (Gift eVouchers are not mixed with other products in a sales
            transaction.) The FEWS provides all the remaining data for fulfilment activities and settlement and
            moves the sales transaction status from Awaiting authorization to Confirmed.
            The FEWS also supports purchase confirmation of a season ticket changeover done by rebook and
            refund.In this case a refund reference number is present in the input.
            This case also allows the FEA to request SMS messages of the itinerary of Point to Point journeys.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="64fa24bb-47c0-f929-a194-7f6f5a7442f4.htm">PurchaseExcessFareOnboard</a></td><td><div class="summary">
            Purchases the excess fare on board.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="b9213dc8-4425-2896-92c6-7fe63f5379ef.htm">PurchaseSeasonTicket</a></td><td><div class="summary"><p>This FEWS takes the data from FEWS 5.0 <a href="880fd477-df8d-f38a-97e6-c816c42ccb96.htm">GetSeasonTicketFares(SeasonTicketFaresMessageRequestAuthV1)</a> and validates the sale prior to payment authorisation and puts the sale into a pending state awaiting FEWS 6.2 payment confirmation. A season ticket request is made for one passenger only.</p><p>This version supports the phase 3 functionality for the purchase of a season ticket renewal with fulfilment by CCST or smart, both of which are solely Ticket Office functions.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="611ef28b-1d20-48d7-8200-2a57206bc042.htm">PurchaseTicket3</a></td><td><div class="summary">
            This call is used by all retail channels.
            It validates the sale prior to the payment and creates the sale transaction record.
            The sale is put into a pending state awaiting payment confirmation, (FEWS 6.2).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1f5550f4-5492-0e95-4030-a58caf3af5d1.htm">RedeemTravelPass</a></td><td><div class="summary"><p>This call allowing to redeem one day travel pass for flexi season ticket in his 28day period of validity based on parameters specified in the request:</p><p>  Customer id</p><p>  Flexi-Season transaction number against which the travel pass is being redeemed</p><p>  Required travel datetime</p><p>  Transaction numbers for any existing reservations that need to be paired with the travel pass</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="607de28c-a81b-10bb-2def-56d4247c086a.htm">RequestItinerary</a></td><td><div class="summary">
            Gets the itinerary details.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="c7c70de8-c36a-193c-652c-00bfb291e5ab.htm">SearchCustomerProfile</a></td><td><div class="summary">
            This call searches the customer database and returns one or more summary account details to identify the customer details required.
            This call is used to verify that a customer account exists prior to the update and/or view of an account’s details.If the account is not found then this would trigger the creation of a new account via the front end application. (See FEWS 4.7 Customer Account CC Creation).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5550d252-ec8c-3833-5390-b72e4b7e1320.htm">UpdateCustomerProfile</a></td><td><div class="summary">
            This case allows the customer to update their account details in the CBE database.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>