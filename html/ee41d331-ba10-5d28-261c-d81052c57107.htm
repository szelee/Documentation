<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ICbeTvmService Methods</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="ICbeTvmService interface, methods" /><meta name="Microsoft.Help.Id" content="Methods.T:Vix.Cbe.WebService.ICbeTvmService" /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="ee41d331-ba10-5d28-261c-d81052c57107" /><meta name="guid" content="ee41d331-ba10-5d28-261c-d81052c57107" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/2b305072-24b7-c604-c01a-be859fd0f64e.htm" title="ICbeTvmService Interface" tocid="2b305072-24b7-c604-c01a-be859fd0f64e">ICbeTvmService Interface</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/ee41d331-ba10-5d28-261c-d81052c57107.htm" title="ICbeTvmService Methods" tocid="ee41d331-ba10-5d28-261c-d81052c57107">ICbeTvmService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8b27b68d-ac88-0526-4224-b47093664d61.htm" title="AmendReservation Method " tocid="8b27b68d-ac88-0526-4224-b47093664d61">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bb4f4cae-79a4-0394-6c38-61885b060965.htm" title="CancelReservation Method " tocid="bb4f4cae-79a4-0394-6c38-61885b060965">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3f67f484-34b4-83e4-1042-ef12ae6beb72.htm" title="CancelTransaction Method " tocid="3f67f484-34b4-83e4-1042-ef12ae6beb72">CancelTransaction Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/16374e6f-1ba4-c886-98dd-3dc3d858dd13.htm" title="CustomerCardLogin Method " tocid="16374e6f-1ba4-c886-98dd-3dc3d858dd13">CustomerCardLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1d5ae775-dcee-04d1-3542-cceddf8128b5.htm" title="GetCoachesInformation Method " tocid="1d5ae775-dcee-04d1-3542-cceddf8128b5">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1151f3b0-f4de-3180-7516-2fe21c2b03bd.htm" title="GetCoachesSeatAvailability Method " tocid="1151f3b0-f4de-3180-7516-2fe21c2b03bd">GetCoachesSeatAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cac1659c-eebe-03da-15ba-0d08605932d4.htm" title="GetCtrDetails Method " tocid="cac1659c-eebe-03da-15ba-0d08605932d4">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2b5ba2e8-f9ec-1bf4-30d5-35441b348f09.htm" title="GetCustomerSegment Method " tocid="2b5ba2e8-f9ec-1bf4-30d5-35441b348f09">GetCustomerSegment Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/48da6a4a-823f-7ab8-0d2d-f65fd7ef6970.htm" title="GetFaresInformation Method " tocid="48da6a4a-823f-7ab8-0d2d-f65fd7ef6970">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/95108ccb-c450-85a3-0cba-25d34c93eb6d.htm" title="GetOptionalServices Method " tocid="95108ccb-c450-85a3-0cba-25d34c93eb6d">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3ccf0f85-b2f7-f4b0-87b8-1ca301bd73e2.htm" title="GetPresalesFulfilmentOptions Method " tocid="3ccf0f85-b2f7-f4b0-87b8-1ca301bd73e2">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5f9fca53-28ff-23a2-46a2-442c7559730f.htm" title="GetRouteInformation Method " tocid="5f9fca53-28ff-23a2-46a2-442c7559730f">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9535b1dc-a290-7c96-7cd7-40e14d12d980.htm" title="GetSalesHistory Method " tocid="9535b1dc-a290-7c96-7cd7-40e14d12d980">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/19a1370e-95dd-6d2d-af6e-a13263774c92.htm" title="GetSeasonTicketFares Method " tocid="19a1370e-95dd-6d2d-af6e-a13263774c92">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8791a243-1ce6-cfdc-a988-09b495d4c28f.htm" title="GetStoppingPatterns Method " tocid="8791a243-1ce6-cfdc-a988-09b495d4c28f">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/36b2dce7-1a33-e519-07a8-81c0ece368ae.htm" title="Heartbeat Method " tocid="36b2dce7-1a33-e519-07a8-81c0ece368ae">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/40fe62de-4a1e-4d64-4946-bc4e05d9ed47.htm" title="PrintCompleted Method " tocid="40fe62de-4a1e-4d64-4946-bc4e05d9ed47">PrintCompleted Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1d8d52d8-4353-286e-86b7-db86758a79db.htm" title="PrintCtrTickets Method " tocid="1d8d52d8-4353-286e-86b7-db86758a79db">PrintCtrTickets Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5588b2dc-d67c-a7ef-d189-513cf9ce66a3.htm" title="PurchaseCancellation Method " tocid="5588b2dc-d67c-a7ef-d189-513cf9ce66a3">PurchaseCancellation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/99ccc26a-f622-aadf-9935-f6b33cfac12d.htm" title="PurchaseConfirmation Method " tocid="99ccc26a-f622-aadf-9935-f6b33cfac12d">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a0d605ed-ac82-af2e-b354-d1ef1ab099c0.htm" title="PurchaseSeasonTicket Method " tocid="a0d605ed-ac82-af2e-b354-d1ef1ab099c0">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dcdb9eba-42d6-fafc-57f4-98b6b7e2371c.htm" title="PurchaseTicket3 Method " tocid="dcdb9eba-42d6-fafc-57f4-98b6b7e2371c">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1f2aea3f-831f-eeae-15cc-1417c8c31e45.htm" title="RedeemTravelPass Method " tocid="1f2aea3f-831f-eeae-15cc-1417c8c31e45">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fc60f008-c596-31d0-e85e-d5447a02313f.htm" title="RefundConfirmation Method " tocid="fc60f008-c596-31d0-e85e-d5447a02313f">RefundConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/38318408-521a-c306-e50e-d90565fdeb6e.htm" title="RequestItinerary Method " tocid="38318408-521a-c306-e50e-d90565fdeb6e">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6f75aaa1-fa89-a183-95c9-dd94c2b610b3.htm" title="ReservationBooking Method " tocid="6f75aaa1-fa89-a183-95c9-dd94c2b610b3">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f60d919c-2a55-0f89-7195-73ef0dfed888.htm" title="ReservationBooking2 Method " tocid="f60d919c-2a55-0f89-7195-73ef0dfed888">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/39cd6cb7-e49a-c4e1-4f5e-49ec10405cbf.htm" title="SalesOfferingAuthorisation Method " tocid="39cd6cb7-e49a-c4e1-4f5e-49ec10405cbf">SalesOfferingAuthorisation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/da8eccce-5bea-19e0-ca6a-ed106f171d1d.htm" title="TvmLogin Method " tocid="da8eccce-5bea-19e0-ca6a-ed106f171d1d">TvmLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1dd92814-0b12-5ac7-192e-4686a07e59ee.htm" title="TvmLogout Method " tocid="1dd92814-0b12-5ac7-192e-4686a07e59ee">TvmLogout Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/df6f88f5-04fa-a68c-a070-7bb5d89108cb.htm" title="UnlockCtr Method " tocid="df6f88f5-04fa-a68c-a070-7bb5d89108cb">UnlockCtr Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/158dd1f8-fbd6-04f0-63e5-b55fc3012b46.htm" title="UpdateLoyaltyCard Method " tocid="158dd1f8-fbd6-04f0-63e5-b55fc3012b46">UpdateLoyaltyCard Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>ICbeTvmService Methods</h1></td></tr></table><span class="introStyle"></span> <p>The <a href="2b305072-24b7-c604-c01a-be859fd0f64e.htm">ICbeTvmService</a> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID0RBSection" class="collapsibleSection"><table class="members" id="methodList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8b27b68d-ac88-0526-4224-b47093664d61.htm">AmendReservation</a></td><td><div class="summary"><p>
               This FEWS allows a passenger to amend an existing reservation either before the sale is completed or afterwards.
            </p><p /><p>
               The existing reserved seats may be selectively changed by seat picks or by seat preferences. Advance tickets may only be changed by the TOC running the train and cannot be changed to a different train.
            </p><p>
               Flexible tickets may be changed to different seats on the same train, or to a different train on the same day.For changing to a different train it is assumed that the FEA will perform journey planning (FEWS 2.1) to check trains for which the chosen ticket type is valid.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="bb4f4cae-79a4-0394-6c38-61885b060965.htm">CancelReservation</a></td><td><div class="summary">
            This call triggers a cancel reservation request to NRS for all previously booked reservable items included in an NRS booking reference and also for reservations removed from a basket before a sale is completed.   The FEWS supports Call Centre and Ticket Office retail channels only and be used in a variety of use cases not already covered by existing functionality.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="3f67f484-34b4-83e4-1042-ef12ae6beb72.htm">CancelTransaction</a></td><td><div class="summary">
            The purpose of this FEWS is to allow the TVM to cancel a sales transaction that has been confirmed by FEWS 6.2 but print message not yet available.
            The FEWS updates the sales the transaction and fulfilment statuses.If the print message has been generated and SDCI record created the output will signify not cancelled.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="16374e6f-1ba4-c886-98dd-3dc3d858dd13.htm">CustomerCardLogin</a></td><td><div class="summary">
            Logs in the user specified via smartcard or photocard.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1d5ae775-dcee-04d1-3542-cceddf8128b5.htm">GetCoachesInformation</a></td><td><div class="summary">
            This FEWS returns details of all the coaches available on a train (RSID) for a single journey leg from NRS.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1151f3b0-f4de-3180-7516-2fe21c2b03bd.htm">GetCoachesSeatAvailability</a></td><td><div class="summary">
            This FEWS shall return all available seats for a maximum of 3 coaches for a train (RSID) associated with a journey leg. The FEWS shall request NRS and return the NRS response for available seats.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="cac1659c-eebe-03da-15ba-0d08605932d4.htm">GetCtrDetails</a></td><td><div class="summary">
            The purpose of this FEWS is to enable a customer at a TVM to view the journeys in a previously placed CTR.  It also includes a check of the payment card used in the LSM database against that supplied in the input.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="2b5ba2e8-f9ec-1bf4-30d5-35441b348f09.htm">GetCustomerSegment</a></td><td><div class="summary"><p>
            This FEWS is used by the FEA to determine the customer segment requesting access. The FEWS returns the Customer Segment Name and required credentials to access the sales offering.
            </p><p>
            Note: The user may or may not be an existing TOC customer.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="48da6a4a-823f-7ab8-0d2d-f65fd7ef6970.htm">GetFaresInformation</a></td><td><div class="summary">
            This call returns timetable and fares information for services from IPTIS. The call will typically be repeated a number of times to include earlier and later timeband calls and other timetable and fares information requests.The output includes available Advance quota controlled fares where mandatory reservations are required and Accompanied fares where available.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="95108ccb-c450-85a3-0cba-25d34c93eb6d.htm">GetOptionalServices</a></td><td><div class="summary"><p>Following selection of a journey, the front end application will request fares for additional items that may be available for that journey. This includes:</p><ul><li>London Travelcards</li><li>Plusbus(Origin and Destination)</li></ul><p>Travelcards are offered only for journeys where the origin or destination is within a London travel zone, See Notes. Plusbus fares for Origin and Destination locations for outbound and inbound dates will be returned.</p><p>This will accommodate any PlusBus fare increases between these dates.</p><p>Most national Railcards may be used with PlusBus fares however only certain Railcards can be used in conjunction with Travelcards. This will be handled by the fares provider.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="3ccf0f85-b2f7-f4b0-87b8-1ca301bd73e2.htm">GetPresalesFulfilmentOptions</a></td><td><div class="summary">
            This call provides the fulfilment options and occurs after the customer has selected the service and fare that they wish to book with the CBE returning the list of available fulfilment options. The FEWS covers both point-to-point, season tickets, and parking tickets.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5f9fca53-28ff-23a2-46a2-442c7559730f.htm">GetRouteInformation</a></td><td><div class="summary">
            This is the initial journey query for route and timetable information. It will return the number of services available within a configurable timeband for the journey requested.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="9535b1dc-a290-7c96-7cd7-40e14d12d980.htm">GetSalesHistory</a></td><td><div class="summary">
            This request returns a summary list of customer sales transactions by purchase date or by journey departure date. The response includes summary information to allow identification of an individual sales transaction to support a detailed Sales History enquiry. (See FEWS 4.3.1).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="19a1370e-95dd-6d2d-af6e-a13263774c92.htm">GetSeasonTicketFares</a></td><td><div class="summary">
            This is to request the season ticket fares available for a given journey. This will be preliminary to a season ticket purchase.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8791a243-1ce6-cfdc-a988-09b495d4c28f.htm">GetStoppingPatterns</a></td><td><div class="summary">
            This is an information request; the call is required to retrieve details of stopping patterns
            from IPTIS for a chosen train service. The output lists all stops between a chosen origin and destination
            and the timing of these. This should be available to all retail channels.  The input of the call typically
            uses the required train service data returned from Journey Planning call 2 (FEWS 2.1).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="36b2dce7-1a33-e519-07a8-81c0ece368ae.htm">Heartbeat</a></td><td><div class="summary">
            This case allows the retail channels especially TVMs to verify the health of the CBE and subsequently use it to take the TVMs out of Service or bring them back into service.
            It will also apply to the web and mobile to indicate when the service is unavailable so that the FEA can display a suitable error message for the various failure cases.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="40fe62de-4a1e-4d64-4946-bc4e05d9ed47.htm">PrintCompleted</a></td><td><div class="summary">
            The purpose of this FEWS is to allow a TVM to advise the CBE that print job at a TVM printer has been completed, so that the job id can be recorded as completed by the CBE.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1d8d52d8-4353-286e-86b7-db86758a79db.htm">PrintCtrTickets</a></td><td><div class="summary"><p>
            The purpose of this FEWS is to enable a TVM, powered by the CBE, to request the printing of the ticket associated with a CTR record which has not been previously collected and printed. This FEWS includes the optional journey reference number so individual tickets for a journey within a CTR may be selected as required.
            </p><p>
            The FEWS also includes Fetched delivery print requests for a TVM following a walk up a sale as per SCCR058.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5588b2dc-d67c-a7ef-d189-513cf9ce66a3.htm">PurchaseCancellation</a></td><td><div class="summary">
            This FEWS is to address the following scenario:
            1) The customer specifies a journey and makes 1 or more reservations.FEWS 6.1 purchase ticket has been successfully executed at this stage so a valid Sales Transaction exists on the CBE with status “AwaitingAuhorisation”.
            2) Before paying (i.e.before FEWS 6.2 purchase confirmation) the customer adds another journey(s) to the basket.When the extra journeys have been added the FEA then issues an amended FEWS 6.1 purchase ticket which includes the revised set of journeys.
            3) The CBE does not have any basket management logic so in this case we want to cancel the original purchase ticket transaction and this is what this FEWS does.
            4) The real problem comes with reservations. The customer may have made reservations prior to the first FEWS 6.1 purchase ticket. In this scenario, these reservations need to be kept rather than asking the customer to re-make reservations for a journey that in most cases will not be changed.
            The processing for this FEWS will disassociate these reservations from the original transaction so they can be re-attached to a new transaction.
            Any reservations not re-attached will be automatically cancelled by the CBE process that cancels un-attached reservations.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="99ccc26a-f622-aadf-9935-f6b33cfac12d.htm">PurchaseConfirmation</a></td><td><div class="summary">
            This case completes the sale with the payment confirmation details for Point to Point, season tickets,
            railcard sales and Gift eVouchers. (Gift eVouchers are not mixed with other products in a sales
            transaction.) The FEWS provides all the remaining data for fulfilment activities and settlement and
            moves the sales transaction status from Awaiting authorization to Confirmed.
            The FEWS also supports purchase confirmation of a season ticket changeover done by rebook and
            refund.In this case a refund reference number is present in the input.
            This case also allows the FEA to request SMS messages of the itinerary of Point to Point journeys.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a0d605ed-ac82-af2e-b354-d1ef1ab099c0.htm">PurchaseSeasonTicket</a></td><td><div class="summary"><p>This FEWS takes the data from FEWS 5.0 <a href="19a1370e-95dd-6d2d-af6e-a13263774c92.htm">GetSeasonTicketFares(SeasonTicketFaresMessageRequestSpdAuthV1)</a> and validates the sale prior to payment authorisation and puts the sale into a pending state awaiting FEWS 6.2 payment confirmation. A season ticket request is made for one passenger only.</p><p>This version supports the phase 3 functionality for the purchase of a season ticket renewal with fulfilment by CCST or smart, both of which are solely Ticket Office functions.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="dcdb9eba-42d6-fafc-57f4-98b6b7e2371c.htm">PurchaseTicket3</a></td><td><div class="summary">
            This call is used by all retail channels.
            It validates the sale prior to the payment and creates the sale transaction record.
            The sale is put into a pending state awaiting payment confirmation, (FEWS 6.2).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1f2aea3f-831f-eeae-15cc-1417c8c31e45.htm">RedeemTravelPass</a></td><td><div class="summary"><p>This call allowing to redeem one day travel pass for flexi season ticket in his 28day period of validity based on parameters specified in the request:</p><p>  Customer id</p><p>  Flexi-Season transaction number against which the travel pass is being redeemed</p><p>  Required travel datetime</p><p>  Transaction numbers for any existing reservations that need to be paired with the travel pass</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="fc60f008-c596-31d0-e85e-d5447a02313f.htm">RefundConfirmation</a></td><td><div class="summary">
            This FEWS allows the TVM FEA to confirm that a refund has been made following a non issue or cancellation event (FEWS 7.6).S.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="38318408-521a-c306-e50e-d90565fdeb6e.htm">RequestItinerary</a></td><td><div class="summary">
            Gets the itinerary details.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="6f75aaa1-fa89-a183-95c9-dd94c2b610b3.htm">ReservationBooking</a></td><td><div class="summary">
            This call triggers a reservation request to NRS. Optionally, reservation request can contain additional reservable items - bike places, seating preferences or requirement for specific seat in the train. The FEWS supports, public facing, unattended TIS such as Web TVM or Mobile retail channels as well as attended TIS such as Call Centre or Ticket Office retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f60d919c-2a55-0f89-7195-73ef0dfed888.htm">ReservationBooking2</a></td><td><div class="summary">
            This call triggers a reservation request to NRS. Optionally, reservation request can contain additional reservable items - bike places, seating preferences or requirement for specific seat in the train. The FEWS supports, public facing, unattended TIS such as Web TVM or Mobile retail channels as well as attended TIS such as Call Centre or Ticket Office retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="39cd6cb7-e49a-c4e1-4f5e-49ec10405cbf.htm">SalesOfferingAuthorisation</a></td><td><div class="summary">
            This FEWS provides a Sales offering Access authorisation (or “door keeper”) service for Promotions.
            The FEWS validates the Access information required for the Sales Offering, (Pin Number, email address, email Domain etc.)
            and then checks the availability(effective dates and Quotas) of the Sales Offering.The response will accept or reject the request for authorisation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="da8eccce-5bea-19e0-ca6a-ed106f171d1d.htm">TvmLogin</a></td><td><div class="summary">
            Logs in the tvm specified in the service request.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1dd92814-0b12-5ac7-192e-4686a07e59ee.htm">TvmLogout</a></td><td><div class="summary">
            Logs out the tvm specified in the service request.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="df6f88f5-04fa-a68c-a070-7bb5d89108cb.htm">UnlockCtr</a></td><td><div class="summary">
            This call is for the TVM FEA to request to the CBE that a CTR record is unlocked in the LSM database,
            where the CBE has previously locked it. This call is only to be used in exceptional cases
            to resolve CTR collection issues as required, so that any CTR records which are in
            suspense (for whatever reason) do not remain locked.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="158dd1f8-fbd6-04f0-63e5-b55fc3012b46.htm">UpdateLoyaltyCard</a></td><td><div class="summary">
            This case allows the customer to associate his/her loyalty card to a sales transaction after the sale is completed. The customer is allowed to do this only up to a certain time (as defined in the loyalty scheme) after the sale is completed.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID1RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="2b305072-24b7-c604-c01a-be859fd0f64e.htm">ICbeTvmService Interface</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>