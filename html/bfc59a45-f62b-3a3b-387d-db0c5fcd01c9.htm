<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeWebService.PurchaseChangeOfJourney Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="PurchaseChangeOfJourney method" /><meta name="System.Keywords" content="CbeWebService.PurchaseChangeOfJourney method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeWebService.PurchaseChangeOfJourney" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.CbeWebService.PurchaseChangeOfJourney(Vix.Cbe.WebService.Contracts.SalesTransaction.PurchaseChangeOfJourneyMessageRequestSpdAuthV1)" /><meta name="Description" content="This call is used by web, mobile and call centre retail channels. It is assumed that prior to calling this method, the client would have called the following FEWS methods:FEWS 4.3." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="bfc59a45-f62b-3a3b-387d-db0c5fcd01c9" /><meta name="guid" content="bfc59a45-f62b-3a3b-387d-db0c5fcd01c9" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/dbe63916-3728-a5c7-9333-dd7d99c307bd.htm" title="CbeWebService Class" tocid="dbe63916-3728-a5c7-9333-dd7d99c307bd">CbeWebService Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/79896919-9212-d834-bb9f-034a8b293c03.htm" title="CbeWebService Methods" tocid="79896919-9212-d834-bb9f-034a8b293c03">CbeWebService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5e3aa0da-c2cb-4059-d631-61b7ace9e210.htm" title="AddJourneyToFavourites Method " tocid="5e3aa0da-c2cb-4059-d631-61b7ace9e210">AddJourneyToFavourites Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/34d7f448-41a4-9633-668f-45cc8ab9baff.htm" title="AddUpdateCustomerPhotocard Method " tocid="34d7f448-41a4-9633-668f-45cc8ab9baff">AddUpdateCustomerPhotocard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fe53d4b4-5d18-a895-822c-e84af19f3cba.htm" title="AddUpdatePassengerAssistanceDetails Method " tocid="fe53d4b4-5d18-a895-822c-e84af19f3cba">AddUpdatePassengerAssistanceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bb0efcb4-605d-2ad1-d791-ac1148d977a7.htm" title="AddUpdateSmartcard Method " tocid="bb0efcb4-605d-2ad1-d791-ac1148d977a7">AddUpdateSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8fd64612-4084-58f5-78bb-a0bd7ddf73c6.htm" title="AddUpdateTokenisedPaymentCard Method " tocid="8fd64612-4084-58f5-78bb-a0bd7ddf73c6">AddUpdateTokenisedPaymentCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0691a6a3-cee2-6282-bcd5-17fd1dc6a9b4.htm" title="AmendReservation Method " tocid="0691a6a3-cee2-6282-bcd5-17fd1dc6a9b4">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/255c6b3b-d8bb-dc1b-6484-8b751b1f5ad6.htm" title="AssignTransactionCashback Method " tocid="255c6b3b-d8bb-dc1b-6484-8b751b1f5ad6">AssignTransactionCashback Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7921a6e1-abe7-0747-935e-9f6d678d51f5.htm" title="CalculateEVoucherSpend Method " tocid="7921a6e1-abe7-0747-935e-9f6d678d51f5">CalculateEVoucherSpend Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4cee68ee-6945-9aeb-c2b8-f2454ef2a496.htm" title="CancelReservation Method " tocid="4cee68ee-6945-9aeb-c2b8-f2454ef2a496">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6dd1df64-53da-cff2-e289-305fc56f8bd6.htm" title="ClaimGiftEVouchers Method " tocid="6dd1df64-53da-cff2-e289-305fc56f8bd6">ClaimGiftEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bd241bf0-22ed-bcf9-1fd0-8ba53f75d2f4.htm" title="ConfirmThirdPartyAdditionToLoyalty Method " tocid="bd241bf0-22ed-bcf9-1fd0-8ba53f75d2f4">ConfirmThirdPartyAdditionToLoyalty Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a8e64a42-676d-e496-73ef-79eae0c8e01e.htm" title="CreateCustomerProfile Method " tocid="a8e64a42-676d-e496-73ef-79eae0c8e01e">CreateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7233412-6847-716c-57d4-cce47247b369.htm" title="CreateCustomerProfileGuest Method " tocid="c7233412-6847-716c-57d4-cce47247b369">CreateCustomerProfileGuest Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4d74aeda-dbe5-5696-bf70-d2e87678dfcc.htm" title="CreateCustomerProfilePartial Method " tocid="4d74aeda-dbe5-5696-bf70-d2e87678dfcc">CreateCustomerProfilePartial Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f9f4a0f9-cbde-ca21-a7d7-a1fc863e89e0.htm" title="CreateReservationChange Method " tocid="f9f4a0f9-cbde-ca21-a7d7-a1fc863e89e0">CreateReservationChange Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f674e432-ae26-e940-ac4e-2f3328f8e5a5.htm" title="CreateTimetableChange Method " tocid="f674e432-ae26-e940-ac4e-2f3328f8e5a5">CreateTimetableChange Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/63fa2926-afa9-d20c-433d-9927f8a7ea2b.htm" title="CustomerAccountVerification Method " tocid="63fa2926-afa9-d20c-433d-9927f8a7ea2b">CustomerAccountVerification Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/232b25cb-48e5-dd28-cb46-89144e13d09f.htm" title="CustomerChangePassword Method " tocid="232b25cb-48e5-dd28-cb46-89144e13d09f">CustomerChangePassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0ec24bae-81fe-9b42-e196-a2fd9658f050.htm" title="DeleteCustomerPhotocard Method " tocid="0ec24bae-81fe-9b42-e196-a2fd9658f050">DeleteCustomerPhotocard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/31ef8bef-5105-f0cf-aebb-dd7872c1f7f2.htm" title="DeleteSmartcard Method " tocid="31ef8bef-5105-f0cf-aebb-dd7872c1f7f2">DeleteSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/27989709-d920-1103-5ca2-8cbdb838a935.htm" title="DeleteTokenisedPaymentCard Method " tocid="27989709-d920-1103-5ca2-8cbdb838a935">DeleteTokenisedPaymentCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5bbf1c2d-c64b-8868-b60f-20c0812fee52.htm" title="GetBarcodeDetails Method " tocid="5bbf1c2d-c64b-8868-b60f-20c0812fee52">GetBarcodeDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/881a128f-5701-d557-4243-b28cd6f58c57.htm" title="GetBestFaresInformation Method " tocid="881a128f-5701-d557-4243-b28cd6f58c57">GetBestFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c12caffb-561a-0c8b-e047-f7901890abb9.htm" title="GetCoachesInformation Method " tocid="c12caffb-561a-0c8b-e047-f7901890abb9">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3732ba35-cede-40a0-a7f3-478dc743b83d.htm" title="GetCoachesSeatAvailability Method " tocid="3732ba35-cede-40a0-a7f3-478dc743b83d">GetCoachesSeatAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ff677e61-fe72-828b-90f5-d8e80661b9e7.htm" title="GetCompensationList Method " tocid="ff677e61-fe72-828b-90f5-d8e80661b9e7">GetCompensationList Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ec25725f-f524-4b83-be49-c56488a2560a.htm" title="GetCtrDetails Method " tocid="ec25725f-f524-4b83-be49-c56488a2560a">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/57884511-f5dd-6174-794f-2f218d76f468.htm" title="GetCustomerAccountDetails Method " tocid="57884511-f5dd-6174-794f-2f218d76f468">GetCustomerAccountDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/32f221c3-a9a1-6a9d-22e2-5d8e4a2da388.htm" title="GetCustomerEVouchers Method " tocid="32f221c3-a9a1-6a9d-22e2-5d8e4a2da388">GetCustomerEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8fe6e163-639b-e179-6086-e205699236b8.htm" title="GetCustomerKeyValuePairs Method " tocid="8fe6e163-639b-e179-6086-e205699236b8">GetCustomerKeyValuePairs Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ac9aa5d2-1550-9a17-62eb-3859fd2ab8ed.htm" title="GetCustomerPhotocards Method " tocid="ac9aa5d2-1550-9a17-62eb-3859fd2ab8ed">GetCustomerPhotocards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cd66527d-587b-f75d-dd76-2be3de34879e.htm" title="GetCustomerSegment Method " tocid="cd66527d-587b-f75d-dd76-2be3de34879e">GetCustomerSegment Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0b0d82f6-b286-6068-438d-06236c3650cb.htm" title="GetETicketUrl Method " tocid="0b0d82f6-b286-6068-438d-06236c3650cb">GetETicketUrl Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/58e3d5a5-78f3-ba25-4e81-5d72a2ddca9f.htm" title="GetFaresInformation Method " tocid="58e3d5a5-78f3-ba25-4e81-5d72a2ddca9f">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/90ed0488-1298-e035-4931-3afb1545f90f.htm" title="GetGoldstarSeasonTickets Method " tocid="90ed0488-1298-e035-4931-3afb1545f90f">GetGoldstarSeasonTickets Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/64473bbc-2477-7f58-cb67-83cc46234c23.htm" title="GetOptionalServices Method " tocid="64473bbc-2477-7f58-cb67-83cc46234c23">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e04cf826-6214-19bd-9d5f-d47f80a0aa77.htm" title="GetPassengerAssistanceDetails Method " tocid="e04cf826-6214-19bd-9d5f-d47f80a0aa77">GetPassengerAssistanceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e2d1710e-2566-e9e2-ce1e-81d1f8ba2825.htm" title="GetPresalesFulfilmentOptions Method " tocid="e2d1710e-2566-e9e2-ce1e-81d1f8ba2825">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5081c9fe-f5d9-f95e-793b-8bd4a66bb011.htm" title="GetRefundList Method " tocid="5081c9fe-f5d9-f95e-793b-8bd4a66bb011">GetRefundList Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/96ade62f-6816-2dd6-c57b-48a822bb53d9.htm" title="GetRefundList2 Method " tocid="96ade62f-6816-2dd6-c57b-48a822bb53d9">GetRefundList2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7cab8e64-1716-1469-0c19-e6bc7260eb28.htm" title="GetReservationAvailability Method " tocid="7cab8e64-1716-1469-0c19-e6bc7260eb28">GetReservationAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9179f7ea-c307-1e06-1019-efee69516fa9.htm" title="GetRouteInformation Method " tocid="9179f7ea-c307-1e06-1019-efee69516fa9">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/516cd39f-15e5-47c1-ca94-173d44039c88.htm" title="GetSalesHistory Method " tocid="516cd39f-15e5-47c1-ca94-173d44039c88">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e921d2e1-4bd7-53e5-f62d-c1555c7611a3.htm" title="GetSalesTransactionDetails Method " tocid="e921d2e1-4bd7-53e5-f62d-c1555c7611a3">GetSalesTransactionDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/caea0832-5573-2c62-494f-9a7ab3b90053.htm" title="GetSeasonTicketFares Method " tocid="caea0832-5573-2c62-494f-9a7ab3b90053">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/088ec29e-b246-e299-9ae6-1ef118c3471a.htm" title="GetSmartcardIpes Method " tocid="088ec29e-b246-e299-9ae6-1ef118c3471a">GetSmartcardIpes Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/340956af-aee8-38b9-904a-df8143d00f60.htm" title="GetSmartcards Method " tocid="340956af-aee8-38b9-904a-df8143d00f60">GetSmartcards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ea928f7c-72d2-f860-9d27-b9468540c877.htm" title="GetStoppingPatterns Method " tocid="ea928f7c-72d2-f860-9d27-b9468540c877">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5eeb6726-1473-bfaf-d9d9-6f890484023c.htm" title="GetTokenisedPaymentCards Method " tocid="5eeb6726-1473-bfaf-d9d9-6f890484023c">GetTokenisedPaymentCards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5bc3911d-dcd7-c041-a289-4a0b5e58158e.htm" title="Heartbeat Method " tocid="5bc3911d-dcd7-c041-a289-4a0b5e58158e">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/721ba3ed-317a-00ba-ff32-9206e2311243.htm" title="Login Method " tocid="721ba3ed-317a-00ba-ff32-9206e2311243">Login Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2ee37906-bfc8-ec25-1db0-bec3abfd8e8b.htm" title="MoveReservationBooking Method " tocid="2ee37906-bfc8-ec25-1db0-bec3abfd8e8b">MoveReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/56af5009-2b76-1e1a-dda5-a4f8b7b98b7d.htm" title="PurchaseCancellation Method " tocid="56af5009-2b76-1e1a-dda5-a4f8b7b98b7d">PurchaseCancellation Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/bfc59a45-f62b-3a3b-387d-db0c5fcd01c9.htm" title="PurchaseChangeOfJourney Method " tocid="bfc59a45-f62b-3a3b-387d-db0c5fcd01c9">PurchaseChangeOfJourney Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/73f5379c-3a82-1583-9879-20aaf5edac9e.htm" title="PurchaseConfirmation Method " tocid="73f5379c-3a82-1583-9879-20aaf5edac9e">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7c9ce33b-dd80-5aa4-3fa5-cc1bd41ec0c7.htm" title="PurchaseGiftEVouchers Method " tocid="7c9ce33b-dd80-5aa4-3fa5-cc1bd41ec0c7">PurchaseGiftEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f5514bd2-d7a5-ede9-6f30-386eeaffe630.htm" title="PurchaseReservation Method " tocid="f5514bd2-d7a5-ede9-6f30-386eeaffe630">PurchaseReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/01d83f5b-1134-5b3d-31d9-c7a5ee6fcef6.htm" title="PurchaseSeasonTicket Method " tocid="01d83f5b-1134-5b3d-31d9-c7a5ee6fcef6">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/35e4dae7-4bd0-588b-16fa-cf1acd89dcd3.htm" title="PurchaseSmartcard Method " tocid="35e4dae7-4bd0-588b-16fa-cf1acd89dcd3">PurchaseSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7e188f66-2458-fa34-156a-fe5b4a33822c.htm" title="PurchaseTicket3 Method " tocid="7e188f66-2458-fa34-156a-fe5b4a33822c">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d6da0a5f-47e0-3b1f-a52c-d1c4fd6513e1.htm" title="RedeemTravelPass Method " tocid="d6da0a5f-47e0-3b1f-a52c-d1c4fd6513e1">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9a7cbc02-8112-4bdc-9c77-bccdbeca6005.htm" title="Refund Method " tocid="9a7cbc02-8112-4bdc-9c77-bccdbeca6005">Refund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bde28301-dbee-241f-f590-56abb4a12a79.htm" title="RequestItinerary Method " tocid="bde28301-dbee-241f-f590-56abb4a12a79">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/42fa9d1f-692d-563d-9a88-78d4997f9da4.htm" title="ResendBookingConfirmation Method " tocid="42fa9d1f-692d-563d-9a88-78d4997f9da4">ResendBookingConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0332a4eb-b55e-4fbc-e0c2-1de230b8f56d.htm" title="ReservationBooking Method " tocid="0332a4eb-b55e-4fbc-e0c2-1de230b8f56d">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/33e8667e-cd9f-3357-ad17-87f9ffebaeea.htm" title="ReservationBooking2 Method " tocid="33e8667e-cd9f-3357-ad17-87f9ffebaeea">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1eb86d7c-263a-ec44-b74a-07d866d00251.htm" title="ResetPassword Method " tocid="1eb86d7c-263a-ec44-b74a-07d866d00251">ResetPassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/21129e43-b090-09aa-5b3d-0acab28174b8.htm" title="SalesOfferingAuthorisation Method " tocid="21129e43-b090-09aa-5b3d-0acab28174b8">SalesOfferingAuthorisation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d012b078-3e1e-8cd1-5cff-375a34a098d1.htm" title="SalesTransactionStatusUpdate Method " tocid="d012b078-3e1e-8cd1-5cff-375a34a098d1">SalesTransactionStatusUpdate Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/b5c96bf0-d246-0901-5eff-c530bba69248.htm" title="SetCustomerKeyValuePairs Method " tocid="b5c96bf0-d246-0901-5eff-c530bba69248">SetCustomerKeyValuePairs Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/68c6c90f-034d-2800-9b49-a7cf0d88f973.htm" title="SetSubscriberDetails Method " tocid="68c6c90f-034d-2800-9b49-a7cf0d88f973">SetSubscriberDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a81faa63-ff16-3111-bacc-8e4e6a84c906.htm" title="UpdateAdrOptions Method " tocid="a81faa63-ff16-3111-bacc-8e4e6a84c906">UpdateAdrOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ba0221f0-a551-2cdf-379f-e4435d5f6fd3.htm" title="UpdateCustomerProfile Method " tocid="ba0221f0-a551-2cdf-379f-e4435d5f6fd3">UpdateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c2551d77-bbaf-4c3c-e108-e3751a0933c5.htm" title="UpdateCustomerProfileGuest Method " tocid="c2551d77-bbaf-4c3c-e108-e3751a0933c5">UpdateCustomerProfileGuest Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1a3f95dd-f6a4-ba85-3994-d5b1447fcdb3.htm" title="UpdateLoyaltyCard Method " tocid="1a3f95dd-f6a4-ba85-3994-d5b1447fcdb3">UpdateLoyaltyCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/51f9967e-2559-35c2-3c34-5b2fd37a88d7.htm" title="ValidateCustomerPasswordResetToken Method " tocid="51f9967e-2559-35c2-3c34-5b2fd37a88d7">ValidateCustomerPasswordResetToken Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0cd8527e-5c04-d477-b012-44d81fd22f21.htm" title="VerifyCustomerToken Method " tocid="0cd8527e-5c04-d477-b012-44d81fd22f21">VerifyCustomerToken Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeWebService<span id="LSTE3C0AE86_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE3C0AE86_0?cpp=::|nu=.");</script>PurchaseChangeOfJourney Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary"><p>This call is used by web, mobile and call centre retail channels. It is assumed that prior to calling this method, the client would have called the following FEWS methods:</p><ul><li>FEWS 4.3.1 Get Sales Transaction Details to obtain details of the original journey being changed.</li><li>FEWS 2.1 Get Fares Information to select the targeted journey.</li><li>FEWS 8.1 Reservation Booking to obtain any seat reservations required for the targeted journey.</li><li>FEWS 6.0 Get PreSales Fulfilment Options to verify that eTicket is a valid fulfilment option for the targeted journey.</li><li>FEWS 10.31 Get Change Of Journey Admin Fees to obtain the relevant admin fee.</li></ul><p>Puchase COJ  validates the sale of a change of journey prior to the payment and creates the sale transaction record. The sale is then put into a pending state awaiting payment confirmation, (FEWS 6.2).</p></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Operation.V7", 
	"Web-PurchaseChangeOfJourney", Target = <span class="identifier">CbeActivity</span>.PurchaseChangeOfJourney)]
<span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">PurchaseChangeOfJourneyMessageResponseV1</span>&gt; <span class="identifier">PurchaseChangeOfJourney</span>(
	<span class="identifier">PurchaseChangeOfJourneyMessageRequestSpdAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="5877a9e2-2feb-5721-fde2-ed71a4d9e4b7.htm">Vix.Cbe.WebService.Contracts.SalesTransaction<span id="LSTE3C0AE86_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE3C0AE86_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PurchaseChangeOfJourneyMessageRequestSpdAuthV1</a><br />The change of journey purchase request.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LSTE3C0AE86_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE3C0AE86_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="eadd1a37-438a-9ed5-8b9e-3a7c78db015e.htm">PurchaseChangeOfJourneyMessageResponseV1</a><span id="LSTE3C0AE86_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE3C0AE86_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />Purchase change of journey response wrapped in a response message contract.<h4 class="subHeading">Implements</h4><a href="ab5bed73-00f9-afa4-bd40-3340657c8e38.htm">ICbeWebService<span id="LSTE3C0AE86_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE3C0AE86_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PurchaseChangeOfJourney(PurchaseChangeOfJourneyMessageRequestSpdAuthV1)</a><br /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>BACKGROUND</b></p><p>
			This call is used by web, mobile and call centre retail channels. It is assumed that prior to calling this method, the client would have called the following FEWS methods:
			<ul><li>FEWS 4.3.1 Get Sales Transaction Details to obtain details of the original journey being changed.</li><li>FEWS 2.1 Get Fares Information to select the targeted journey.</li><li>FEWS 8.1 Reservation Booking to obtain any seat reservations required for the targeted journey.</li><li>FEWS 6.0 Get PreSales Fulfilment Options to verify that eTicket is a valid fulfilment option for the targeted journey.</li><li>FEWS 10.31 Get Change Of Journey Admin Fees to obtain the relevant admin fee.</li></ul></p><p>
			Puchase COJ validates the sale of a change of journey prior to the payment and creates the sale transaction record. The sale is then put into a pending state awaiting payment confirmation, (FEWS 6.2).
		</p><p><b>PROCESS DIAGRAM</b></p><p>
			Not required.
		</p><p><b>PROCESS DESCRIPTION</b></p><p>
			The Reservation Booking Reference is saved in the Sales Transaction details created as a result of this FEWS.
		</p><p>
			The CBE Reservations Table created during an earlier FEWS process (FEWS 8.1) will already hold the Reservation Reference with a status of “Booked – awaiting confirmation”. This table is used to validate the Reservation Booking Reference if it is present in this FEWS.
		</p><p>
			The customer may select eVouchers to be used as a method of payment. The CBE uses a Calculate eVoucher spend service as found in FEWS 15.6 to apportion the eVoucher to one or more journeys and update the journey items of that value. The eVouchers are first sorted prior to allocation.
		</p><p>
			The eVoucher’s remaining balances will be updated once the purchase has been confirmed in FEWS 6.2
		</p><p>
			The eVoucher record at the journey level is captured for refund processing, fraud prevention, reconciliation and financial controls.
		</p><p>
			Customer can identify itself using sub-channel.
		</p><p>
			Fare Signature is a string that is returned within IPTIS Journey Planning response for each fare option. The fare signature contains the following information:
			<ul><li>Ticket FTOT</li><li>Fare Setter</li><li>Route Code</li><li>Restriction Code</li><li>Fare Origin</li><li>Fare Destination</li></ul>
			e.g. ‘SOS|IWC|00000|2C|0438|1072’
		</p><p>
			Only National Promotions (non railcards), split-ticket discounts or local promotions will be allowed. An individual passenger fare can only have a single DiscountDetails element which will either give details of a National promotion, or the most favourable discount available by either local promotion or split ticket. Group and Carnet discount types are not allowed.
		</p><p>
			Local Promotions will be applied with or without railcards depending on the discounting rule that will be configured in Admin UI by the TOC business. Details of the promotion discount will be provided in a DiscountDetails element associated with each Individual Passenger Fare. When the Discount Type is Local, the DiscountDetails element will contain the following:
			<ul><li>PassengerStatusCode  will always be 018(Adult) or 019(Child).</li><li>If a discount is applied without railcard, AdditionalDiscountRailcardCode will not be passed.</li><li>If a discount is applied with railcard, AdditionalDiscountRailcardCode will be passed and set to 3 character Railcard Code. This must be stored in the Railcard_Details table with reference to the Passenger Fares table so that it can be used to lookup Railcard Reference data and populate the Railcard status Code in SDCI BE record.</li><li>Discount Id is mandatory, as this will be used to obtain and validate any quotas have not been used up.</li><li>The DiscountedFare will be the fare the passenger actually pays, whereas the Fare in the parent Individual Passenger Fare will be either the original fare or the railcard discounted fare (if AdditionalDiscountRailcardCode is specified).</li><li>The HashedDiscountedFare will be a hash of the discounted fare that was provided in the GetFaresInformation response, which must be used to validate the DiscountedFare.</li></ul></p><p>
			Split Ticket discounts will be applied with or without railcards. Details of the split ticket discount will be provided in a DiscountDetails element associated with each Individual Passenger Fare. When the Discount Type is SplitTicket, the DiscountDetails element will contain the following:
			<ul><li>PassengerStatusCode will be appropriate for the relevant railcard if AdditionalDiscountRailcardCode is specified, else 000(Adult) or 001(Child).</li><li>If a discount is applied without railcard, AdditionalDiscountRailcardCode will not be passed.</li><li>If a discount is applied with railcard, AdditionalDiscountRailcardCode will be passed and set to 3 character Railcard Code. This must be stored in the Railcard_Details table with reference to the Passenger Fares table so that it can be used to lookup Railcard Reference data and populate the Railcard status Code in SDCI BE record.</li><li>Discount Id is not populated.</li><li>The DiscountedFare will be the fare the passenger actually pays based on the Split Ticket fare, whereas the Fare in the parent Individual Passenger Fare will be either the original fare or the railcard discounted fare (if AdditionalDiscountRailcardCode is specified).</li><li>The DiscountedFareHash will be a hash of the discounted fare that was provided in the GetFaresInformation response, which must be used to validate the DiscountedFare.</li></ul></p><p>
			Where a request contains targeted journey where individual passenger fares contain a SplitTicketDiscount value, an eVoucher of type ‘SplitTicketDiscount’ will be created with a value which matches the sum of all the SplitTicketDiscount values in the basket, and this eVoucher will used as one of the payment methods when the purchase is confirmed.
		</p><p>
			When FEWS 6.8 is called to purchase a COJ that is eligible to have any delta fare waived then:
			<ul><li>If the selected fare for the target journey results in a delta fare of 0 then no delta fare waiving is necessary.</li><li>If the selected fare is for the same class and category as the original ticket, but the delta fare is non-zero, then determine if this is the cheapest fare option available. If so, then this delta fare is waived.</li></ul></p><p><b>ASSUMPTIONS</b></p><p><b>VALIDATIONS</b></p><p><ol><li>
					All mandatory items must be present
				</li><li>
					Charity Id length must not exceed 36 characters
				</li><li>
					Customer Reference Number exists
				</li><li>
					Original journey sales transaction and basket item exists
				</li><li>
					Original journey departure time is still the required lead time in the future (as specified in Config UI)
				</li><li>
					Refund request has not been made for all tickets in the Original journey sales transaction basket item
				</li><li>
					Refunded tickets cannot be provided in the request.
				</li><li>
					Targeted journey Origin and Destination location codes match those of original journey
				</li><li>
					Fulfilment method for Targeted journey is eTicket, and this is a valid fulfilment option for the journey
				</li><li>
					No of passengers for targeted journey matches the no of tickets numbers provided for original journey
				</li><li>
					Validate original journey ticket numbers
				</li><li>
					If Retail Channel is Call Centre then Operator ID must be valid and logged on with the correct access role. If retail channel is web/mobile then sales point details must be present. Check that only one of user credentials and sales point details is present.
				</li><li>
					Where Reservation Booking Reference exists, check the reference exists in the CBE Reservations Table. The OnBoard channel does not allow for reservations. Reservation Booking Reference for the channel thus has to be empty.
				</li><li>
					Reservation booking reference field must be unique
				</li><li>
					Where a promotion code has been input, using the CBE Promotions Reference Table (See FEWS 10.3)
					<ul><li>The Promotion Code must exist in the Promotions Reference Table</li><li>The current date of sale is within the associated selling window dates (from and to) for the promotion.  </li><li>The journey dates outbound and return are valid for the effective “From” and “To” the associated journey dates for the promotion in the table. </li></ul></li><li>
					Check the operator/user credentials has permission for this call (see latest version of FEWS Permissions)
				</li><li>
					The Journey Information must be present for advance purchase tickets.
				</li><li>
					Where a reservation reference is included check that the reservation details match the journeys being purchased. (See note 17 below)
				</li><li>
					Validate the railcard code against the customer account and if the same then check the expiry date of the railcard is greater than the date of outbound travel.
				</li><li>
					The following 3 additional business validation checks only apply to the web retail channel for VTEC, where the CBE local table of extended horizon dates is available, otherwise should be ignored.
					<ul><li>Travel Date must be less than or equal to the Extended Horizon End Date.</li><li>Travel Date must not be an Excluded or Restricted date for the Extended Horizon.</li><li>Origin and Destination must be a valid pair for the Extended Horizon.</li></ul></li><li>
					If Sales offering context is not empty, then the  PRM_ENABLE_SALES_OFFERING (Config UI)  must be set to TRUE.
				</li><li>
					If Sales offering context is not empty, then the sales offering Code is valid and current.
				</li><li>
					If Access control id is not empty, then Access control id must be valid.
				</li><li>
					If there is any Local Promotion discount in the request, then the Sales offering context cannot be empty.
				</li><li>
					If there is any Local Promotion discount in the request, then all Discount ids must be valid.
				</li><li>
					If PassengerGroupFares is present this is validated as follows
					<ol><li>Ticket Type is a group ticket type on the RJIS ticket types file (MAX_PASSENGERS &gt; 1)</li><li>Group Ticket Adults is valid for the ticket type (&gt;= MIN_ADULTS &amp; &lt;= MAX_ADULTS)</li><li>Group Ticket Children is valid for the ticket type  (&gt;= MIN_CHILDREN &amp; &lt;= MAX_CHILDREN)</li><li>The number of passengers is valid for the ticket type (&gt;=MIN_PASSENGERS &amp; &lt;= MAX_PASSENGERS)</li><li>Note: there may be &gt; 1 group fare e.g. 2 DUO tickets (4 adults in total) or 2 Chiltern Family Tickets (for instance 4 adults and 3 children) – each group fare should be validated as above</li></ol></li><li>
					If Group Railcard discount is specified, the number of passengers must be within the MIN &amp; MAX passenger parameters for the railcard supplied.
				</li><li>
					If there is any Local Promotion discount in the request, then the Sales offering quota cannot be exceeded
				</li><li>
					If there is any Local Promotion discount in the request, then the Sales offering customer quota cannot be exceeded
				</li><li>
					If there is any Local Promotion discount in the request, then the Discount ticket quota cannot be exceeded
				</li><li>
					If there is any Local Promotion discount in the request, then the Discount customer ticket quota cannot be exceeded
				</li><li>
					Ticket number must be provided for the tickets from the original transaction which are being changed. These must be provided in the same order as the individual passenger fare elements for the targeted journey that will replace them
				</li><li>
					Charity Id length must not exceed 36 characters.
				</li><li>
					Total value of other charges must be equal to SUM of other charges.
				</li><li>
					Targeted ftot must be allowed for original ftot.
				</li><li>
					All original ticket numbers must be provided in request.
				</li><li>
					When both outbound and inbound original journeys are present in the request, they must be paired with an outbound-inbound pairing type.
				</li><li>
					When both outbound and inbound original journeys are present in the request, targeted journeys must also include outbound and inbound part.
				</li></ol></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABABBA_tab1" class="codeSnippetContainerTabSingle">Example PurchaseChangeOfJourney Request</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>9999<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>0001<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PurchaseChangeOfJourneyRequest</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerId</span><span class="highlight-xml-bracket">&gt;</span>81<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CustomerId</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TotalRailProductsValue</span><span class="highlight-xml-bracket">&gt;</span>6600<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TotalRailProductsValue</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OriginalJourneys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OutboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>21SFK5EVLP<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyNumber</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketNumbers</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketNumber</span><span class="highlight-xml-bracket">&gt;</span>2695<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketNumbers</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OutboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:InboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>21SFK5EVLP<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyNumber</span><span class="highlight-xml-bracket">&gt;</span>2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketNumbers</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketNumber</span><span class="highlight-xml-bracket">&gt;</span>2697<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketNumbers</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:InboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OriginalJourneys</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TargetedJourneys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TargetedOutboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ItemNumber</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ItemNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Journey</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OutboundSignature</span><span class="highlight-xml-bracket">&gt;</span>V2|KGX|EDB|211107|1400|211107|1818|TRIP|KGX|EDB|211107|1400|211107|1818|GR6421|GR<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OutboundSignature</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Journey</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:DateOfTravel</span><span class="highlight-xml-bracket">&gt;</span>2021-11-07T13:45:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:DateOfTravel</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ReservationBookingReference</span><span class="highlight-xml-bracket">&gt;</span>BS500027<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ReservationBookingReference</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareInfo</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>BTS|IEC|00430|GC|6121|9328<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UtsZone</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UtsZone</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Category</span><span class="highlight-xml-bracket">&gt;</span>Advance<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Category</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareSource</span><span class="highlight-xml-bracket">&gt;</span>O<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareSource</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneySegmentCode</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsQuotaControlled</span><span class="highlight-xml-bracket">&gt;</span>No<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsQuotaControlled</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareType</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IndividualPassengerFares</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IndividualPassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerType</span><span class="highlight-xml-bracket">&gt;</span>Adult<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerType</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Fare</span><span class="highlight-xml-bracket">&gt;</span>6200<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Fare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerTitle</span><span class="highlight-xml-bracket">&gt;</span>Mr<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerTitle</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerFirstName</span><span class="highlight-xml-bracket">&gt;</span>John<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerFirstName</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerSurname</span><span class="highlight-xml-bracket">&gt;</span>Travolta<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerSurname</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IndividualPassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IndividualPassengerFares</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareInfo</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TotalFare</span><span class="highlight-xml-bracket">&gt;</span>6200<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TotalFare</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsUpgrade</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsUpgrade</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsEligibleForLoyalty</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsEligibleForLoyalty</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TargetedOutboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TargetedInboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ItemNumber</span><span class="highlight-xml-bracket">&gt;</span>2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ItemNumber</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Journey</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OutboundSignature</span><span class="highlight-xml-bracket">&gt;</span>V2|KGX|EDB|211113|1300|211113|1739|TRIP|EDB|KGX|211113|1300|211113|1739|GR5487|GR<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OutboundSignature</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Journey</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:DateOfTravel</span><span class="highlight-xml-bracket">&gt;</span>2021-11-06T13:00:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:DateOfTravel</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ReservationBookingReference</span><span class="highlight-xml-bracket">&gt;</span>BS500028<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ReservationBookingReference</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareInfo</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>BUS|IEC|00430|GC|9328|6121<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareSignature</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UtsZone</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UtsZone</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Category</span><span class="highlight-xml-bracket">&gt;</span>Advance<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Category</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareSource</span><span class="highlight-xml-bracket">&gt;</span>I<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareSource</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TicketInfo</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CanCrossLondon</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneySegmentCode</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsOnlyAnyPermitted</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsQuotaControlled</span><span class="highlight-xml-bracket">&gt;</span>No<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsQuotaControlled</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FareType</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
                  <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IndividualPassengerFares</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
                     <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IndividualPassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerStatus</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerType</span><span class="highlight-xml-bracket">&gt;</span>Adult<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerType</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Fare</span><span class="highlight-xml-bracket">&gt;</span>7600<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Fare</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerTitle</span><span class="highlight-xml-bracket">&gt;</span>Mr<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerTitle</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerFirstName</span><span class="highlight-xml-bracket">&gt;</span>John<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerFirstName</span><span class="highlight-xml-bracket">&gt;</span>
                        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
                        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PassengerSurname</span><span class="highlight-xml-bracket">&gt;</span>Travolta<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PassengerSurname</span><span class="highlight-xml-bracket">&gt;</span>
                     <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IndividualPassengerFare</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IndividualPassengerFares</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FareInfo</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TotalFare</span><span class="highlight-xml-bracket">&gt;</span>7600<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TotalFare</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsUpgrade</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsUpgrade</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:IsEligibleForLoyalty</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:IsEligibleForLoyalty</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TargetedInboundJourney</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TargetedJourneys</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>Eticket<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:DeliveryAddressId</span><span class="highlight-xml-bracket">&gt;</span>81<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:DeliveryAddressId</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OtherChargesDetails</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TotalValueOtherCharges</span><span class="highlight-xml-bracket">&gt;</span>400<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TotalValueOtherCharges</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OtherCharges</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OtherCharge</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ChargeType</span><span class="highlight-xml-bracket">&gt;</span>96876<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ChargeType</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ChargeValue</span><span class="highlight-xml-bracket">&gt;</span>400<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ChargeValue</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OtherCharge</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OtherCharges</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OtherChargesDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PurchaseChangeOfJourneyRequest</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBA_tab1" class="codeSnippetContainerTabSingle">Example PurchaseChangeOfJourney Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>499<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>157<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>6.8<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>1.5<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PurchaseChangeOfJourneyResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>17SFNH1SDP<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TotalChangeOfJourneyValue</span><span class="highlight-xml-bracket">&gt;</span>1000<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TotalChangeOfJourneyValue</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">AdditionalChargesWaived</span><span class="highlight-xml-bracket">&gt;</span>false<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">AdditionalChargesWaived</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PurchaseChangeOfJourneyResponse</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBA");</script></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Revision History</span></div><div id="ID4RBSection" class="collapsibleSection"><table><tr><th>Date</th><th>Version</th><th>Description</th></tr><tr><td>17/01/2019</td><td>0.1</td><td>FEWS 6.8 Purchase COJ</td></tr><tr><td>13/08/2020</td><td>0.2</td><td>CashbackPreference replaced with CashbackCharityId. Added validation of total value of other charges.</td></tr><tr><td>25/01/2021</td><td>0.3</td><td>Added change of journey validation to Ftot and admin fees.</td></tr><tr><td>04/02/2021</td><td>0.4</td><td>PassengerGroupFare changed to SmallGroupFares to support discount of group tickets by Railcards.</td></tr><tr><td>22/02/2021</td><td>0.5</td><td>Added validation of all ticket numbers required in request from original journey.</td></tr><tr><td>11/03/2021</td><td>0.6</td><td>Added validation for the mandatory reservation.</td></tr><tr><td>05/02/2021</td><td>0.7</td><td>Remove access to smartcard details from existing customer account FEWS methods.</td></tr><tr><td>27/04/2021</td><td>0.8</td><td>Added new optional 'WaiveAdditionalCharges' flag to the request.</td></tr><tr><td>18/06/2021</td><td>0.9</td><td>Removed the requirement for both original and target journey to have LNER as the primary TOC provider.</td></tr><tr><td>23/09/2021</td><td>1.0</td><td>Reworked validation of refunded tickets.</td></tr><tr><td>05/11/2021</td><td>1.1</td><td>Added handling of 2 basket items (paired with OutboundInbound pairing type).</td></tr><tr><td>24/11/2021</td><td>1.2</td><td>Added validation attribute to TransactionNumber property in request.</td></tr><tr><td>26/11/2021</td><td>1.3</td><td>Added AdditionalChargesWaived flag to response.</td></tr><tr><td>09/12/2021</td><td>1.4</td><td>Added validation for coj customer and original transaction customer.</td></tr><tr><td>17/01/2022</td><td>1.5</td><td>Added assumption that eVouchers cannot be used for AdminFee paymnent.</td></tr></table></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="dbe63916-3728-a5c7-9333-dd7d99c307bd.htm">CbeWebService Class</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>