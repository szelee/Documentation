<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeWebService Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="CbeWebService class" /><meta name="System.Keywords" content="Vix.Cbe.WebService.CbeWebService class" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeWebService" /><meta name="Microsoft.Help.Id" content="T:Vix.Cbe.WebService.CbeWebService" /><meta name="Description" content="Provides methods to interact with the CBE for Web retail channel." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="dbe63916-3728-a5c7-9333-dd7d99c307bd" /><meta name="guid" content="dbe63916-3728-a5c7-9333-dd7d99c307bd" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/dbe63916-3728-a5c7-9333-dd7d99c307bd.htm" title="CbeWebService Class" tocid="dbe63916-3728-a5c7-9333-dd7d99c307bd">CbeWebService Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2cb2a3d0-9cc7-83fd-80b0-075492ce90a1.htm" title="CbeWebService Constructor " tocid="2cb2a3d0-9cc7-83fd-80b0-075492ce90a1">CbeWebService Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/79896919-9212-d834-bb9f-034a8b293c03.htm" title="CbeWebService Methods" tocid="79896919-9212-d834-bb9f-034a8b293c03">CbeWebService Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeWebService Class</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Provides methods to interact with the CBE for Web retail channel.
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST2F22986F_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2F22986F_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="selflink">Vix.Cbe.WebService<span id="LST2F22986F_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2F22986F_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CbeWebService</span><br /></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EACA');return false;" title="Copy">Copy</a></div></div><div id="ID1EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">ServiceBehaviorAttribute</span>(Namespace = "http://vixtechnology.com/cbe/2012-05-29")]
[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Endpoint.V7", 
	"Web")]
<span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">CbeWebService</span> : <span class="identifier">ICbeWebService</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EACA");</script></div><p>The <span class="selflink">CbeWebService</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID3RBSection" class="collapsibleSection"><table class="members" id="constructorList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="2cb2a3d0-9cc7-83fd-80b0-075492ce90a1.htm">CbeWebService</a></td><td><div class="summary">Initializes a new instance of the <span class="selflink">CbeWebService</span> class</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID4RBSection" class="collapsibleSection"><table class="members" id="methodList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5e3aa0da-c2cb-4059-d631-61b7ace9e210.htm">AddJourneyToFavourites</a></td><td><div class="summary">
            This case supports the addition of one or more journey to the list of favourite journeys held in the customer account.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="34d7f448-41a4-9633-668f-45cc8ab9baff.htm">AddUpdateCustomerPhotocard</a></td><td><div class="summary">
            This FEWS triggers a creation or an update of a photocard record for the customer.
            If photocard ID is provided, already existing photocard is updated using the details in the request.
            If photocard ID is not provided, a new customer photocard is created using the details in the request.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="fe53d4b4-5d18-a895-822c-e84af19f3cba.htm">AddUpdatePassengerAssistanceDetails</a></td><td><div class="summary">
            Adds or updates the update passenger assistance details.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="bb0efcb4-605d-2ad1-d791-ac1148d977a7.htm">AddUpdateSmartcard</a></td><td><div class="summary">
            This FEWS triggers a creation or an update of a smartcard record for the customer.
            If smartcard ID is provided, already existing smartcard is updated using the details in the request.
            If smartcard ID is not missing, a new customer smartcard is created using the details in the request.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8fd64612-4084-58f5-78bb-a0bd7ddf73c6.htm">AddUpdateTokenisedPaymentCard</a></td><td><div class="summary">
            This case adds or updates tokenised payment card details on an existing Customer Account in the CBE database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0691a6a3-cee2-6282-bcd5-17fd1dc6a9b4.htm">AmendReservation</a></td><td><div class="summary"><p>
               This FEWS allows a passenger to amend an existing reservation either before the sale is completed or afterwards.
            </p><p /><p>
               The existing reserved seats may be selectively changed by seat picks or by seat preferences. Advance tickets may only be changed by the TOC running the train and cannot be changed to a different train.
            </p><p>
               Flexible tickets may be changed to different seats on the same train, or to a different train on the same day.For changing to a different train it is assumed that the FEA will perform journey planning (FEWS 2.1) to check trains for which the chosen ticket type is valid.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="255c6b3b-d8bb-dc1b-6484-8b751b1f5ad6.htm">AssignTransactionCashback</a></td><td><div class="summary">
            This FEWS allows to change the destination of cashback for an existing transaction which is eligible for cashback.
            It allows for cashback to be kept by the customer or sent to a charity specified by the customer,
            providing the cashback request is made within a defined window following the purchase.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="7921a6e1-abe7-0747-935e-9f6d678d51f5.htm">CalculateEVoucherSpend</a></td><td><div class="summary"><p>This API receives a set of basket journey items and applicable eVouchers that the customer has opted to use against the basket items as a method of payment for the full cost or part of the cost.</p><p>The eVouchers are allocated against each basket item until all eVouchers are spent or all basket items have been covered. One or more eVouchers may be used against a basket item. Equally an eVoucher may be part-used.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="4cee68ee-6945-9aeb-c2b8-f2454ef2a496.htm">CancelReservation</a></td><td><div class="summary">
            This call triggers a cancel reservation request to NRS for all previously booked reservable items included in an NRS booking reference and also for reservations removed from a basket before a sale is completed.   The FEWS supports Call Centre and Ticket Office retail channels only and be used in a variety of use cases not already covered by existing functionality.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="6dd1df64-53da-cff2-e289-305fc56f8bd6.htm">ClaimGiftEVouchers</a></td><td><div class="summary">
            This API allows the customer (a recipient) to claim a gift e-voucher that has previously been purchased by another customer. The customer needs to be a registered customer before the gift e-voucher can be added to their account by the CBE and will subsequently be available to view using a new FEWS.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="bd241bf0-22ed-bcf9-1fd0-8ba53f75d2f4.htm">ConfirmThirdPartyAdditionToLoyalty</a></td><td><div class="summary">
            The purpose of this FEWS is to allow the Front-End Application (FEA) to confirm that a specified 3rd-party ticket UTN or CTR should be associated with the specified customer account in order to receive cashback reward via the LNER Loyalty Scheme.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a8e64a42-676d-e496-73ef-79eae0c8e01e.htm">CreateCustomerProfile</a></td><td><div class="summary">
            This case creates the customer account record in the CBE database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="c7233412-6847-716c-57d4-cce47247b369.htm">CreateCustomerProfileGuest</a></td><td><div class="summary">
            This case creates a guest account in the CBE database.For a full customer account see FEWS 4.0.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="4d74aeda-dbe5-5696-bf70-d2e87678dfcc.htm">CreateCustomerProfilePartial</a></td><td><div class="summary">
            This case supports the creation of a partial or skeleton Customer Account in the CBE database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f9f4a0f9-cbde-ca21-a7d7-a1fc863e89e0.htm">CreateReservationChange</a></td><td><div class="summary">
            This FEWS is intended purely for test use, and provides a mechanism to introduce changes to reservation bookings that will have an impact on customer seat and bike reservations.
            <p>Impact assessment performed by CBE to determine which customer reservation bookings are affected and whether they have been cancelled or changed.</p><p>Messaging published to the TT Horizon SNS topic. </p><p>Automatic updating of tickets for affected reservation itineraries.</p><p>Additional information exposed via FEWS 4.2 Get Sales History and FEWS 4.3.1 Get Sales Transaction Details regarding the impact on affected transactions.</p><p>Front-end application and 3rd-party handling of messaging and additional transaction information related to affected reservations.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f674e432-ae26-e940-ac4e-2f3328f8e5a5.htm">CreateTimetableChange</a></td><td><div class="summary">
            This FEWS is intended purely for test use, and provides a mechanism to introduce changes to the scheduled timetable that will have an impact on one or more customer journey transactions.
            <p>CBE will use the data provided in the request to populate a Timetable Alert Service(TAS) file and store it in S3 bucket in the same folder(TBC) as real TAS files generated by SilverRail.</p><p>Then TCAS and TCNS services are called and journeys are processed. CurrentVersion property from Timetable changes are set to - that version (e.g. from 5 to -5) so it can be traced better and not affect real TAS changes.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="63fa2926-afa9-d20c-433d-9927f8a7ea2b.htm">CustomerAccountVerification</a></td><td><div class="summary">
            The business has decided not to migrate the customer accounts from the existing VTEC website
            to CBE due to the technical challenges and therefore all customers will need to register new accounts on CBE.
            However, the CEM booking history will be available if the customer uses the same email address which
            they used on the old website, after a verification process.
            The verification process will be triggered when the customer clicks on the booking history for the first time
            and they have a matching email address on CEM. The website will call this FEWS to request an authentication
            token to be sent to their email address and ask them to verify their account by clicking on the link in the email.
            Once the verification completes, a flag will be set on their customer account that will allow them access to
            booking history and other secure areas of the website. The token that CBE will generate will follow the same
            process as the reset passcode token. This is only required by web and mobile retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="232b25cb-48e5-dd28-cb46-89144e13d09f.htm">CustomerChangePassword</a></td><td><div class="summary">
            This FEWS allows the customer to change their password. It is required for the front end
            to provide the customer ID and existing password, or valid password reset token credentials.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0ec24bae-81fe-9b42-e196-a2fd9658f050.htm">DeleteCustomerPhotocard</a></td><td><div class="summary">
            This FEWS triggers a deletion of Customer photocard record for a specified photocard. Input must contain customer identifier and customer photocard identifier.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="31ef8bef-5105-f0cf-aebb-dd7872c1f7f2.htm">DeleteSmartcard</a></td><td><div class="summary">
            This call allows CBE customer account to delete his smartcard.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="27989709-d920-1103-5ca2-8cbdb838a935.htm">DeleteTokenisedPaymentCard</a></td><td><div class="summary">
            Deletes the tokenised payment card.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5bbf1c2d-c64b-8868-b60f-20c0812fee52.htm">GetBarcodeDetails</a></td><td><div class="summary">
            The purpose of this FEWS is to allow the Front-End Application to obtain the decoded content of a Type06 barcode, given the encoded barcoded string in the request.
            It can also, optionally, validate whether the barcoded ticket is eligible to receive cashback rewards if registered against a customer account that is subscribed to the LNER loyalty scheme.
            Type06 barcodes are expected to be encoded in accordance with RSPS3001 02-00.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="881a128f-5701-d557-4243-b28cd6f58c57.htm">GetBestFaresInformation</a></td><td><div class="summary">
            Gets the best fares information for specified journeys.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="c12caffb-561a-0c8b-e047-f7901890abb9.htm">GetCoachesInformation</a></td><td><div class="summary">
            This FEWS returns details of all the coaches available on a train (RSID) for a single journey leg from NRS.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="3732ba35-cede-40a0-a7f3-478dc743b83d.htm">GetCoachesSeatAvailability</a></td><td><div class="summary">
            This FEWS shall return all available seats for a maximum of 3 coaches for a train (RSID) associated with a journey leg. The FEWS shall request NRS and return the NRS response for available seats.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ff677e61-fe72-828b-90f5-d8e80661b9e7.htm">GetCompensationList</a></td><td><div class="summary">
            The purpose of this FEWS is to return details of each compensation payment as requested either by collection of Compensation Numbers or collection of Customer IDs or their combination. Response can additionally be filtered by compensation status and date range.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ec25725f-f524-4b83-be49-c56488a2560a.htm">GetCtrDetails</a></td><td><div class="summary">
            The purpose of this FEWS is to provide the Front-End Application (FEA) with the ability to recall a previously purchased ToD ticket via a Transaction Reference(CTR Ref) and to validate that the ToD has not already been printed.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="57884511-f5dd-6174-794f-2f218d76f468.htm">GetCustomerAccountDetails</a></td><td><div class="summary">
            This case allows the customer to retrieve their account details in the CBE database from the Web and Mobile retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="32f221c3-a9a1-6a9d-22e2-5d8e4a2da388.htm">GetCustomerEVouchers</a></td><td><div class="summary"><p>
            This API allows a registered customer to view eVouchers that they have linked to their account. The output will include all eVouchers except those which have been voided.
            </p><p>
            The Output may be filtered by spendable, expired or sorted by date and value remaining. It may also be sorted by Expiry date and /or Remaining Balance.
            </p><p>
            The input will optionally include a Basket Item list, whereby the CBE will check the applicability of the eVouchers associated with the customer for spending against the items in the basket.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="8fe6e163-639b-e179-6086-e205699236b8.htm">GetCustomerKeyValuePairs</a></td><td><div class="summary">
            This case will Implement key-value pairs on customer account. When viewing a full customer account or a guest customer account, the CBE will return any name/value pairs stored against the customer record.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ac9aa5d2-1550-9a17-62eb-3859fd2ab8ed.htm">GetCustomerPhotocards</a></td><td><div class="summary">
            This call returns a collection of all active photocards registered to the customer account.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="cd66527d-587b-f75d-dd76-2be3de34879e.htm">GetCustomerSegment</a></td><td><div class="summary"><p>
            This FEWS is used by the FEA to determine the customer segment requesting access. The FEWS returns the Customer Segment Name and required credentials to access the sales offering.
            </p><p>
            Note: The user may or may not be an existing TOC customer.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0b0d82f6-b286-6068-438d-06236c3650cb.htm">GetETicketUrl</a></td><td><div class="summary">
            The purpose of this FEWS is to return the download link for electronic tickets e.g. eTicket.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="58e3d5a5-78f3-ba25-4e81-5d72a2ddca9f.htm">GetFaresInformation</a></td><td><div class="summary">
            This call returns timetable and fares information for services from IPTIS. The call will typically be repeated a number of times to include earlier and later timeband calls and other timetable and fares information requests.The output includes available Advance quota controlled fares where mandatory reservations are required and Accompanied fares where available.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="90ed0488-1298-e035-4931-3afb1545f90f.htm">GetGoldstarSeasonTickets</a></td><td><div class="summary">Return list of season ticket from Gold STAR.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="64473bbc-2477-7f58-cb67-83cc46234c23.htm">GetOptionalServices</a></td><td><div class="summary">
            Gets the optional services.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="e04cf826-6214-19bd-9d5f-d47f80a0aa77.htm">GetPassengerAssistanceDetails</a></td><td><div class="summary">
            Gets the passenger assistance details.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="e2d1710e-2566-e9e2-ce1e-81d1f8ba2825.htm">GetPresalesFulfilmentOptions</a></td><td><div class="summary">
            This call provides the fulfilment options and occurs after the customer has selected the service and fare that they wish to book with the CBE returning the list of available fulfilment options. The FEWS covers both point-to-point, season tickets, and parking tickets.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5081c9fe-f5d9-f95e-793b-8bd4a66bb011.htm">GetRefundList</a></td><td><div class="summary"><p>
                This FEWS supports the operator with suitable permissions for refund to retrieve the list of refunds
                from the database filtered by input parameters to get the associated detailed information in order
                to review the refunds (FEWS 9.2). It allows the operator to retrieve refunds by a designated Refund search criteria.
                <ol><li>refund state</li><li>refund number</li><li>operator</li><li>customer</li></ol>
                It also allows the Operator to select the page size and number of items on each page, to manage the potentially large output.
            </p><p>
                This call has been extended to allow web/mobile customers to use this call to check the status of their refunds.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="96ade62f-6816-2dd6-c57b-48a822bb53d9.htm">GetRefundList2</a></td><td><div class="summary"><p>This FEWS supports the operator with suitable permissions for refund to retrieve the list of refunds from the database filtered by input parameters to get the associated summary information in order to review the refunds (FEWS 9.2). It allows the operator to retrieve refunds by a designated Refund search criteria.</p><ul><li>Refund state</li><li>Refund sub-status</li><li>refund Number, or</li><li>by operator</li><li>by customer</li></ul><p>It also allows the Operator to select the page size and number of items on each page, to manage the potentially large output.</p><p>This call has been extended to allow web/mobile customers to use this call to check the status of their refunds.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="7cab8e64-1716-1469-0c19-e6bc7260eb28.htm">GetReservationAvailability</a></td><td><div class="summary">
            This call requests the available reservation options for a journey from NRS, which can then be offered to the customer, prior to a reservation booking request being made.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="9179f7ea-c307-1e06-1019-efee69516fa9.htm">GetRouteInformation</a></td><td><div class="summary">
            This is the initial journey query for route and timetable information. It will return the number of services available within a configurable timeband for the journey requested.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="516cd39f-15e5-47c1-ca94-173d44039c88.htm">GetSalesHistory</a></td><td><div class="summary">
            This request returns a summary list of customer sales transactions by purchase date or by journey departure date. The response includes summary information to allow identification of an individual sales transaction to support a detailed Sales History enquiry. (See FEWS 4.3.1).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="e921d2e1-4bd7-53e5-f62d-c1555c7611a3.htm">GetSalesTransactionDetails</a></td><td><div class="summary"><p>This is a request which will retrieve the details of a specific customer sales transaction. This call includes details for all purchased items in a single sales transaction including:</p><ul><li>Season and Point to Point tickets</li><li>Reissued season ticket</li><li>Car parking</li><li>Reservation purchases and details of these</li><li>eVouchers</li><li>Railcards</li><li>other associated items</li><li>payment details for the purchase</li><li>fulfilment status details</li></ul></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="caea0832-5573-2c62-494f-9a7ab3b90053.htm">GetSeasonTicketFares</a></td><td><div class="summary">
            Gets the season ticket fares.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="088ec29e-b246-e299-9ae6-1ef118c3471a.htm">GetSmartcardIpes</a></td><td><div class="summary">Gets the smartcard ipes.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="340956af-aee8-38b9-904a-df8143d00f60.htm">GetSmartcards</a></td><td><div class="summary">
            This call allows the details of smartcards associated with a CBE customer account to be retrieved.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ea928f7c-72d2-f860-9d27-b9468540c877.htm">GetStoppingPatterns</a></td><td><div class="summary">
            This is an information request; the call is required to retrieve details of stopping patterns
            from IPTIS for a chosen train service. The output lists all stops between a chosen origin and destination
            and the timing of these. This should be available to all retail channels.  The input of the call typically
            uses the required train service data returned from Journey Planning call 2 (FEWS 2.1).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5eeb6726-1473-bfaf-d9d9-6f890484023c.htm">GetTokenisedPaymentCards</a></td><td><div class="summary">
            Gets the tokenised payment cards.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5bc3911d-dcd7-c041-a289-4a0b5e58158e.htm">Heartbeat</a></td><td><div class="summary">
            This case allows the retail channels especially TVMs to verify the health of the CBE and subsequently use it to take the TVMs out of Service or bring them back into service.
            It will also apply to the web and mobile to indicate when the service is unavailable so that the FEA can display a suitable error message for the various failure cases.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="721ba3ed-317a-00ba-ff32-9206e2311243.htm">Login</a></td><td><div class="summary">
            This case describes the customer sign in or login process. This is required for a sale to complete, or to access the customer’s account or to use the customer’s favourite journey details This is only required by web and mobile retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="2ee37906-bfc8-ec25-1db0-bec3abfd8e8b.htm">MoveReservationBooking</a></td><td><div class="summary">
            This case allows the customer to request that a reservation booking made using a guest account be transferred to their (full) customer account. This arises where the customer ids are different for each account. This required for the web and mobile RCs.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="56af5009-2b76-1e1a-dda5-a4f8b7b98b7d.htm">PurchaseCancellation</a></td><td><div class="summary">
            This FEWS is to address the following scenario:
            1) The customer specifies a journey and makes 1 or more reservations.FEWS 6.1 purchase ticket has been successfully executed at this stage so a valid Sales Transaction exists on the CBE with status “AwaitingAuhorisation”.
            2) Before paying (i.e.before FEWS 6.2 purchase confirmation) the customer adds another journey(s) to the basket.When the extra journeys have been added the FEA then issues an amended FEWS 6.1 purchase ticket which includes the revised set of journeys.
            3) The CBE does not have any basket management logic so in this case we want to cancel the original purchase ticket transaction and this is what this FEWS does.
            4) The real problem comes with reservations. The customer may have made reservations prior to the first FEWS 6.1 purchase ticket. In this scenario, these reservations need to be kept rather than asking the customer to re-make reservations for a journey that in most cases will not be changed.
            The processing for this FEWS will disassociate these reservations from the original transaction so they can be re-attached to a new transaction.
            Any reservations not re-attached will be automatically cancelled by the CBE process that cancels un-attached reservations.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="bfc59a45-f62b-3a3b-387d-db0c5fcd01c9.htm">PurchaseChangeOfJourney</a></td><td><div class="summary"><p>This call is used by web, mobile and call centre retail channels. It is assumed that prior to calling this method, the client would have called the following FEWS methods:</p><ul><li>FEWS 4.3.1 Get Sales Transaction Details to obtain details of the original journey being changed.</li><li>FEWS 2.1 Get Fares Information to select the targeted journey.</li><li>FEWS 8.1 Reservation Booking to obtain any seat reservations required for the targeted journey.</li><li>FEWS 6.0 Get PreSales Fulfilment Options to verify that eTicket is a valid fulfilment option for the targeted journey.</li><li>FEWS 10.31 Get Change Of Journey Admin Fees to obtain the relevant admin fee.</li></ul><p>Puchase COJ  validates the sale of a change of journey prior to the payment and creates the sale transaction record. The sale is then put into a pending state awaiting payment confirmation, (FEWS 6.2).</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="73f5379c-3a82-1583-9879-20aaf5edac9e.htm">PurchaseConfirmation</a></td><td><div class="summary">
            This case completes the sale with the payment confirmation details for Point to Point, season tickets,
            railcard sales and Gift eVouchers. (Gift eVouchers are not mixed with other products in a sales
            transaction.) The FEWS provides all the remaining data for fulfilment activities and settlement and
            moves the sales transaction status from Awaiting authorization to Confirmed.
            The FEWS also supports purchase confirmation of a season ticket changeover done by rebook and
            refund.In this case a refund reference number is present in the input.
            This case also allows the FEA to request SMS messages of the itinerary of Point to Point journeys.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="7c9ce33b-dd80-5aa4-3fa5-cc1bd41ec0c7.htm">PurchaseGiftEVouchers</a></td><td><div class="summary"><p>This API allows the customer to purchase electronic gift vouchers, in the form of eVouchers for rail travel products from the CBE. The eVouchers are in set denominations determined by the TOC or may be for a different fixed amount defined by the customer.</p><p>For example,.</p><p>1) Customer can purchase in denominations £50 x 5, £10 x 20 eVouchers i.e. total 25 eVouchers.</p><p>OR.</p><p>2) Customer can purchase fixed amount of £75 x 1 voucher i.e 1 eVoucher.</p><p>OR.</p><p>3) Customer can purchase fixed amount of £75 x 1 voucher and denomination £50 x 2 vouchers i.e. 3 eVouchers.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f5514bd2-d7a5-ede9-6f30-386eeaffe630.htm">PurchaseReservation</a></td><td><div class="summary"><p>
                The purpose of this FEWS is to ‘purchase’ a reservation made with or without a ticket sale.
            </p><p><b>Ticket Office</b></p><p>
                This case arises when the customer has already purchased a ticket without a reservation and
                then requests one by means of FEWS 8.1. The ticket office application will make no attempt to
                identify the CBE transaction – indeed the reservation may be for a non-CBE ticket.There is no
                validation that the reservation made (via FEWS 8.1) is valid for the journey of the customer’s
                travel ticket
                The customer is required to produce their ticket as evidence of a purchase to avoid reservations
                being made without a valid travel ticket.
                It is up to the ticket office staff to ensure that a correct reservation is made.
            </p><p><b>Web, Mobile and Call-Centre</b></p><p>
                This is for adding reservations to existing CBE journey transactions only, or where a bike reservation
                is being associated with a journey transaction for which a seat reservation booking reference has already been associated with the transaction.
                It also allows reservations to be purchased for journeys which have not been booked through CBE.
            </p><p>
                For adding seat reservations to existing journey transactions the transaction needs to be identified by Transaction and Journey Number.
                This is to allow the CBE journey transaction to be updated correctly.
                It also allows a certain amount of validation to be performed that the reservations made are valid for the journey.
                The journey that the reservation is required for must be valid with the associated ticket purchased.
            </p><p>
                For adding bike reservations to a journey transaction which already has a seat reservation associated with it,
                the transaction number and item number of the journey transaction basket item should be provided.
                These will be used to associate the bike reservation transaction with the journey transaction via a ‘transaction pairing’.
            </p><p>
                For obtaining seat reservations to support journeys not booked through CBE, TransactionNumber and ItemNumber should not be populated.
            </p><p>
                The reservation is for either a seat (with seating preferences included), or for a bike.
                In both cases, for the Ticket Office the customer is required to produce their ticket as evidence of
                a purchase to avoid reservations being made without a valid travel ticket.
            </p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="01d83f5b-1134-5b3d-31d9-c7a5ee6fcef6.htm">PurchaseSeasonTicket</a></td><td><div class="summary"><p>This FEWS takes the data from FEWS 5.0 <a href="caea0832-5573-2c62-494f-9a7ab3b90053.htm">GetSeasonTicketFares(SeasonTicketFaresMessageRequestSpdAuthV1)</a> and validates the sale prior to payment authorisation and puts the sale into a pending state awaiting FEWS 6.2 payment confirmation. A season ticket request is made for one passenger only.</p><p>This version supports the phase 3 functionality for the purchase of a season ticket renewal with fulfilment by CCST or smart, both of which are solely Ticket Office functions.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="35e4dae7-4bd0-588b-16fa-cf1acd89dcd3.htm">PurchaseSmartcard</a></td><td><div class="summary"><p>This call is used by web, mobile and call centre retail channels. It allows a request for the creation of a new or replacement smartcard to be initiated.</p><p>Puchase Smartcard creates the sale transaction record. The sale is then put into a pending state awaiting payment confirmation, (FEWS 6.2).</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="7e188f66-2458-fa34-156a-fe5b4a33822c.htm">PurchaseTicket3</a></td><td><div class="summary">
            This call is used by all retail channels.
            It validates the sale prior to the payment and creates the sale transaction record.
            The sale is put into a pending state awaiting payment confirmation, (FEWS 6.2).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="d6da0a5f-47e0-3b1f-a52c-d1c4fd6513e1.htm">RedeemTravelPass</a></td><td><div class="summary"><p>This call allowing to redeem one day travel pass for flexi season ticket in his 28day period of validity based on parameters specified in the request:</p><p>  Customer id</p><p>  Flexi-Season transaction number against which the travel pass is being redeemed</p><p>  Required travel datetime</p><p>  Transaction numbers for any existing reservations that need to be paired with the travel pass</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="9a7cbc02-8112-4bdc-9c77-bccdbeca6005.htm">Refund</a></td><td><div class="summary"><p>Request a refund for a journey.</p><p>This case allows the customer to request, via the front end application, a refund for a journey previously booked. The request may be, for a refund for part of a journey, or a whole journey.</p><p>A refund request is generated and the sales transaction record is updated with the refund reference. A completed refund form is then generated by the FEA with details of the refund request pre-populated. The customer is required to print the form and attach tickets where collected, and post tickets and form to the refund administration centre for processing.</p><p>This FEWS also allows a customer support/refund operator to submit a refund where a paper refund application has been received which may or may not be is not on the designated refund form. (See assumption 1).</p><p>This FEWS has been updated for the ticket office and to allow delay repay season ticket refunds to be requested. In addition to season ticket refunds this FEWS has been extended to include refund of plusbus tickets associated with rail ticket refunds.</p><p>The FEWS also includes the ability to request a car parking refund.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="bde28301-dbee-241f-f590-56abb4a12a79.htm">RequestItinerary</a></td><td><div class="summary">
            Gets the itinerary details.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="42fa9d1f-692d-563d-9a88-78d4997f9da4.htm">ResendBookingConfirmation</a></td><td><div class="summary">
            This call allows front end to request the resending of booking confirmation email for a successfully
            completed sales transaction. For fulfilment to eTicket the request can specify specific
            ticket numbers to be added as attachments to the email. Request can also specify a list of email addresses
            to which the booking confirmation email should be sent.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0332a4eb-b55e-4fbc-e0c2-1de230b8f56d.htm">ReservationBooking</a></td><td><div class="summary">
            This call triggers a reservation request to NRS. Optionally, reservation request can contain additional reservable items - bike places, seating preferences or requirement for specific seat in the train. The FEWS supports, public facing, unattended TIS such as Web TVM or Mobile retail channels as well as attended TIS such as Call Centre or Ticket Office retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="33e8667e-cd9f-3357-ad17-87f9ffebaeea.htm">ReservationBooking2</a></td><td><div class="summary">
            This call triggers a reservation request to NRS. Optionally, reservation request can contain additional reservable items - bike places, seating preferences or requirement for specific seat in the train. The FEWS supports, public facing, unattended TIS such as Web TVM or Mobile retail channels as well as attended TIS such as Call Centre or Ticket Office retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1eb86d7c-263a-ec44-b74a-07d866d00251.htm">ResetPassword</a></td><td><div class="summary">
            This FEWS covers a “forgotten password”.
            With a “forgotten password” the customer requests a password reset.The CBE will generate an encrypted token and embed this as a query string in a URL specified by the FEA.  An e-mail will be sent to the customer asking them to click on the URL link to reset their password.
            This is only required by web and mobile retail channels.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="21129e43-b090-09aa-5b3d-0acab28174b8.htm">SalesOfferingAuthorisation</a></td><td><div class="summary">
            This FEWS provides a Sales offering Access authorisation (or “door keeper”) service for Promotions.
            The FEWS validates the Access information required for the Sales Offering, (Pin Number, email address, email Domain etc.)
            and then checks the availability(effective dates and Quotas) of the Sales Offering.The response will accept or reject the request for authorisation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="d012b078-3e1e-8cd1-5cff-375a34a098d1.htm">SalesTransactionStatusUpdate</a></td><td><div class="summary">
            This FEWS allows the FEA to notify the CBE the status of a sales transaction during the checkout and fraud screening process (which applies to card holder not present sales).
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="b5c96bf0-d246-0901-5eff-c530bba69248.htm">SetCustomerKeyValuePairs</a></td><td><div class="summary">
            This FEWS will implement key-value pairs on customer account.  When creating a full customer account or a guest customer account, the CBE will allow the front end to specify additional Key- value pairs to be stored on the customer record. The CBE will also allow the front end to add or remove Key value pairs to be stored on a customer record.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="68c6c90f-034d-2800-9b49-a7cf0d88f973.htm">SetSubscriberDetails</a></td><td><div class="summary">
            This case supports the creation and addition of subscriber emails to be held on the CBE database for marketing purposes.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a81faa63-ff16-3111-bacc-8e4e6a84c906.htm">UpdateAdrOptions</a></td><td><div class="summary">
            This FEWS method allows the customer to update his/her selected ADR options for a sales transaction after the sale is completed.
            These options are as follows:
            - Delay repay opt-out (T/F)
            - Donate ADR compensation to charity(T/F)
            It is expected that this method will only be called if the customer wishes to change pre-selected options provided in PurchaseTicket3 and PurchaseCOJ requests.
            It is also expected that the method will be called immediately after purchase confirmation, although there is no reason why it cannot be called any time up
            until departure of the first (earliest) journey in the transaction.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ba0221f0-a551-2cdf-379f-e4435d5f6fd3.htm">UpdateCustomerProfile</a></td><td><div class="summary">
            This case allows the customer to update their account details in the CBE database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="c2551d77-bbaf-4c3c-e108-e3751a0933c5.htm">UpdateCustomerProfileGuest</a></td><td><div class="summary">
            This case updates an existing guest account in the CBE database. For a full customer account see FEWS 4.0.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="1a3f95dd-f6a4-ba85-3994-d5b1447fcdb3.htm">UpdateLoyaltyCard</a></td><td><div class="summary">
            This case allows the customer to associate his/her loyalty card to a sales transaction after the sale is completed. The customer is allowed to do this only up to a certain time (as defined in the loyalty scheme) after the sale is completed.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="51f9967e-2559-35c2-3c34-5b2fd37a88d7.htm">ValidateCustomerPasswordResetToken</a></td><td><div class="summary"><p>This FEWS covers the validation of an encrypted password reset token.</p><p>When the token is provided by the front end application, the CBE will recreate the encrypted token from internally held data and compare it with what has been provided.  If the token has not expired and the comparison is successful, information related to the customer resetting their password will be returned to the FEA.</p><p>This is only required by web and mobile retail channels.</p></div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0cd8527e-5c04-d477-b012-44d81fd22f21.htm">VerifyCustomerToken</a></td><td><div class="summary"><p>The business has decided not to migrate the customer accounts from the existing VTEC website to CBE due to the technical challenges and therefore all customers will need to register new accounts on CBE.</p><p>However, the CEM booking history will be available if the customer uses the same email address which they used on the old website, after a verification process.</p><p>The verification process will be triggered when the customer clicks on the booking history for the first time and they have a matching email address on CEM. The website will call this FEWS to request an authentication token to be sent to their email address and ask them to verify their account by clicking on the link in the email. Once the verification completes, a flag will be set on their customer account that will allow them access to booking history and other secure areas of the website.</p><p>This FEWS will be called when the customer clicks the verification link in the email.</p><p>This is only required by web and mobile retail channels.</p></div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>