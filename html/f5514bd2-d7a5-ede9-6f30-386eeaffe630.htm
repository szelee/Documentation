<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeWebService.PurchaseReservation Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="PurchaseReservation method" /><meta name="System.Keywords" content="CbeWebService.PurchaseReservation method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeWebService.PurchaseReservation" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.CbeWebService.PurchaseReservation(Vix.Cbe.WebService.Contracts.SalesTransaction.PurchaseReservationMessageRequestSpdAuthV1)" /><meta name="Description" content="The purpose of this FEWS is to ‘purchase’ a reservation made with or without a ticket sale. Ticket Office This case arises when the customer has already purchased a ticket without a reservation and then requests one by means of FEWS 8.1." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="f5514bd2-d7a5-ede9-6f30-386eeaffe630" /><meta name="guid" content="f5514bd2-d7a5-ede9-6f30-386eeaffe630" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/dbe63916-3728-a5c7-9333-dd7d99c307bd.htm" title="CbeWebService Class" tocid="dbe63916-3728-a5c7-9333-dd7d99c307bd">CbeWebService Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/79896919-9212-d834-bb9f-034a8b293c03.htm" title="CbeWebService Methods" tocid="79896919-9212-d834-bb9f-034a8b293c03">CbeWebService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5e3aa0da-c2cb-4059-d631-61b7ace9e210.htm" title="AddJourneyToFavourites Method " tocid="5e3aa0da-c2cb-4059-d631-61b7ace9e210">AddJourneyToFavourites Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/34d7f448-41a4-9633-668f-45cc8ab9baff.htm" title="AddUpdateCustomerPhotocard Method " tocid="34d7f448-41a4-9633-668f-45cc8ab9baff">AddUpdateCustomerPhotocard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fe53d4b4-5d18-a895-822c-e84af19f3cba.htm" title="AddUpdatePassengerAssistanceDetails Method " tocid="fe53d4b4-5d18-a895-822c-e84af19f3cba">AddUpdatePassengerAssistanceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bb0efcb4-605d-2ad1-d791-ac1148d977a7.htm" title="AddUpdateSmartcard Method " tocid="bb0efcb4-605d-2ad1-d791-ac1148d977a7">AddUpdateSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8fd64612-4084-58f5-78bb-a0bd7ddf73c6.htm" title="AddUpdateTokenisedPaymentCard Method " tocid="8fd64612-4084-58f5-78bb-a0bd7ddf73c6">AddUpdateTokenisedPaymentCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0691a6a3-cee2-6282-bcd5-17fd1dc6a9b4.htm" title="AmendReservation Method " tocid="0691a6a3-cee2-6282-bcd5-17fd1dc6a9b4">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/255c6b3b-d8bb-dc1b-6484-8b751b1f5ad6.htm" title="AssignTransactionCashback Method " tocid="255c6b3b-d8bb-dc1b-6484-8b751b1f5ad6">AssignTransactionCashback Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7921a6e1-abe7-0747-935e-9f6d678d51f5.htm" title="CalculateEVoucherSpend Method " tocid="7921a6e1-abe7-0747-935e-9f6d678d51f5">CalculateEVoucherSpend Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4cee68ee-6945-9aeb-c2b8-f2454ef2a496.htm" title="CancelReservation Method " tocid="4cee68ee-6945-9aeb-c2b8-f2454ef2a496">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6dd1df64-53da-cff2-e289-305fc56f8bd6.htm" title="ClaimGiftEVouchers Method " tocid="6dd1df64-53da-cff2-e289-305fc56f8bd6">ClaimGiftEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bd241bf0-22ed-bcf9-1fd0-8ba53f75d2f4.htm" title="ConfirmThirdPartyAdditionToLoyalty Method " tocid="bd241bf0-22ed-bcf9-1fd0-8ba53f75d2f4">ConfirmThirdPartyAdditionToLoyalty Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a8e64a42-676d-e496-73ef-79eae0c8e01e.htm" title="CreateCustomerProfile Method " tocid="a8e64a42-676d-e496-73ef-79eae0c8e01e">CreateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7233412-6847-716c-57d4-cce47247b369.htm" title="CreateCustomerProfileGuest Method " tocid="c7233412-6847-716c-57d4-cce47247b369">CreateCustomerProfileGuest Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4d74aeda-dbe5-5696-bf70-d2e87678dfcc.htm" title="CreateCustomerProfilePartial Method " tocid="4d74aeda-dbe5-5696-bf70-d2e87678dfcc">CreateCustomerProfilePartial Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f9f4a0f9-cbde-ca21-a7d7-a1fc863e89e0.htm" title="CreateReservationChange Method " tocid="f9f4a0f9-cbde-ca21-a7d7-a1fc863e89e0">CreateReservationChange Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f674e432-ae26-e940-ac4e-2f3328f8e5a5.htm" title="CreateTimetableChange Method " tocid="f674e432-ae26-e940-ac4e-2f3328f8e5a5">CreateTimetableChange Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/63fa2926-afa9-d20c-433d-9927f8a7ea2b.htm" title="CustomerAccountVerification Method " tocid="63fa2926-afa9-d20c-433d-9927f8a7ea2b">CustomerAccountVerification Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/232b25cb-48e5-dd28-cb46-89144e13d09f.htm" title="CustomerChangePassword Method " tocid="232b25cb-48e5-dd28-cb46-89144e13d09f">CustomerChangePassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0ec24bae-81fe-9b42-e196-a2fd9658f050.htm" title="DeleteCustomerPhotocard Method " tocid="0ec24bae-81fe-9b42-e196-a2fd9658f050">DeleteCustomerPhotocard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/31ef8bef-5105-f0cf-aebb-dd7872c1f7f2.htm" title="DeleteSmartcard Method " tocid="31ef8bef-5105-f0cf-aebb-dd7872c1f7f2">DeleteSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/27989709-d920-1103-5ca2-8cbdb838a935.htm" title="DeleteTokenisedPaymentCard Method " tocid="27989709-d920-1103-5ca2-8cbdb838a935">DeleteTokenisedPaymentCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5bbf1c2d-c64b-8868-b60f-20c0812fee52.htm" title="GetBarcodeDetails Method " tocid="5bbf1c2d-c64b-8868-b60f-20c0812fee52">GetBarcodeDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/881a128f-5701-d557-4243-b28cd6f58c57.htm" title="GetBestFaresInformation Method " tocid="881a128f-5701-d557-4243-b28cd6f58c57">GetBestFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c12caffb-561a-0c8b-e047-f7901890abb9.htm" title="GetCoachesInformation Method " tocid="c12caffb-561a-0c8b-e047-f7901890abb9">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3732ba35-cede-40a0-a7f3-478dc743b83d.htm" title="GetCoachesSeatAvailability Method " tocid="3732ba35-cede-40a0-a7f3-478dc743b83d">GetCoachesSeatAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ff677e61-fe72-828b-90f5-d8e80661b9e7.htm" title="GetCompensationList Method " tocid="ff677e61-fe72-828b-90f5-d8e80661b9e7">GetCompensationList Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ec25725f-f524-4b83-be49-c56488a2560a.htm" title="GetCtrDetails Method " tocid="ec25725f-f524-4b83-be49-c56488a2560a">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/57884511-f5dd-6174-794f-2f218d76f468.htm" title="GetCustomerAccountDetails Method " tocid="57884511-f5dd-6174-794f-2f218d76f468">GetCustomerAccountDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/32f221c3-a9a1-6a9d-22e2-5d8e4a2da388.htm" title="GetCustomerEVouchers Method " tocid="32f221c3-a9a1-6a9d-22e2-5d8e4a2da388">GetCustomerEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8fe6e163-639b-e179-6086-e205699236b8.htm" title="GetCustomerKeyValuePairs Method " tocid="8fe6e163-639b-e179-6086-e205699236b8">GetCustomerKeyValuePairs Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ac9aa5d2-1550-9a17-62eb-3859fd2ab8ed.htm" title="GetCustomerPhotocards Method " tocid="ac9aa5d2-1550-9a17-62eb-3859fd2ab8ed">GetCustomerPhotocards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cd66527d-587b-f75d-dd76-2be3de34879e.htm" title="GetCustomerSegment Method " tocid="cd66527d-587b-f75d-dd76-2be3de34879e">GetCustomerSegment Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0b0d82f6-b286-6068-438d-06236c3650cb.htm" title="GetETicketUrl Method " tocid="0b0d82f6-b286-6068-438d-06236c3650cb">GetETicketUrl Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/58e3d5a5-78f3-ba25-4e81-5d72a2ddca9f.htm" title="GetFaresInformation Method " tocid="58e3d5a5-78f3-ba25-4e81-5d72a2ddca9f">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/90ed0488-1298-e035-4931-3afb1545f90f.htm" title="GetGoldstarSeasonTickets Method " tocid="90ed0488-1298-e035-4931-3afb1545f90f">GetGoldstarSeasonTickets Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/64473bbc-2477-7f58-cb67-83cc46234c23.htm" title="GetOptionalServices Method " tocid="64473bbc-2477-7f58-cb67-83cc46234c23">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e04cf826-6214-19bd-9d5f-d47f80a0aa77.htm" title="GetPassengerAssistanceDetails Method " tocid="e04cf826-6214-19bd-9d5f-d47f80a0aa77">GetPassengerAssistanceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e2d1710e-2566-e9e2-ce1e-81d1f8ba2825.htm" title="GetPresalesFulfilmentOptions Method " tocid="e2d1710e-2566-e9e2-ce1e-81d1f8ba2825">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5081c9fe-f5d9-f95e-793b-8bd4a66bb011.htm" title="GetRefundList Method " tocid="5081c9fe-f5d9-f95e-793b-8bd4a66bb011">GetRefundList Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/96ade62f-6816-2dd6-c57b-48a822bb53d9.htm" title="GetRefundList2 Method " tocid="96ade62f-6816-2dd6-c57b-48a822bb53d9">GetRefundList2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7cab8e64-1716-1469-0c19-e6bc7260eb28.htm" title="GetReservationAvailability Method " tocid="7cab8e64-1716-1469-0c19-e6bc7260eb28">GetReservationAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9179f7ea-c307-1e06-1019-efee69516fa9.htm" title="GetRouteInformation Method " tocid="9179f7ea-c307-1e06-1019-efee69516fa9">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/516cd39f-15e5-47c1-ca94-173d44039c88.htm" title="GetSalesHistory Method " tocid="516cd39f-15e5-47c1-ca94-173d44039c88">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e921d2e1-4bd7-53e5-f62d-c1555c7611a3.htm" title="GetSalesTransactionDetails Method " tocid="e921d2e1-4bd7-53e5-f62d-c1555c7611a3">GetSalesTransactionDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/caea0832-5573-2c62-494f-9a7ab3b90053.htm" title="GetSeasonTicketFares Method " tocid="caea0832-5573-2c62-494f-9a7ab3b90053">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/088ec29e-b246-e299-9ae6-1ef118c3471a.htm" title="GetSmartcardIpes Method " tocid="088ec29e-b246-e299-9ae6-1ef118c3471a">GetSmartcardIpes Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/340956af-aee8-38b9-904a-df8143d00f60.htm" title="GetSmartcards Method " tocid="340956af-aee8-38b9-904a-df8143d00f60">GetSmartcards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ea928f7c-72d2-f860-9d27-b9468540c877.htm" title="GetStoppingPatterns Method " tocid="ea928f7c-72d2-f860-9d27-b9468540c877">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5eeb6726-1473-bfaf-d9d9-6f890484023c.htm" title="GetTokenisedPaymentCards Method " tocid="5eeb6726-1473-bfaf-d9d9-6f890484023c">GetTokenisedPaymentCards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5bc3911d-dcd7-c041-a289-4a0b5e58158e.htm" title="Heartbeat Method " tocid="5bc3911d-dcd7-c041-a289-4a0b5e58158e">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/721ba3ed-317a-00ba-ff32-9206e2311243.htm" title="Login Method " tocid="721ba3ed-317a-00ba-ff32-9206e2311243">Login Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2ee37906-bfc8-ec25-1db0-bec3abfd8e8b.htm" title="MoveReservationBooking Method " tocid="2ee37906-bfc8-ec25-1db0-bec3abfd8e8b">MoveReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/56af5009-2b76-1e1a-dda5-a4f8b7b98b7d.htm" title="PurchaseCancellation Method " tocid="56af5009-2b76-1e1a-dda5-a4f8b7b98b7d">PurchaseCancellation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bfc59a45-f62b-3a3b-387d-db0c5fcd01c9.htm" title="PurchaseChangeOfJourney Method " tocid="bfc59a45-f62b-3a3b-387d-db0c5fcd01c9">PurchaseChangeOfJourney Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/73f5379c-3a82-1583-9879-20aaf5edac9e.htm" title="PurchaseConfirmation Method " tocid="73f5379c-3a82-1583-9879-20aaf5edac9e">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7c9ce33b-dd80-5aa4-3fa5-cc1bd41ec0c7.htm" title="PurchaseGiftEVouchers Method " tocid="7c9ce33b-dd80-5aa4-3fa5-cc1bd41ec0c7">PurchaseGiftEVouchers Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/f5514bd2-d7a5-ede9-6f30-386eeaffe630.htm" title="PurchaseReservation Method " tocid="f5514bd2-d7a5-ede9-6f30-386eeaffe630">PurchaseReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/01d83f5b-1134-5b3d-31d9-c7a5ee6fcef6.htm" title="PurchaseSeasonTicket Method " tocid="01d83f5b-1134-5b3d-31d9-c7a5ee6fcef6">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/35e4dae7-4bd0-588b-16fa-cf1acd89dcd3.htm" title="PurchaseSmartcard Method " tocid="35e4dae7-4bd0-588b-16fa-cf1acd89dcd3">PurchaseSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7e188f66-2458-fa34-156a-fe5b4a33822c.htm" title="PurchaseTicket3 Method " tocid="7e188f66-2458-fa34-156a-fe5b4a33822c">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d6da0a5f-47e0-3b1f-a52c-d1c4fd6513e1.htm" title="RedeemTravelPass Method " tocid="d6da0a5f-47e0-3b1f-a52c-d1c4fd6513e1">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9a7cbc02-8112-4bdc-9c77-bccdbeca6005.htm" title="Refund Method " tocid="9a7cbc02-8112-4bdc-9c77-bccdbeca6005">Refund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bde28301-dbee-241f-f590-56abb4a12a79.htm" title="RequestItinerary Method " tocid="bde28301-dbee-241f-f590-56abb4a12a79">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/42fa9d1f-692d-563d-9a88-78d4997f9da4.htm" title="ResendBookingConfirmation Method " tocid="42fa9d1f-692d-563d-9a88-78d4997f9da4">ResendBookingConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0332a4eb-b55e-4fbc-e0c2-1de230b8f56d.htm" title="ReservationBooking Method " tocid="0332a4eb-b55e-4fbc-e0c2-1de230b8f56d">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/33e8667e-cd9f-3357-ad17-87f9ffebaeea.htm" title="ReservationBooking2 Method " tocid="33e8667e-cd9f-3357-ad17-87f9ffebaeea">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1eb86d7c-263a-ec44-b74a-07d866d00251.htm" title="ResetPassword Method " tocid="1eb86d7c-263a-ec44-b74a-07d866d00251">ResetPassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/21129e43-b090-09aa-5b3d-0acab28174b8.htm" title="SalesOfferingAuthorisation Method " tocid="21129e43-b090-09aa-5b3d-0acab28174b8">SalesOfferingAuthorisation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d012b078-3e1e-8cd1-5cff-375a34a098d1.htm" title="SalesTransactionStatusUpdate Method " tocid="d012b078-3e1e-8cd1-5cff-375a34a098d1">SalesTransactionStatusUpdate Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/b5c96bf0-d246-0901-5eff-c530bba69248.htm" title="SetCustomerKeyValuePairs Method " tocid="b5c96bf0-d246-0901-5eff-c530bba69248">SetCustomerKeyValuePairs Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/68c6c90f-034d-2800-9b49-a7cf0d88f973.htm" title="SetSubscriberDetails Method " tocid="68c6c90f-034d-2800-9b49-a7cf0d88f973">SetSubscriberDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a81faa63-ff16-3111-bacc-8e4e6a84c906.htm" title="UpdateAdrOptions Method " tocid="a81faa63-ff16-3111-bacc-8e4e6a84c906">UpdateAdrOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ba0221f0-a551-2cdf-379f-e4435d5f6fd3.htm" title="UpdateCustomerProfile Method " tocid="ba0221f0-a551-2cdf-379f-e4435d5f6fd3">UpdateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c2551d77-bbaf-4c3c-e108-e3751a0933c5.htm" title="UpdateCustomerProfileGuest Method " tocid="c2551d77-bbaf-4c3c-e108-e3751a0933c5">UpdateCustomerProfileGuest Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1a3f95dd-f6a4-ba85-3994-d5b1447fcdb3.htm" title="UpdateLoyaltyCard Method " tocid="1a3f95dd-f6a4-ba85-3994-d5b1447fcdb3">UpdateLoyaltyCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/51f9967e-2559-35c2-3c34-5b2fd37a88d7.htm" title="ValidateCustomerPasswordResetToken Method " tocid="51f9967e-2559-35c2-3c34-5b2fd37a88d7">ValidateCustomerPasswordResetToken Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0cd8527e-5c04-d477-b012-44d81fd22f21.htm" title="VerifyCustomerToken Method " tocid="0cd8527e-5c04-d477-b012-44d81fd22f21">VerifyCustomerToken Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeWebService<span id="LSTC48AA3A6_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTC48AA3A6_0?cpp=::|nu=.");</script>PurchaseReservation Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary"><p>
                The purpose of this FEWS is to ‘purchase’ a reservation made with or without a ticket sale.
            </p><p><b>Ticket Office</b></p><p>
                This case arises when the customer has already purchased a ticket without a reservation and
                then requests one by means of FEWS 8.1. The ticket office application will make no attempt to
                identify the CBE transaction – indeed the reservation may be for a non-CBE ticket.There is no
                validation that the reservation made (via FEWS 8.1) is valid for the journey of the customer’s
                travel ticket
                The customer is required to produce their ticket as evidence of a purchase to avoid reservations
                being made without a valid travel ticket.
                It is up to the ticket office staff to ensure that a correct reservation is made.
            </p><p><b>Web, Mobile and Call-Centre</b></p><p>
                This is for adding reservations to existing CBE journey transactions only, or where a bike reservation
                is being associated with a journey transaction for which a seat reservation booking reference has already been associated with the transaction.
                It also allows reservations to be purchased for journeys which have not been booked through CBE.
            </p><p>
                For adding seat reservations to existing journey transactions the transaction needs to be identified by Transaction and Journey Number.
                This is to allow the CBE journey transaction to be updated correctly.
                It also allows a certain amount of validation to be performed that the reservations made are valid for the journey.
                The journey that the reservation is required for must be valid with the associated ticket purchased.
            </p><p>
                For adding bike reservations to a journey transaction which already has a seat reservation associated with it,
                the transaction number and item number of the journey transaction basket item should be provided.
                These will be used to associate the bike reservation transaction with the journey transaction via a ‘transaction pairing’.
            </p><p>
                For obtaining seat reservations to support journeys not booked through CBE, TransactionNumber and ItemNumber should not be populated.
            </p><p>
                The reservation is for either a seat (with seating preferences included), or for a bike.
                In both cases, for the Ticket Office the customer is required to produce their ticket as evidence of
                a purchase to avoid reservations being made without a valid travel ticket.
            </p></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Operation.V7", 
	"Web-PurchaseReservation", Target = <span class="identifier">CbeActivity</span>.PurchaseReservation)]
<span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">PurchaseReservationMessageResponseV1</span>&gt; <span class="identifier">PurchaseReservation</span>(
	<span class="identifier">PurchaseReservationMessageRequestSpdAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="b592e326-6511-b9f9-aefb-4016702ee936.htm">Vix.Cbe.WebService.Contracts.SalesTransaction<span id="LSTC48AA3A6_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTC48AA3A6_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PurchaseReservationMessageRequestSpdAuthV1</a><br />The request.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LSTC48AA3A6_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTC48AA3A6_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="9ee2ccc0-c10d-6481-843f-776e2c20e985.htm">PurchaseReservationMessageResponseV1</a><span id="LSTC48AA3A6_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTC48AA3A6_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />Purchase reservation response wrapped in a response message contract.<h4 class="subHeading">Implements</h4><a href="39178905-b08a-9400-60a4-b75f5ad6740d.htm">ICbeWebService<span id="LSTC48AA3A6_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTC48AA3A6_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PurchaseReservation(PurchaseReservationMessageRequestSpdAuthV1)</a><br /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>BACKGROUND</b></p><p>
      The purpose of this FEWS is to purchase’ a reservation made after a ticket sale for a journey has already been completed. The call can only be done at attended TIS (i.e. ticket office Call-Centre retail channels).
    </p><p><b>BUSINESS PROCESS CONTEXT</b></p><p>
      The diagram below shows the context of where in the ticket purchase process this FEWS call occurs.
    </p><img src="\Content\FEWS 6.3 Purchase Reservation\Context.jpg" /><p><b>PROCESS DIAGRAM</b></p><img src="\Content\FEWS 6.3 Purchase Reservation\ProcessDiagram.jpg" /><p><b>PROCESS DESCRIPTION</b></p><p>
      The purpose of this FEWS is to ‘purchase’ a reservation made without a ticket sale. This case arises when the customer has already purchased a ticket without a reservation and then requests one by means of FEWS 8.2. The reservation is for either a seat (with seating preferences included), or for a bike). In both cases the customer is required to produce their ticket as evidence of a purchase to avoid reservations being made without a valid travel ticket.  This request is only supported by the Ticket Office and telesales (Cal centre) retail channel.
    </p><p>
      The customer id included in the input is the virtual customer id used by the ticket office, there is no requirement to match this to the customer name if it is provided. The customer may not and need not be registered on the CBE database.
    </p><p>
      When this request is followed by FEWS 6.2, (post sale reservations are have zero payments currently); this will trigger the creation of a print message for a G format coupon by the CBE. The print message will include the reservation details data  - either ‘Seat Reservation’ or ‘Cycle Reservation’, depending on the type of reservation being purchased in this call.  The output to this call is a sales transaction reference for the record which is created in the CBE.
    </p><p><b>ASSUMPTIONS</b></p><p><ol><li>
          It is assumed that, for the Ticket Office, reservations can be made with reference to any travel ticket regardless of who sold it.
        </li><li>
          For Web, Mobile and Call-Centre we only process existing CBE Transactions. The journey to which the reservation(s) apply are identified by Transaction Number and Item Number.
        </li><li>
          For Ticket Office the Reservations will not be associated to a CBE Transaction Number.
        </li><li>
          For Web, Mobile and Call-Centre the Journey Number will be used to find the Journey within the Transaction Number and hence the FTOT that applies to the journey.
        </li></ol></p><p><b>VALIDATIONS</b></p><p><b>Parameter validation:</b><ol><li>All mandatory fields are present.</li><li>Customer name length must not exceed 100 characters.</li><li>Whenever Transaction Number is provided, ItemNumber must be present as well.</li></ol><b>Business validation:</b><ol><li>Sales point details exist or User credentials are valid.</li><li>Customer ID exists in CBE.</li><li>Reservation booking reference exists in CBE (Web, Mobile and Call-Centre only).</li><li>Fulfilment method and details exists in CBE and is valid for the retail channel.</li><li>If Supplement Details present then supplement code and fare should exist.</li><li>Ticket numbers are in correct format (but only present for Ticket Office).</li><li>FTOT is valid ticket type code (but only present for Ticket Office).</li><li>The number of tickets must equal the number of places reserved (Ticket Office only).</li><li>
              The Transaction Number and ItemNumber for the journey transaction must be specified for Web, Mobile or Call-Centre
              if the journey transaction does not already have a reservation booking reference associated with it, or if a bike reservation is being added.
              A transaction number should not be specified when purchasing a standalone seat reservation to support a 3rd party journey ticket.
            </li><li>The Transaction Number must NOT be specified for Ticket Office.</li><li>For Web, Mobile and Call-Centre the Transaction Number (if specified) must belong to the Customer ID.</li><li>For Web, Mobile and Call-Centre the Item Number must belong to the Transaction Number.</li><li>
              For Web, Mobile and Call-Centre the Ticket Type identified by the Transaction Number and the Item Number
              must be compatible with the NRS booking in the case where a seat reservation is being added to a journey transaction.
              The Journey has been identified and this contains VALID_FROM and VALID_TO.
              Check that the reservations in the NRS booking have dates between these 2 dates.
            </li><li>
              For Web, Mobile and Call-Centre check that the journey details in the sales transaction are compatible with the reservation details namely
              <ul><li>origin and destination should match or match any leg within the journey</li><li>the route code should match</li><li>the datetime of reservation should be within the period of validity of the ticket: start date &lt; datetime &lt; (start date + PoV)</li></ul></li><li>
              For Web, Mobile and Call-Centre check that in case of bike reservation a transaction pairing record for the combination
              of Sales Transaction and ItemNumber from the request does not already exist.
            </li><li>
				Validate flexi pass and season ticket to avoid purchasing reservation on incorrect route.
			</li></ol></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABABBA_tab1" class="codeSnippetContainerTabSingle">Example PurchaseReservation Request</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>9999<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>0003<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PurchaseReservationRequest</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerId</span><span class="highlight-xml-bracket">&gt;</span>61<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CustomerId</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ItemNumber</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ItemNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>17SMIH2YVE<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ReservationBookingReference</span><span class="highlight-xml-bracket">&gt;</span>BC660243<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ReservationBookingReference</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>

      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Journey</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ReturnSignature</span><span class="highlight-xml-bracket">&gt;</span>170819|1424|170819|1844|TRIP|CTL|YRK|170819|1424|170819|1444|NT8406|NT|TRIP|YRK|NCL|170819|1456|170819|1552|GR6367|GR|TRIP|NCL|CAR|170819|1622|170819|1800|NT5516|NT|TRIP|CAR|PNR|170819|1830|170819|1844|TP8249|TP<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ReturnSignature</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Journey</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Ftot</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Price</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Price</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerName</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>

      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>TicketOnDeparture<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FulfilmentMethod</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:DeliveryAddressId</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>

        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CollectionLocation</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>

        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CtrReference</span> <span class="highlight-xml-attribute-name">xsi:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">/&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>

        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FulfilmentCharge</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>

      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:FulfilmentDetails</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PurchaseReservationRequest</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBA_tab1" class="codeSnippetContainerTabSingle">Example PurchaseReservation Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>2708<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>57<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>6.3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>6.4<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PurchaseReservationResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>17SZIH8SFP<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PurchaseReservationResponse</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBA");</script></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Revision History</span></div><div id="ID4RBSection" class="collapsibleSection"><table><tr><th>Date</th><th>Version</th><th>Description</th></tr><tr><td>27/07/2018</td><td>6.0</td><td>FEWS 6.3 Purchase Reservation</td></tr><tr><td>21/10/2019</td><td>6.1</td><td>Relaxed validation for Web and Call-Centre to allow bike reservation to be purchased without the need to associate with an existing sales transaction</td></tr><tr><td>09/06/2020</td><td>6.2</td><td>Added customer name field validation</td></tr><tr><td>01/10/2020</td><td>6.3</td><td><ul><li>Added the linking of bike reservations via transaction pairings, and support for standalone reservations for 3rd-party journey tickets.</li><li>Added missing Mobile retail channel.</li></ul></td></tr><tr><td>06/02/2021</td><td>6.4</td><td>Remove access to smartcard details from existing customer account FEWS methods.</td></tr><tr><td>03/05/2021</td><td>6.5</td><td>Created validation for flexi pass and season ticket to check if reservation is done on correct route.</td></tr></table></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="dbe63916-3728-a5c7-9333-dd7d99c307bd.htm">CbeWebService Class</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>