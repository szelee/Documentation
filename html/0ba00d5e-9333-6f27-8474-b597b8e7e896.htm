<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeTvmService.UpdateLoyaltyCard Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="UpdateLoyaltyCard method" /><meta name="System.Keywords" content="CbeTvmService.UpdateLoyaltyCard method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeTvmService.UpdateLoyaltyCard" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.CbeTvmService.UpdateLoyaltyCard(Vix.Cbe.WebService.Contracts.SalesTransaction.UpdateLoyaltyCardMessageRequestSpdAuthV1)" /><meta name="Description" content="This case allows the customer to associate his/her loyalty card to a sales transaction after the sale is completed. The customer is allowed to do this only up to a certain time (as defined in the loyalty scheme) after the sale is completed." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="0ba00d5e-9333-6f27-8474-b597b8e7e896" /><meta name="guid" content="0ba00d5e-9333-6f27-8474-b597b8e7e896" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/abf32f96-6674-87dc-fd0d-5338ca4f4294.htm" title="CbeTvmService Class" tocid="abf32f96-6674-87dc-fd0d-5338ca4f4294">CbeTvmService Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/4cf7b8db-20c0-d680-f8e6-507bddde8d5c.htm" title="CbeTvmService Methods" tocid="4cf7b8db-20c0-d680-f8e6-507bddde8d5c">CbeTvmService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4a2f3f7c-3f34-4262-b81e-68c06cf4a3ba.htm" title="AmendReservation Method " tocid="4a2f3f7c-3f34-4262-b81e-68c06cf4a3ba">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e1e65f7e-2ab8-1b83-aece-f61333dc7a11.htm" title="CancelReservation Method " tocid="e1e65f7e-2ab8-1b83-aece-f61333dc7a11">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/526eef60-88d1-392b-581b-fe4d68d4fe08.htm" title="CancelTransaction Method " tocid="526eef60-88d1-392b-581b-fe4d68d4fe08">CancelTransaction Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8fea79ff-189d-9d6a-f781-f7c40ae40d1a.htm" title="CustomerCardLogin Method " tocid="8fea79ff-189d-9d6a-f781-f7c40ae40d1a">CustomerCardLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5c41f7cd-3e72-c5db-f62d-e846d0abf694.htm" title="GetCoachesInformation Method " tocid="5c41f7cd-3e72-c5db-f62d-e846d0abf694">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7a508d6-de3c-02ca-c0cc-b04be4550560.htm" title="GetCoachesSeatAvailability Method " tocid="c7a508d6-de3c-02ca-c0cc-b04be4550560">GetCoachesSeatAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d16ae95a-70f6-f222-21bd-fb40f63e33d5.htm" title="GetCtrDetails Method " tocid="d16ae95a-70f6-f222-21bd-fb40f63e33d5">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/bfaaa850-7892-fce8-9c09-5d1e6cab9437.htm" title="GetCustomerSegment Method " tocid="bfaaa850-7892-fce8-9c09-5d1e6cab9437">GetCustomerSegment Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8e16b5d7-47fc-6e71-ecc1-7c2e9b231acf.htm" title="GetFaresInformation Method " tocid="8e16b5d7-47fc-6e71-ecc1-7c2e9b231acf">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a817fdca-64ba-d31d-c79e-09c2a22ccb06.htm" title="GetOptionalServices Method " tocid="a817fdca-64ba-d31d-c79e-09c2a22ccb06">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f31b3620-310f-a32a-4461-6fbacbecdb85.htm" title="GetPresalesFulfilmentOptions Method " tocid="f31b3620-310f-a32a-4461-6fbacbecdb85">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0388f537-421d-dedd-ffae-b7170b521227.htm" title="GetRouteInformation Method " tocid="0388f537-421d-dedd-ffae-b7170b521227">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/50777f26-01a0-054e-14bf-f4ac5579c1f8.htm" title="GetSalesHistory Method " tocid="50777f26-01a0-054e-14bf-f4ac5579c1f8">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/db52a24a-7c7c-ea4f-8a57-791c9d14c34a.htm" title="GetSeasonTicketFares Method " tocid="db52a24a-7c7c-ea4f-8a57-791c9d14c34a">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a393927e-c028-3c0c-a683-1634632e57a2.htm" title="GetStoppingPatterns Method " tocid="a393927e-c028-3c0c-a683-1634632e57a2">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2375f5ab-8d12-4909-d7f3-a944e29e267c.htm" title="Heartbeat Method " tocid="2375f5ab-8d12-4909-d7f3-a944e29e267c">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/867c1e85-d50d-7a65-aef8-2b33b4f1165c.htm" title="PrintCompleted Method " tocid="867c1e85-d50d-7a65-aef8-2b33b4f1165c">PrintCompleted Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3e74eb19-af85-8de9-d866-716946e0d9de.htm" title="PrintCtrTickets Method " tocid="3e74eb19-af85-8de9-d866-716946e0d9de">PrintCtrTickets Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5ab80034-a50a-e4dd-0a3d-4b4d327a6bac.htm" title="PurchaseCancellation Method " tocid="5ab80034-a50a-e4dd-0a3d-4b4d327a6bac">PurchaseCancellation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ca55af35-f5d6-52de-afa1-b16d25926b70.htm" title="PurchaseConfirmation Method " tocid="ca55af35-f5d6-52de-afa1-b16d25926b70">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fbc82769-8cbf-20bd-f5f7-71407154eaf1.htm" title="PurchaseSeasonTicket Method " tocid="fbc82769-8cbf-20bd-f5f7-71407154eaf1">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cdc4495a-d453-fa64-463e-0bb826c682d5.htm" title="PurchaseTicket3 Method " tocid="cdc4495a-d453-fa64-463e-0bb826c682d5">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c8f321aa-7f6b-5363-4796-f0ed8349bbf4.htm" title="RedeemTravelPass Method " tocid="c8f321aa-7f6b-5363-4796-f0ed8349bbf4">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0dfb371e-dd14-349d-bdc4-d02da41974ea.htm" title="RefundConfirmation Method " tocid="0dfb371e-dd14-349d-bdc4-d02da41974ea">RefundConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dbb64264-85c0-80c9-f6b9-1c0053c254a8.htm" title="RequestItinerary Method " tocid="dbb64264-85c0-80c9-f6b9-1c0053c254a8">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4001edfe-26a5-6736-667c-01c7ad12eb77.htm" title="ReservationBooking Method " tocid="4001edfe-26a5-6736-667c-01c7ad12eb77">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7b29c164-0692-8a96-22f5-3a78deed6692.htm" title="ReservationBooking2 Method " tocid="7b29c164-0692-8a96-22f5-3a78deed6692">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d956bccd-3cf2-0987-ab22-e07771fffce4.htm" title="SalesOfferingAuthorisation Method " tocid="d956bccd-3cf2-0987-ab22-e07771fffce4">SalesOfferingAuthorisation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0246e0ff-fd90-5ec6-94cc-cfd5e0ad0f6a.htm" title="TvmLogin Method " tocid="0246e0ff-fd90-5ec6-94cc-cfd5e0ad0f6a">TvmLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d537e1d4-61de-862f-ff61-69dce7c46ec0.htm" title="TvmLogout Method " tocid="d537e1d4-61de-862f-ff61-69dce7c46ec0">TvmLogout Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e3373c8b-a19e-b35e-39df-49c4a722fd76.htm" title="UnlockCtr Method " tocid="e3373c8b-a19e-b35e-39df-49c4a722fd76">UnlockCtr Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/0ba00d5e-9333-6f27-8474-b597b8e7e896.htm" title="UpdateLoyaltyCard Method " tocid="0ba00d5e-9333-6f27-8474-b597b8e7e896">UpdateLoyaltyCard Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeTvmService<span id="LSTE792E4DD_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE792E4DD_0?cpp=::|nu=.");</script>UpdateLoyaltyCard Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            This case allows the customer to associate his/her loyalty card to a sales transaction after the sale is completed. The customer is allowed to do this only up to a certain time (as defined in the loyalty scheme) after the sale is completed.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Operation.V7", 
	"Tvm-UpdateLoyaltyCard", Target = <span class="identifier">CbeActivity</span>.UpdateLoyaltyCard)]
<span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">UpdateLoyaltyCardMessageResponseV1</span>&gt; <span class="identifier">UpdateLoyaltyCard</span>(
	<span class="identifier">UpdateLoyaltyCardMessageRequestSpdAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="c77316d4-43aa-af21-15ee-74f981088b7e.htm">Vix.Cbe.WebService.Contracts.SalesTransaction<span id="LSTE792E4DD_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE792E4DD_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>UpdateLoyaltyCardMessageRequestSpdAuthV1</a><br />The request containing sales transaction and loyalty card data.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LSTE792E4DD_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE792E4DD_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="a68c4ebb-5808-ab7d-40bd-c813e38eb433.htm">UpdateLoyaltyCardMessageResponseV1</a><span id="LSTE792E4DD_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE792E4DD_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />Response containing the time when the operation completed and the customer loyalty card id.<h4 class="subHeading">Implements</h4><a href="158dd1f8-fbd6-04f0-63e5-b55fc3012b46.htm">ICbeTvmService<span id="LSTE792E4DD_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTE792E4DD_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>UpdateLoyaltyCard(UpdateLoyaltyCardMessageRequestSpdAuthV1)</a><br /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>VALIDATION</b></p><p>
        The following validation checks are made by the CBE on the data provided by the FEA. Where the request message from the FEA fails one or more of the validation checks listed below, the CBE will respond with an appropriate error messages as shown in the appropriate API guide.
        </p><p><ol><li>Sales Transaction Number exists.</li><li>Ensure the sales transaction is already not associated with another loyalty card</li><li>Where the customer associated with the transaction is a Virtual Customer
                    <ul><li>The Loyalty Card Number must be present</li><li>The Loyalty Scheme ID must be present</li><li>The Loyalty Card Number must be valid for that scheme</li><li>The request must not attempt to store the card on the customer record</li></ul></li><li>Where a Loyalty detail is present and when StoreCardonCustomerRecord is set to TRUE check that
                    <ul><li>the customer account exists according to CustomerID and the customer is not a virtual customer</li><li>the total cards on the customer account (CustomerID) for the loyalty scheme does not exceed the max limit that is specified in the Loyalty Scheme Reference data</li><li>the Loyalty Scheme ID is provided and valid</li><li>the Loyalty Card Number is provided, valid and is unique for that customer</li></ul></li><li>Where loyalty card detail is present and the CustomerLoyaltyCardsID is provided
                    <ul><li>a Loyalty Card Number and Loyalty Scheme ID must not be provided</li><li>the Loyalty Card ID specified must belong the customer specified and the customer must not be a virtual customer</li></ul></li><li>Loyalty Scheme id must be valid</li><li>Where validation is passed, the loyalty card must be associated with the Sales Transaction</li></ol></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABAABA_tab1" class="codeSnippetContainerTabSingle">Example UpdateLoyaltyCardforSalesTransaction Request</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABAABA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABAABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>9999<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Nlc</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:WindowNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>0003<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MachineNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:SalesPointDetails</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UpdateLoyaltyCardRequest</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>17SMP5S9EJ<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TransactionNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerID</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CustomerID</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:LoyaltyCardNumber</span><span class="highlight-xml-bracket">&gt;</span>9826300012345678024<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:LoyaltyCardNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:LoyaltySchemeID</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:LoyaltySchemeID</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:StoreCardonCustomerRecord</span><span class="highlight-xml-bracket">&gt;</span>true<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:StoreCardonCustomerRecord</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerLoyaltyCardsID</span><span class="highlight-xml-bracket">&gt;</span>3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CustomerLoyaltyCardsID</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UpdateLoyaltyCardRequest</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABAABA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAAABA_tab1" class="codeSnippetContainerTabSingle">Example UpdateLoyaltyCardforSalesTransaction Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAAABA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAAABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>138<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>6.7<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>4.1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">UpdateLoyaltyCardResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DateTime</span><span class="highlight-xml-bracket">&gt;</span>2017-07-31T09:46:10<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DateTime</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CustomerLoyaltyCardsId</span><span class="highlight-xml-bracket">&gt;</span>3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CustomerLoyaltyCardsId</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">UpdateLoyaltyCardResponse</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAAABA");</script></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID4RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="abf32f96-6674-87dc-fd0d-5338ca4f4294.htm">CbeTvmService Class</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>