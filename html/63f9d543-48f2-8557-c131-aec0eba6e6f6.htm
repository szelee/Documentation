<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ICbeMobileService.GetCtrDetails Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="GetCtrDetails method" /><meta name="System.Keywords" content="ICbeMobileService.GetCtrDetails method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.ICbeMobileService.GetCtrDetails" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.ICbeMobileService.GetCtrDetails(Vix.Cbe.WebService.Contracts.SalesTransaction.GetCtrDetailsMessageRequestSpdAuthV1)" /><meta name="Description" content="The purpose of this FEWS is to provide the Front-End Application (FEA) with the ability to recall a previously purchased ToD ticket via a Transaction Reference (CTR Ref) and to validate that the ToD has not already been printed." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="63f9d543-48f2-8557-c131-aec0eba6e6f6" /><meta name="guid" content="63f9d543-48f2-8557-c131-aec0eba6e6f6" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/3d434661-d6fb-f5c5-72e1-77e1232ac93e.htm" title="ICbeMobileService Interface" tocid="3d434661-d6fb-f5c5-72e1-77e1232ac93e">ICbeMobileService Interface</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/867e9afc-e037-17d9-3602-892199dcced4.htm" title="ICbeMobileService Methods" tocid="867e9afc-e037-17d9-3602-892199dcced4">ICbeMobileService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/911dbe2b-d0ab-78a4-fa0a-e995b851b091.htm" title="AddJourneyToFavourites Method " tocid="911dbe2b-d0ab-78a4-fa0a-e995b851b091">AddJourneyToFavourites Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3a8931be-4d66-3bf2-2a9e-d64ef5de9bf8.htm" title="AddUpdateCustomerPhotocard Method " tocid="3a8931be-4d66-3bf2-2a9e-d64ef5de9bf8">AddUpdateCustomerPhotocard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/b2b98e00-1a76-2487-3f32-69a44954d9ef.htm" title="AddUpdatePassengerAssistanceDetails Method " tocid="b2b98e00-1a76-2487-3f32-69a44954d9ef">AddUpdatePassengerAssistanceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d82f2644-3590-f394-4643-1d99401f9850.htm" title="AddUpdateSmartcard Method " tocid="d82f2644-3590-f394-4643-1d99401f9850">AddUpdateSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7695cb2b-f353-570c-b5f7-c36fc8fbe730.htm" title="AddUpdateTokenisedPaymentCard Method " tocid="7695cb2b-f353-570c-b5f7-c36fc8fbe730">AddUpdateTokenisedPaymentCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6652c076-cecb-c9c9-effb-f908ed4986b1.htm" title="AmendReservation Method " tocid="6652c076-cecb-c9c9-effb-f908ed4986b1">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5e8ad3a3-e39e-1b97-5666-95fbd8334c92.htm" title="AssignTransactionCashback Method " tocid="5e8ad3a3-e39e-1b97-5666-95fbd8334c92">AssignTransactionCashback Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/10579d13-fc5c-d1fc-ec94-9f63d74cb3ad.htm" title="CalculateEVoucherSpend Method " tocid="10579d13-fc5c-d1fc-ec94-9f63d74cb3ad">CalculateEVoucherSpend Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/224c4b4f-589d-a0b6-2fa1-101d3634e8e2.htm" title="CancelReservation Method " tocid="224c4b4f-589d-a0b6-2fa1-101d3634e8e2">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5b5f2eb7-aed9-baba-62ac-0975d1f0564a.htm" title="ClaimGiftEVouchers Method " tocid="5b5f2eb7-aed9-baba-62ac-0975d1f0564a">ClaimGiftEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d0750cbd-a69f-2829-1319-ca969b996afa.htm" title="ConfirmThirdPartyAdditionToLoyalty Method " tocid="d0750cbd-a69f-2829-1319-ca969b996afa">ConfirmThirdPartyAdditionToLoyalty Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/aaf42316-0325-5337-581c-c033b95e5cf0.htm" title="CreateCustomerProfile Method " tocid="aaf42316-0325-5337-581c-c033b95e5cf0">CreateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2a1a3d45-c72d-8669-e1c6-db1c96785abc.htm" title="CreateCustomerProfileGuest Method " tocid="2a1a3d45-c72d-8669-e1c6-db1c96785abc">CreateCustomerProfileGuest Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0d989a37-1fd2-6ff8-2a56-1b69cd4787e9.htm" title="CreateCustomerProfilePartial Method " tocid="0d989a37-1fd2-6ff8-2a56-1b69cd4787e9">CreateCustomerProfilePartial Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/08b2777c-fbfe-cc48-6a95-07bce87b3293.htm" title="CreateReservationChange Method " tocid="08b2777c-fbfe-cc48-6a95-07bce87b3293">CreateReservationChange Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/00b57e33-1bda-452f-9106-18955e411c34.htm" title="CreateTimetableChange Method " tocid="00b57e33-1bda-452f-9106-18955e411c34">CreateTimetableChange Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7e0ace6-ade8-9516-b731-2176e158f69c.htm" title="CustomerAccountVerification Method " tocid="c7e0ace6-ade8-9516-b731-2176e158f69c">CustomerAccountVerification Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4b524623-2239-c63d-1d19-4ff0b22e71e4.htm" title="CustomerChangePassword Method " tocid="4b524623-2239-c63d-1d19-4ff0b22e71e4">CustomerChangePassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e0fad76c-43e4-2ac3-689e-ffdf53e27897.htm" title="DeleteCustomerPhotocard Method " tocid="e0fad76c-43e4-2ac3-689e-ffdf53e27897">DeleteCustomerPhotocard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6217dd94-2b8a-86b5-214b-ac29e2b44daf.htm" title="DeleteSmartcard Method " tocid="6217dd94-2b8a-86b5-214b-ac29e2b44daf">DeleteSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6c0dc3f7-cf62-48a1-a6b0-0e5c4a9d353f.htm" title="DeleteTokenisedPaymentCard Method " tocid="6c0dc3f7-cf62-48a1-a6b0-0e5c4a9d353f">DeleteTokenisedPaymentCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8293cbad-83ea-acb0-ccfd-302d649eb388.htm" title="GetBarcodeDetails Method " tocid="8293cbad-83ea-acb0-ccfd-302d649eb388">GetBarcodeDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7e28a345-f38e-3edc-59eb-7f323a69a0dc.htm" title="GetBestFaresInformation Method " tocid="7e28a345-f38e-3edc-59eb-7f323a69a0dc">GetBestFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/54d19af9-a174-2083-9470-82ed9d1c53a8.htm" title="GetCoachesInformation Method " tocid="54d19af9-a174-2083-9470-82ed9d1c53a8">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3d78e06a-ba5d-a163-5023-0419215b3f4a.htm" title="GetCoachesSeatAvailability Method " tocid="3d78e06a-ba5d-a163-5023-0419215b3f4a">GetCoachesSeatAvailability Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/63f9d543-48f2-8557-c131-aec0eba6e6f6.htm" title="GetCtrDetails Method " tocid="63f9d543-48f2-8557-c131-aec0eba6e6f6">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7b9e99c2-31af-8cc9-df6a-71fdd0a5007b.htm" title="GetCustomerAccountDetails Method " tocid="7b9e99c2-31af-8cc9-df6a-71fdd0a5007b">GetCustomerAccountDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e358573b-f165-4319-7220-c53289bb74b8.htm" title="GetCustomerEVouchers Method " tocid="e358573b-f165-4319-7220-c53289bb74b8">GetCustomerEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f1485ec7-811d-6782-af7c-1d172fda4c13.htm" title="GetCustomerKeyValuePairs Method " tocid="f1485ec7-811d-6782-af7c-1d172fda4c13">GetCustomerKeyValuePairs Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d0b845af-5efd-57a5-ab80-b3e6adb11a00.htm" title="GetCustomerPhotocards Method " tocid="d0b845af-5efd-57a5-ab80-b3e6adb11a00">GetCustomerPhotocards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cf85c521-9200-13b9-8f0c-afe52fae8c24.htm" title="GetCustomerSegment Method " tocid="cf85c521-9200-13b9-8f0c-afe52fae8c24">GetCustomerSegment Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c3d84709-0603-6b1d-2aad-dda027bfcd71.htm" title="GetEticketDetails Method " tocid="c3d84709-0603-6b1d-2aad-dda027bfcd71">GetEticketDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/628bdaa2-b3ec-1d6c-9d7c-1d9f832dcf7c.htm" title="GetETicketUrl Method " tocid="628bdaa2-b3ec-1d6c-9d7c-1d9f832dcf7c">GetETicketUrl Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ad3c0474-7cb5-5351-bd27-9f302fcbe406.htm" title="GetFaresInformation Method " tocid="ad3c0474-7cb5-5351-bd27-9f302fcbe406">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4de52a5e-32a5-0d89-b633-9c4c0ec33e03.htm" title="GetGoldstarSeasonTickets Method " tocid="4de52a5e-32a5-0d89-b633-9c4c0ec33e03">GetGoldstarSeasonTickets Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/882ffe4b-bcd5-1b66-0658-74920a6dfe7b.htm" title="GetOptionalServices Method " tocid="882ffe4b-bcd5-1b66-0658-74920a6dfe7b">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a4102060-cf9f-cc2d-200f-e82ef92af13e.htm" title="GetPassengerAssistanceDetails Method " tocid="a4102060-cf9f-cc2d-200f-e82ef92af13e">GetPassengerAssistanceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dfdd77d2-2bec-4011-63d8-622b4c98e906.htm" title="GetPresalesFulfilmentOptions Method " tocid="dfdd77d2-2bec-4011-63d8-622b4c98e906">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4f6985c0-27e9-1ff8-ecd9-5f511ff552bd.htm" title="GetRefundList Method " tocid="4f6985c0-27e9-1ff8-ecd9-5f511ff552bd">GetRefundList Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6d133358-4360-7f66-9c1f-13bda14926fb.htm" title="GetRefundList2 Method " tocid="6d133358-4360-7f66-9c1f-13bda14926fb">GetRefundList2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/244804b1-fcf5-eff9-5b7a-06b72cdfd150.htm" title="GetReservationAvailability Method " tocid="244804b1-fcf5-eff9-5b7a-06b72cdfd150">GetReservationAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ab546b1f-d162-64a3-0f59-40179d4d52b4.htm" title="GetRouteInformation Method " tocid="ab546b1f-d162-64a3-0f59-40179d4d52b4">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1eb90088-4440-cf6b-7b46-56e8b111c654.htm" title="GetSalesHistory Method " tocid="1eb90088-4440-cf6b-7b46-56e8b111c654">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e15d9b14-1eea-898b-bb2b-e22476e3fa26.htm" title="GetSalesTransactionDetails Method " tocid="e15d9b14-1eea-898b-bb2b-e22476e3fa26">GetSalesTransactionDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/91addecc-1295-ddd7-76ef-48905d711b00.htm" title="GetSeasonTicketFares Method " tocid="91addecc-1295-ddd7-76ef-48905d711b00">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2980adb4-a876-2dde-0db6-a30286a937d4.htm" title="GetSmartcardIpes Method " tocid="2980adb4-a876-2dde-0db6-a30286a937d4">GetSmartcardIpes Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a1fa09e2-9f4a-b3a4-968e-70ce292382bb.htm" title="GetSmartcards Method " tocid="a1fa09e2-9f4a-b3a4-968e-70ce292382bb">GetSmartcards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/601371bb-b314-047d-4aa3-65a9d26bf474.htm" title="GetStoppingPatterns Method " tocid="601371bb-b314-047d-4aa3-65a9d26bf474">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/591ed2b7-0c83-828e-eda3-9ef05d4afa70.htm" title="GetTokenisedPaymentCards Method " tocid="591ed2b7-0c83-828e-eda3-9ef05d4afa70">GetTokenisedPaymentCards Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/419a3156-c496-11f4-2f24-222ac4d33fa1.htm" title="Heartbeat Method " tocid="419a3156-c496-11f4-2f24-222ac4d33fa1">Heartbeat Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e8b73965-fbf3-9186-7e7d-870b8a36c8a4.htm" title="Login Method " tocid="e8b73965-fbf3-9186-7e7d-870b8a36c8a4">Login Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f35c8ab4-04b9-c0f8-c50d-ba0cb38d01b2.htm" title="MoveReservationBooking Method " tocid="f35c8ab4-04b9-c0f8-c50d-ba0cb38d01b2">MoveReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e32991aa-b800-20aa-069a-c651ed54a76c.htm" title="PurchaseCancellation Method " tocid="e32991aa-b800-20aa-069a-c651ed54a76c">PurchaseCancellation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9ffe4bc0-7212-7418-e4fa-81fe8b16bcfc.htm" title="PurchaseChangeOfJourney Method " tocid="9ffe4bc0-7212-7418-e4fa-81fe8b16bcfc">PurchaseChangeOfJourney Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/556c80f8-7de1-90a5-e265-0bd1b1d2b4ac.htm" title="PurchaseConfirmation Method " tocid="556c80f8-7de1-90a5-e265-0bd1b1d2b4ac">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/350ae39a-2641-5ab3-e30a-1c46eedf9ea6.htm" title="PurchaseGiftEVouchers Method " tocid="350ae39a-2641-5ab3-e30a-1c46eedf9ea6">PurchaseGiftEVouchers Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f5ed17d1-75b9-677d-f53d-b2acdcd3c86d.htm" title="PurchaseReservation Method " tocid="f5ed17d1-75b9-677d-f53d-b2acdcd3c86d">PurchaseReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8212b67f-3268-8ed2-a8ed-dc146dc0724a.htm" title="PurchaseSeasonTicket Method " tocid="8212b67f-3268-8ed2-a8ed-dc146dc0724a">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ebdb96a5-a6f8-eeec-d98f-1593b488ff41.htm" title="PurchaseSmartcard Method " tocid="ebdb96a5-a6f8-eeec-d98f-1593b488ff41">PurchaseSmartcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8152c38e-5d71-0a04-61be-3592dbfe423c.htm" title="PurchaseTicket3 Method " tocid="8152c38e-5d71-0a04-61be-3592dbfe423c">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9f34770c-970a-dd76-74f7-9d1dc4167ba0.htm" title="RedeemTravelPass Method " tocid="9f34770c-970a-dd76-74f7-9d1dc4167ba0">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/58b75b96-a085-1e3e-c4e5-542e6212d920.htm" title="Refund Method " tocid="58b75b96-a085-1e3e-c4e5-542e6212d920">Refund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6e102caa-42fd-d0b3-4568-346cd5429487.htm" title="RequestItinerary Method " tocid="6e102caa-42fd-d0b3-4568-346cd5429487">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/16ce6d63-de1a-a87e-fe82-2921087bc221.htm" title="ResendBookingConfirmation Method " tocid="16ce6d63-de1a-a87e-fe82-2921087bc221">ResendBookingConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2e98458a-5f64-a27d-5b87-65a99afb4f1d.htm" title="ReservationBooking Method " tocid="2e98458a-5f64-a27d-5b87-65a99afb4f1d">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9c556e8c-aa27-0be4-5d55-88c1c853a856.htm" title="ReservationBooking2 Method " tocid="9c556e8c-aa27-0be4-5d55-88c1c853a856">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/69b1d721-c440-300c-d15d-59aa91b3271b.htm" title="ResetPassword Method " tocid="69b1d721-c440-300c-d15d-59aa91b3271b">ResetPassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/22e68207-29a2-4857-a6cc-f97f433d0110.htm" title="SalesOfferingAuthorisation Method " tocid="22e68207-29a2-4857-a6cc-f97f433d0110">SalesOfferingAuthorisation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/07d12448-0a77-0b59-7bd7-306b7e7012e0.htm" title="SalesTransactionStatusUpdate Method " tocid="07d12448-0a77-0b59-7bd7-306b7e7012e0">SalesTransactionStatusUpdate Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c8f1030b-b654-e39a-5fcc-4adc74113066.htm" title="SetCustomerKeyValuePairs Method " tocid="c8f1030b-b654-e39a-5fcc-4adc74113066">SetCustomerKeyValuePairs Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/06109159-56ba-7a7c-866d-40cfea41aae8.htm" title="SetSubscriberDetails Method " tocid="06109159-56ba-7a7c-866d-40cfea41aae8">SetSubscriberDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4d29008d-9c9c-5aef-c2ff-b58ca01c522b.htm" title="UpdateAdrOptions Method " tocid="4d29008d-9c9c-5aef-c2ff-b58ca01c522b">UpdateAdrOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/62ca35fe-9c33-59e5-8fd3-c8c9467819df.htm" title="UpdateCustomerProfile Method " tocid="62ca35fe-9c33-59e5-8fd3-c8c9467819df">UpdateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7d85db5-12f4-d4d0-4f72-de760860a728.htm" title="UpdateCustomerProfileGuest Method " tocid="c7d85db5-12f4-d4d0-4f72-de760860a728">UpdateCustomerProfileGuest Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/05aa2cea-bfd6-4c81-9c1f-9a3fdf05f3ba.htm" title="UpdateLoyaltyCard Method " tocid="05aa2cea-bfd6-4c81-9c1f-9a3fdf05f3ba">UpdateLoyaltyCard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a61708c5-46c9-d492-13f8-3c20dfae1262.htm" title="ValidateCustomerPasswordResetToken Method " tocid="a61708c5-46c9-d492-13f8-3c20dfae1262">ValidateCustomerPasswordResetToken Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4218f1c6-abe5-55b5-9f59-94d4677fb418.htm" title="VerifyCustomerToken Method " tocid="4218f1c6-abe5-55b5-9f59-94d4677fb418">VerifyCustomerToken Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>ICbeMobileService<span id="LST25CC066B_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST25CC066B_0?cpp=::|nu=.");</script>GetCtrDetails Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            The purpose of this FEWS is to provide the Front-End Application (FEA) with the ability to recall a previously purchased ToD ticket via a Transaction Reference (CTR Ref) and to validate that the ToD has not already been printed.
            It also allows the operator to find one or more CTRs using other fields where customer does not have his CTR number.
            It also includes a check of the payment card used in the LSM database against that supplied in the input.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">OperationContractAttribute</span>]
[<span class="identifier">FaultContractAttribute</span>(<span class="keyword">typeof</span>(<span class="identifier">CbeFault</span>))]
[<span class="identifier">CbeValidationCallHandlerAttribute</span>(RetailChannel = <span class="identifier">CbeRetailChannel</span>.Mobile, Order = 50)]
[<span class="identifier">FewsAttribute</span>("7.1", <span class="identifier">FewsRevisionNumber</span>.First, "11.3")]
<span class="identifier">Task</span>&lt;<span class="identifier">GetCtrDetailsMessageResponseV1</span>&gt; <span class="identifier">GetCtrDetails</span>(
	<span class="identifier">GetCtrDetailsMessageRequestSpdAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="4d2792e3-58a0-6d89-c7a9-c8c7e09237d0.htm">Vix.Cbe.WebService.Contracts.SalesTransaction<span id="LST25CC066B_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST25CC066B_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>GetCtrDetailsMessageRequestSpdAuthV1</a><br />The request.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LST25CC066B_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST25CC066B_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="5a4b9d92-4081-d5cc-2921-b1c5d62e5264.htm">GetCtrDetailsMessageResponseV1</a><span id="LST25CC066B_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST25CC066B_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />CTR details wrapped in a response message contract.</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>BACKGROUND</b></p><p>
      It also allows the operator to find one or more CTRs using other fields where customer does not have his CTR number.
      It also includes a check of the payment card used in the LSM database against that supplied in the input.
    </p><p>
      The call also allows the operator to amend the locking status of a CTR which it has issued and where it has been locked and remains locked due to a printing issue. Changing of lock status parameter will explicitly change the lock status of CTR record on condition that CBE has permission to do it.
    </p><p><b>BUSINESS PROCESS CONTEXT</b></p><p>
      No diagram provided.
    </p><p><b>PROCESS DIAGRAM</b></p><p>
      No diagram provided.
    </p><p><b>PROCESS DESCRIPTION</b></p><p>
      The purpose of this FEWS is to enable a recall of previously purchased ToD ticket via a Transaction Reference (CTR Ref)
      and to validate that the ToD has not already been printed. This is provided for customer support
      purposes. The input is either a valid CTR reference number or other details so that the
      CBE can uniquely identify the CTR on the LSM database. . It also optionally includes a
      check of the payment card used in the LSM database against that supplied in the input.
      The call allows the operator to select Lock/unlock or read a CTR, where this is absent the
      CBE defaults to read. In the case where the CTR record was already printed and/or
      record is locked by some other TOC, the optional fields cannot be retrieved from CTR,
      and will be empty in output response.
    </p><p>
      The call also allows the operator to retrieve a CTR without a CTR using one or more
      fields as defined by RSP in RSPS5040 V09 02 section 4.2.7, and as defined in section 5.1
      of this document. In this case the customer surname is always required as a minimum. It
      is possible that the search may return more than one CTR from the LSM database in
      which case these are returned in the output. The output from the LSM is always limited
      to the first 100 records which meet the criteria, hence the need for the FEA to narrow
      down the search criteria to limit the amount of data returned.
      If the postcode is used in the search criteria it must be a UK postcode otherwise no data
      will be returned from the LSM database.
    </p><p><b>ASSUMPTIONS</b><ol><li>
          It is assumed that in the event of CTR access issue message arising the FEA will
          generate a suitable error message and allow the user the continue within the
          application. (This is an RSP accreditation requirement).
        </li><li>
          It is assumed that the FEA will request UK postcode details in a such a way that the
          postcode prefix and suffix can be supplied as separate data items. As RSPS5040
          does not mention support foreign postcodes, these are not supported as search
          criteria and will not return data from the LSM.
        </li><li>
          It is assumed that the FEA will manage whether a truncated payment card is input to
          the CBE, it is shown as optional in the input but the FEA may wish to make this a
          mandatory feature of the RC. The CBE logic above supports different and multiple
          MOPS used at time of purchase hence the optional structure in the input.
        </li></ol></p><p><b>VALIDATIONS</b></p><p>
      The following validation checks are made by the CBE on the data provided by the FEA. Failure to meet these checks will result in appropriate error messages as shown in the appropriate API guide.

      <ul><li><b>Parameter validation:</b><ol><li>All mandatory fields are present.</li><li>Truncated PAN format is correct.</li></ol></li><li><b>Business validation:</b><ol><li>CTR number should exist in LSM database</li><li>Operation value should be one of Lock, Unlock, Read or FullRead</li><li>The JourneyReferenceNumber must be valid and exist (if present) if the Operation value is Lock or Unlock</li><li>Operator credentials must be valid and exist</li><li>Check the operator/user credentials has permission for this call (see latest version of FEWS Permissions Matrix)</li><li>If non CTR details are present then Customer surname is mandatory.</li><li>If Customer surname is present then at least one other field must be present.</li><li>NLCs (if present) must exist.</li><li>If partial PAN flag = N then do not check the partial/truncated PAN value in the CTR record.</li><li>
              If partial PAN flag Y then do check that this is in the correct format (see RSPS5040) and do checks below:
              <ul><li>The Partial PAN Check Flag has been added to allow for any payment card to be input where the CTR has been purchased by another card say (a company purchase), this allows the card check to be ignored.</li><li>
                  On receipt of a valid CTR and partial PAN where Partial PAN Check Flag = Y, the CBE should check the CTR mailing flag –
                  <ul><li>
                      if = 3 then create the print message and return it as output and do not check against the truncated partial PAN.
                    </li><li>
                      if = 1 then check the partial PAN input matches the J5-CC5-CardNum details then create the print message and return it as output OR if not then output error message ‘card does not match payment card’.
                    </li></ul></li></ul></li><li>If any CTR journey cannot be locked (when Operation is either FullRead or Lock), e.g. because it is currently locked by a TVM, then return error code 642 CtrCannotBeLocked.</li><li>
              If AddToLoyalty = true, then the following validations need to be performed against the barcode ticket details to ensure that it is eligible for being added to loyalty scheme. Validations should not return a validation error but NotEligibleReason code in the response instead.
              <ul><li>IsCbeTicket - Ticket was purchased via CBE and therefore does not qualify as a 3rd-party ticket.</li><li>TicketAlreadyRegistered - Ticket has already been registered for cashback rewards.</li><li>OutOfValidityPeriod - The departure date of the last journey is not within 'Historical validity of tickets for cashback reward'.</li><li>TicketNotEligible - Journey does not contain a leg where LNER is the TOC Provider.</li><li>CustomerNotRegistered - Customer is not registered in CBE.</li></ul></li></ol></li></ul></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EADABBA_tab1" class="codeSnippetContainerTabSingle">Example GetCtrDetails Request with CtrDetails</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EADABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EADABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EADABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UserCredentials</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UserName</span><span class="highlight-xml-bracket">&gt;</span>TSawyer<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UserName</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Password</span><span class="highlight-xml-bracket">&gt;</span>password<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Password</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UserCredentials</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:GetCtrDetailsRequest</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CtrReference</span><span class="highlight-xml-bracket">&gt;</span>JF968C37<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CtrReference</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PaymentCardNumbers</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PaymentCardNumber</span><span class="highlight-xml-bracket">&gt;</span>1234567890<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PaymentCardNumber</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PaymentCardNumbers</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyReferenceNumbers</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-comment">&lt;!--Zero or more repetitions:--&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>3GJTJX8G<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:JourneyReferenceNumbers</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Operation</span><span class="highlight-xml-bracket">&gt;</span>Lock<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Operation</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PartialPanCheck</span><span class="highlight-xml-bracket">&gt;</span>true<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PartialPanCheck</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AddToLoyalty</span><span class="highlight-xml-bracket">&gt;</span>true<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AddToLoyalty</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerId</span><span class="highlight-xml-bracket">&gt;</span>177<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CustomerId</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:GetCtrDetailsRequest</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EADABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACABBA_tab1" class="codeSnippetContainerTabSingle">Example GetCtrDetails Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>3097<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>223<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>7.1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>11.3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">GetCtrDetailsResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeStateDetails</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrOperationResult</span><span class="highlight-xml-bracket">&gt;</span>Successful<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrOperationResult</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrTransactions</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrTransaction</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrTransactionReference</span><span class="highlight-xml-bracket">&gt;</span>JF968C37<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrTransactionReference</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Journeys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>3GJTJX8G<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrStatus</span><span class="highlight-xml-bracket">&gt;</span>Locked<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Surname</span><span class="highlight-xml-bracket">&gt;</span>SMOTRILA<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Surname</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">NumberOfPassengers</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>5668<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>5670<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundJourneyDate</span><span class="highlight-xml-bracket">&gt;</span>2017-08-10T09:56:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundJourneyDate</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">TotalFare</span><span class="highlight-xml-bracket">&gt;</span>360<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">TotalFare</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrPrintStatus</span><span class="highlight-xml-bracket">&gt;</span>2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrPrintStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrBookingStatus</span><span class="highlight-xml-bracket">&gt;</span>9<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrBookingStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">MailingFlag</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">MailingFlag</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PaymentCardNumbers</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PaymentCardNumber</span><span class="highlight-xml-bracket">&gt;</span>1234567890<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PaymentCardNumber</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PaymentCardNumbers</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareDetails</span><span class="highlight-xml-bracket">&gt;</span>
                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareDetails</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Ftot</span><span class="highlight-xml-bracket">&gt;</span>SDS<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Ftot</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">AdultQuantity</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">AdultQuantity</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">AdultPrice</span><span class="highlight-xml-bracket">&gt;</span>360<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">AdultPrice</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ChildQuantity</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ChildQuantity</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ChildPrice</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ChildPrice</span><span class="highlight-xml-bracket">&gt;</span>
                  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Railcard</span> <span class="highlight-xml-bracket">/&gt;</span>
                <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareDetails</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FareDetails</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">SellingMachineDetails</span><span class="highlight-xml-bracket">&gt;</span>82000001<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">SellingMachineDetails</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Journeys</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrTransaction</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrTransactions</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">IsEligibleForCashback</span><span class="highlight-xml-bracket">&gt;</span>true<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">IsEligibleForCashback</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">NotEligibleReason</span> <span class="highlight-xml-bracket">/&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">GetCtrDetailsResponse</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABABBA_tab1" class="codeSnippetContainerTabSingle">Example GetCtrDetails Request with NonCtrDetails</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UserCredentials</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UserName</span><span class="highlight-xml-bracket">&gt;</span>TSawyer<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UserName</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Password</span><span class="highlight-xml-bracket">&gt;</span>password<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Password</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UserCredentials</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:GetCtrDetailsRequest</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:NonCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CustomerSurname</span><span class="highlight-xml-bracket">&gt;</span>SMOTRILA<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CustomerSurname</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>5670<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>5668<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:OutwardJourneyDateTime</span><span class="highlight-xml-bracket">&gt;</span>2017-08-10T00:00:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:OutwardJourneyDateTime</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PaymentCardNumber</span><span class="highlight-xml-bracket">&gt;</span>1234567890<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PaymentCardNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:NonCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-comment">&lt;!--Optional:--&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Operation</span><span class="highlight-xml-bracket">&gt;</span>Read<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Operation</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:GetCtrDetailsRequest</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBA_tab1" class="codeSnippetContainerTabSingle">Example GetCtrDetails Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>376<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>121<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>7.1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Revision</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>11.3<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">GetCtrDetailsResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeStateDetails</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span> <span class="highlight-xml-bracket">/&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrOperationResult</span><span class="highlight-xml-bracket">&gt;</span>Successful<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrOperationResult</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrTransactions</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrTransaction</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrTransactionReference</span><span class="highlight-xml-bracket">&gt;</span>JF968C37<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrTransactionReference</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Journeys</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>3GJTJX8G<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Surname</span><span class="highlight-xml-bracket">&gt;</span>SMOTRILA<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Surname</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>5668<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>5670<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundJourneyDate</span><span class="highlight-xml-bracket">&gt;</span>2017-08-10T09:56:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundJourneyDate</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrPrintStatus</span><span class="highlight-xml-bracket">&gt;</span>2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrPrintStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrBookingStatus</span><span class="highlight-xml-bracket">&gt;</span>9<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrBookingStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PaymentCardNumbers</span> <span class="highlight-xml-bracket">/&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareDetails</span> <span class="highlight-xml-bracket">/&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">SellingMachineDetails</span><span class="highlight-xml-bracket">&gt;</span>82000001<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">SellingMachineDetails</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>JF968C37<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Surname</span><span class="highlight-xml-bracket">&gt;</span>SMOTRILA<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Surname</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>5668<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OriginNlc</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>5670<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">DestinationNlc</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">OutboundJourneyDate</span><span class="highlight-xml-bracket">&gt;</span>2017-08-10T09:56:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">OutboundJourneyDate</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrPrintStatus</span><span class="highlight-xml-bracket">&gt;</span>2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrPrintStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CtrBookingStatus</span><span class="highlight-xml-bracket">&gt;</span>9<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrBookingStatus</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PaymentCardNumbers</span> <span class="highlight-xml-bracket">/&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FareDetails</span> <span class="highlight-xml-bracket">/&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">SellingMachineDetails</span><span class="highlight-xml-bracket">&gt;</span>82000001<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">SellingMachineDetails</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">JourneyCtrDetails</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Journeys</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrTransaction</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CtrTransactions</span><span class="highlight-xml-bracket">&gt;</span>
    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">GetCtrDetailsResponse</span><span class="highlight-xml-bracket">&gt;</span>
  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBA");</script></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Revision History</span></div><div id="ID4RBSection" class="collapsibleSection"><table><tr><th>Date</th><th>Version</th><th>Description</th></tr><tr><td>16/03/2017</td><td>11.0</td><td>FEWS 7.1 Get CTR Details</td></tr><tr><td>30/07/2020</td><td>11.1</td><td>Added support for adding foreign CTRs to a customer account for Loyalty Scheme cashback. Added SellingMachineDetails to response and new ‘FullRead’ Operation type.</td></tr><tr><td>14/08/2020</td><td>11.2</td><td>Added additional fields to capture journey details from foreign CTRs when these are added to a customer account.</td></tr><tr><td>04/09/2020</td><td>11.3</td><td><ul><li>Added missing NotEligibleReason codes for ticket validations.</li><li>Updated cashback eligibility validations.</li></ul></td></tr></table></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="3d434661-d6fb-f5c5-72e1-77e1232ac93e.htm">ICbeMobileService Interface</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>