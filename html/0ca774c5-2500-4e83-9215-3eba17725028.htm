<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CbeTOService.PaymentRefund Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="PaymentRefund method" /><meta name="System.Keywords" content="CbeTOService.PaymentRefund method" /><meta name="Microsoft.Help.F1" content="Vix.Cbe.WebService.CbeTOService.PaymentRefund" /><meta name="Microsoft.Help.Id" content="M:Vix.Cbe.WebService.CbeTOService.PaymentRefund(Vix.Cbe.WebService.Contracts.SalesTransaction.PaymentRefundMessageRequestAuthV1)" /><meta name="Description" content="This FEWS returns the confirmation/or failure of the payment of a refund or payment for delay repay. The refund payment process is the final step in the refund process." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vix.Cbe.WebService" /><meta name="file" content="0ca774c5-2500-4e83-9215-3eba17725028" /><meta name="guid" content="0ca774c5-2500-4e83-9215-3eba17725028" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Central Booking Engine Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine Class Library" tocid="roottoc">Central Booking Engine Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7529a28-e260-e3d8-0718-b3fc28f03686.htm" title="Central Booking Engine" tocid="e7529a28-e260-e3d8-0718-b3fc28f03686">Central Booking Engine</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/26210088-6c4f-d952-a0af-51ddaeac4a15.htm" title="Vix.Cbe.WebService" tocid="26210088-6c4f-d952-a0af-51ddaeac4a15">Vix.Cbe.WebService</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/84478d73-23dd-1bcd-02c4-86dcf17efc65.htm" title="CbeTOService Class" tocid="84478d73-23dd-1bcd-02c4-86dcf17efc65">CbeTOService Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/18f27a41-6185-e561-a27a-1140a1317471.htm" title="CbeTOService Methods" tocid="18f27a41-6185-e561-a27a-1140a1317471">CbeTOService Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4a4c43e0-6462-c10a-fc45-902efff4ba19.htm" title="AmendReservation Method " tocid="4a4c43e0-6462-c10a-fc45-902efff4ba19">AmendReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/06f7a457-0c40-9046-9de8-2cf65c7500f0.htm" title="CalculateRefundValue Method " tocid="06f7a457-0c40-9046-9de8-2cf65c7500f0">CalculateRefundValue Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4cf3ceb8-14c2-e391-eb31-310718cf1f00.htm" title="CancelReservation Method " tocid="4cf3ceb8-14c2-e391-eb31-310718cf1f00">CancelReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f60a3524-67aa-a0a9-bdb6-fdfbbe9dc4f3.htm" title="ChangeOperatorPassword Method " tocid="f60a3524-67aa-a0a9-bdb6-fdfbbe9dc4f3">ChangeOperatorPassword Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/95fe3795-cfa5-4f17-23a6-6d9955b0b895.htm" title="ConfirmFareForRefund Method " tocid="95fe3795-cfa5-4f17-23a6-6d9955b0b895">ConfirmFareForRefund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0afd0493-9362-077c-d296-f1c21ec1640b.htm" title="CreateCustomerProfile Method " tocid="0afd0493-9362-077c-d296-f1c21ec1640b">CreateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4305ea38-baab-6b7f-4629-d6cccf4a2a42.htm" title="CustomerCardLogin Method " tocid="4305ea38-baab-6b7f-4629-d6cccf4a2a42">CustomerCardLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1024e4dc-9732-82b4-f168-246b1cf72fee.htm" title="DoNonissue Method " tocid="1024e4dc-9732-82b4-f168-246b1cf72fee">DoNonissue Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c40e4f27-8ed4-f07d-3992-34382987f5e5.htm" title="GetCoachesInformation Method " tocid="c40e4f27-8ed4-f07d-3992-34382987f5e5">GetCoachesInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/41455838-1475-c90c-0d6d-51d59a0c40fd.htm" title="GetCoachesSeatAvailability Method " tocid="41455838-1475-c90c-0d6d-51d59a0c40fd">GetCoachesSeatAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8dfafb80-fe1d-7a68-4b0a-55fd10a0a5b6.htm" title="GetCtrDetails Method " tocid="8dfafb80-fe1d-7a68-4b0a-55fd10a0a5b6">GetCtrDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/58466bc8-7ce6-4db2-2d11-74ac6ca8319a.htm" title="GetCustomerAccountDetails Method " tocid="58466bc8-7ce6-4db2-2d11-74ac6ca8319a">GetCustomerAccountDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/14590662-fc9e-3d6b-9c8d-33de020854c6.htm" title="GetFaresInformation Method " tocid="14590662-fc9e-3d6b-9c8d-33de020854c6">GetFaresInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/df216370-8c11-8fb6-e6fd-278d9e0439d0.htm" title="GetOptionalServices Method " tocid="df216370-8c11-8fb6-e6fd-278d9e0439d0">GetOptionalServices Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/eaced294-1339-5b02-e112-eb716735e588.htm" title="GetPresalesFulfilmentOptions Method " tocid="eaced294-1339-5b02-e112-eb716735e588">GetPresalesFulfilmentOptions Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6ab4886b-7063-5038-1d2b-81a7750fc8fc.htm" title="GetRefundApplication Method " tocid="6ab4886b-7063-5038-1d2b-81a7750fc8fc">GetRefundApplication Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5ca47790-e4ca-2704-5815-e17ea8cca875.htm" title="GetRefundList Method " tocid="5ca47790-e4ca-2704-5815-e17ea8cca875">GetRefundList Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e519d1d6-5e33-a550-a422-a58bbf787275.htm" title="GetRefundList2 Method " tocid="e519d1d6-5e33-a550-a422-a58bbf787275">GetRefundList2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/563640d4-ea5a-876a-e613-566f0d895baf.htm" title="GetReservationAvailability Method " tocid="563640d4-ea5a-876a-e613-566f0d895baf">GetReservationAvailability Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/07abb054-cef4-b733-65e4-4b6377517a18.htm" title="GetReservationServiceDetails Method " tocid="07abb054-cef4-b733-65e4-4b6377517a18">GetReservationServiceDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/20e46ae4-9e83-74bb-7e79-fab35ff90c7c.htm" title="GetRouteInformation Method " tocid="20e46ae4-9e83-74bb-7e79-fab35ff90c7c">GetRouteInformation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ebe47095-2a84-6320-3ebd-124202d9f09c.htm" title="GetSalesBySalesPoint Method " tocid="ebe47095-2a84-6320-3ebd-124202d9f09c">GetSalesBySalesPoint Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7ae9249-3c27-1dfa-5406-4dcdc40d5201.htm" title="GetSalesHistory Method " tocid="c7ae9249-3c27-1dfa-5406-4dcdc40d5201">GetSalesHistory Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3640fb58-8728-0eec-cbfa-8c091bd4330f.htm" title="GetSalesTransactionDetails Method " tocid="3640fb58-8728-0eec-cbfa-8c091bd4330f">GetSalesTransactionDetails Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c4fe27ff-990d-6185-df8c-920bfbdae049.htm" title="GetSeasonTicketFares Method " tocid="c4fe27ff-990d-6185-df8c-920bfbdae049">GetSeasonTicketFares Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4a568000-598c-00cb-7b70-5682eaacb431.htm" title="GetStoppingPatterns Method " tocid="4a568000-598c-00cb-7b70-5682eaacb431">GetStoppingPatterns Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/76c6f987-4c12-6cfb-ca0e-52580ad46016.htm" title="MagStripeCheck Method " tocid="76c6f987-4c12-6cfb-ca0e-52580ad46016">MagStripeCheck Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2eb4e42e-2d4d-e2c7-3273-12e008282e15.htm" title="MagStripeCheckStatus Method " tocid="2eb4e42e-2d4d-e2c7-3273-12e008282e15">MagStripeCheckStatus Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c6a9009d-8453-b080-43ec-140af6625293.htm" title="OperatorLogin Method " tocid="c6a9009d-8453-b080-43ec-140af6625293">OperatorLogin Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6b3010db-6120-eb1c-5209-e13871e306f2.htm" title="OperatorLogout Method " tocid="6b3010db-6120-eb1c-5209-e13871e306f2">OperatorLogout Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c58f536a-0e28-be05-eefb-08c3c92d11b1.htm" title="Overprint Method " tocid="c58f536a-0e28-be05-eefb-08c3c92d11b1">Overprint Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/cf4e9596-4cb1-5f6e-ceda-4a404b1f77a3.htm" title="OverprintConfirmation Method " tocid="cf4e9596-4cb1-5f6e-ceda-4a404b1f77a3">OverprintConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2590c879-34f2-a7a5-a5db-72b9d57553fb.htm" title="OverprintStatus Method " tocid="2590c879-34f2-a7a5-a5db-72b9d57553fb">OverprintStatus Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/0ca774c5-2500-4e83-9215-3eba17725028.htm" title="PaymentRefund Method " tocid="0ca774c5-2500-4e83-9215-3eba17725028">PaymentRefund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/02e6a254-b4be-07e2-8883-00c66dba2c5f.htm" title="ProcessRefundApplication Method " tocid="02e6a254-b4be-07e2-8883-00c66dba2c5f">ProcessRefundApplication Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e2dbc73f-96c7-64ac-1a33-c0d35a521791.htm" title="PurchaseConfirmation Method " tocid="e2dbc73f-96c7-64ac-1a33-c0d35a521791">PurchaseConfirmation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/baca4d31-b3aa-78d6-75e5-0ab12643a7d6.htm" title="PurchaseExcessFare Method " tocid="baca4d31-b3aa-78d6-75e5-0ab12643a7d6">PurchaseExcessFare Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a6df9ffd-3e12-9933-c358-e3350b2efe39.htm" title="PurchaseExcessSeasonFare Method " tocid="a6df9ffd-3e12-9933-c358-e3350b2efe39">PurchaseExcessSeasonFare Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4c93bdbc-43de-fdce-b7fb-c22d5f998827.htm" title="PurchaseRailcard Method " tocid="4c93bdbc-43de-fdce-b7fb-c22d5f998827">PurchaseRailcard Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6e9c80cd-5278-0776-b896-d5c5f8905b22.htm" title="PurchaseRailcardReplacement Method " tocid="6e9c80cd-5278-0776-b896-d5c5f8905b22">PurchaseRailcardReplacement Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f00ac7fb-83ac-1ba2-0894-4989941db55c.htm" title="PurchaseRangerRover Method " tocid="f00ac7fb-83ac-1ba2-0894-4989941db55c">PurchaseRangerRover Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/93ef7761-a2c3-8e94-f314-c5384add38b7.htm" title="PurchaseReservation Method " tocid="93ef7761-a2c3-8e94-f314-c5384add38b7">PurchaseReservation Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/24cab9ae-9808-57fe-614f-fb9e9dd3ea58.htm" title="PurchaseSeasonTicket Method " tocid="24cab9ae-9808-57fe-614f-fb9e9dd3ea58">PurchaseSeasonTicket Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dc5478c8-7d00-a722-210a-773d0c20b5cd.htm" title="PurchaseTicket3 Method " tocid="dc5478c8-7d00-a722-210a-773d0c20b5cd">PurchaseTicket3 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/302a5b8d-3db1-01aa-b472-734b172f104a.htm" title="RedeemTravelPass Method " tocid="302a5b8d-3db1-01aa-b472-734b172f104a">RedeemTravelPass Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f2d14251-944f-0ec1-c8da-8c3e8459353f.htm" title="Refund Method " tocid="f2d14251-944f-0ec1-c8da-8c3e8459353f">Refund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/da044df7-8419-6f44-c5c5-1ab642a170d1.htm" title="RefundUpdate Method " tocid="da044df7-8419-6f44-c5c5-1ab642a170d1">RefundUpdate Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/368ca0c5-c517-b418-22d3-a19cf5058db6.htm" title="RegisterPrintServer Method " tocid="368ca0c5-c517-b418-22d3-a19cf5058db6">RegisterPrintServer Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ad75b284-49cf-f5c7-8a4b-7b4eabf2c252.htm" title="RegisterTomPrinter Method " tocid="ad75b284-49cf-f5c7-8a4b-7b4eabf2c252">RegisterTomPrinter Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/68ebcfd1-f7c1-ce58-e70b-87528b8de16a.htm" title="Reissue Method " tocid="68ebcfd1-f7c1-ce58-e70b-87528b8de16a">Reissue Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/82009399-670a-dd1c-40e4-2f37da03a812.htm" title="RejectRefund Method " tocid="82009399-670a-dd1c-40e4-2f37da03a812">RejectRefund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8e05489b-20fb-7f79-1404-2f87c0fb9a57.htm" title="RequestItinerary Method " tocid="8e05489b-20fb-7f79-1404-2f87c0fb9a57">RequestItinerary Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/da85e34f-d61d-84ea-d81f-9e118c0518d5.htm" title="RequestRailcardReplacement Method " tocid="da85e34f-d61d-84ea-d81f-9e118c0518d5">RequestRailcardReplacement Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/aa5a200d-2054-0bee-7a09-2f92f39fc41f.htm" title="RequestSeasonTicketChangeoverPurchase Method " tocid="aa5a200d-2054-0bee-7a09-2f92f39fc41f">RequestSeasonTicketChangeoverPurchase Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9265d4a2-151b-12bc-dfe9-50e28edc2627.htm" title="RequestSeasonTicketChangeoverRefund Method " tocid="9265d4a2-151b-12bc-dfe9-50e28edc2627">RequestSeasonTicketChangeoverRefund Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/44c78355-29e0-fbed-1b86-41171d1d23a4.htm" title="ReservationBooking Method " tocid="44c78355-29e0-fbed-1b86-41171d1d23a4">ReservationBooking Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f5e07dcd-b0a3-db82-85b5-f885ba6b66f7.htm" title="ReservationBooking2 Method " tocid="f5e07dcd-b0a3-db82-85b5-f885ba6b66f7">ReservationBooking2 Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/58bcab27-940e-681e-f7f5-5bbebc23fb8d.htm" title="SearchCustomerProfile Method " tocid="58bcab27-940e-681e-f7f5-5bbebc23fb8d">SearchCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/33705698-497c-2a82-7938-2518b5458220.htm" title="SeasonTicketDuplicate Method " tocid="33705698-497c-2a82-7938-2518b5458220">SeasonTicketDuplicate Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e0f84c45-07fa-2539-0e2d-4264c9dfdbf9.htm" title="SeasonTicketReissue Method " tocid="e0f84c45-07fa-2539-0e2d-4264c9dfdbf9">SeasonTicketReissue Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5c962ea2-e7f7-0a8b-7098-68141ec037e1.htm" title="SeasonTicketReplacement Method " tocid="5c962ea2-e7f7-0a8b-7098-68141ec037e1">SeasonTicketReplacement Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/06239abb-8578-bf03-d082-1591390a057a.htm" title="UpdateCustomerProfile Method " tocid="06239abb-8578-bf03-d082-1591390a057a">UpdateCustomerProfile Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dbf530e2-2ec3-f6fc-3e13-38f1da973966.htm" title="ValidateRefund Method " tocid="dbf530e2-2ec3-f6fc-3e13-38f1da973966">ValidateRefund Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>CbeTOService<span id="LST6A4A9332_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6A4A9332_0?cpp=::|nu=.");</script>PaymentRefund Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            This FEWS returns the confirmation/or failure of the payment of a refund or payment for delay repay.
            The refund payment process is the final step in the refund process.It is dependent on the operator to decide on the method of payment and to provide the details to the CBE via the FEA.
            If it is a card refund, then it is handled by the front end application using a 3rd party payment provider.The Front End Application, via this FEWS provides the acknowledgement of the refund payment authorisation detail to the CBE.Or where there is a failure to complete the refund, it provides the failure details.For other MOPs the data required depends on the MOP to be used as shown below.
            On receipt of this FEWS and successful processing this triggers the refund state to be completed or failed depending on the response from the PSP. On payment successful the SDCI is then created for refund and an email is issued to the customer informing them of the refund.A failure sets the refund status to “RefundFailed” and will be dealt with manually and this call may be repeated until the refund payment is successful.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService</a><br />
    <strong>Assembly:</strong>
   Vix.Cbe.WebService (in Vix.Cbe.WebService.dll) Version: 0.1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">PerformanceCounterAttribute</span>(<span class="keyword">true</span>, <span class="keyword">typeof</span>(<span class="identifier">ServiceMethodPerformanceCounter</span>), "CBE-Operation.V7", 
	"TicketOffice-PaymentRefund", Target = <span class="identifier">CbeActivity</span>.PaymentRefund)]
<span class="keyword">public</span> <span class="identifier">Task</span>&lt;<span class="identifier">PaymentRefundMessageResponseV1</span>&gt; <span class="identifier">PaymentRefund</span>(
	<span class="identifier">PaymentRefundMessageRequestAuthV1</span> <span class="parameter">request</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">request</span></dt><dd>Type: <a href="bc2e251e-c0a8-66ff-f9ab-c5c8ba5d6593.htm">Vix.Cbe.WebService.Contracts.SalesTransaction<span id="LST6A4A9332_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6A4A9332_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PaymentRefundMessageRequestAuthV1</a><br />The request containing refund ID and payment details used to get refund repayed.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1" target="_blank" rel="noopener noreferrer">Task</a><span id="LST6A4A9332_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6A4A9332_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="561e1b42-9085-ce4e-92a8-da88831a034e.htm">PaymentRefundMessageResponseV1</a><span id="LST6A4A9332_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6A4A9332_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />The refund repayment response containing payment processing result.<h4 class="subHeading">Implements</h4><a href="4b875194-2220-9518-20bf-a40a206639e9.htm">ICbeTOService<span id="LST6A4A9332_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6A4A9332_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PaymentRefund(PaymentRefundMessageRequestAuthV1)</a><br /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID3RBSection" class="collapsibleSection"><p><b>BACKGROUND</b></p><p>
      The refund payment process is the final step in the refund process. This FEWS returns the confirmation/or failure of the payment of a refund or payment for delay repay. It is dependent on the operator to decide on the method of payment and to provide the details to the CBE via the FEA. This call can be used by Telesales/refund centre and ticket office retail channels.
    </p><p><b>BUSINESS PROCESS CONTEXT</b></p><p>
      The diagram below shows the context of where in the ticket purchase process this FEWS call occurs.
    </p><img src="\Content\FEWS 9.4 Refunds Repayment\Context.jpg" /><p><b>PROCESS DIAGRAM</b></p><p><img src="\Content\FEWS 9.4 Refunds Repayment\ProcessDiagram.jpg" /></p><p><b>PROCESS DESCRIPTION</b></p><p>
      The refund payment process is the final step in the refund process for those refunds which are approved. It is dependent on the trained refund operator to decide on the method of payment (MoP), based on the original MoP and to provide the details to the CBE via the FEA.
    </p><p>
      The rules for the choice of MoPs for refunds, where the original sale was made by multiple payments, is defined by RSP to avoid money laundering. If it is a credit/debit card refund then it is handled by the front end application using a 3rd party payment provider. The Front End Application, via this FEWS, provides the acknowledgement of the refund payment authorisation detail to the CBE.  Where there is a failure to complete the refund, it provides the failure details.  The input data required in this call is dependent on the MoP chosen by the operator.
    </p><p>
      This FEWS also allows for refunds to tokenised payment cards where the refund is within a defined period of time of the original transaction.
    </p><p>
      On receipt of this FEWS and successful processing by the CBE this triggers the refund state to be ‘completed’ or ‘refund failed’, depending on the response from the PSP (in the case of a car payment).  In the case of refunds rather than Delay Repay payments, when the payment confirmation is successful the CBE writes the SDCI record for the refund. SDCI records are not created for Delay Repay compensation payments.
    </p><p>
      In the case of refunds completed by the telesales/refund centre an email is issued to the customer informing them of the refund. If a payment failure occurs then the CBE sets the refund status to “Refund Failed” and will be dealt with manually, once it is resolved this call may be repeated until the refund payment is successful. Where the card payment is failed, any error message text provided is captured and is used by the CBE to send the customer an email to advise him of the failure.
    </p><p><b>ASSUMPTIONS</b><ol><li>This FEWS assumes that like the payment FEWS 6.2 the FEA handles the call to the PSP for refund to the customer’s payment card where MOP = X. The details of the original payment can be found in FEWS 4.3.1 for the operator to refer to when requesting the refund payment to the PSP.</li><li>It is assumed that the operator will have reviewed the original sales record using FEWS 4.3.1 which will include an inspection of the original MOPs used in the sale.</li><li>It is assumed that the operator will decide on the most suitable single MOP for refund. Only one refund payment is made against a refund request and this is decision is made primarily on the basis of the largest MOP used to buy the ticket where there are multiple MOPS. This decision is validated by the CBE as the operator’s discretion is required here for where payment is by cash or credit card with cash etc.   SC training of refund staff will provide guidance in this area.</li><li>It is assumed that if a failure message is output from the PSP in the case of payment card repayments and is not resolved by note 4 above, then the refund operator may repeat this FEWS with an alternative MOP for repayment e.g. cheque.</li><li>It is assumed that where a voucher is the chosen MOP, the operator is trained to select the appropriate voucher sundry code from a drop down list provided to the FEA by the CBE. The CBE will not validate this other than ensuring it is a valid sundry code, due to number complexity and duplicity of such codes in existence.</li><li>For refund by E-Voucher, it is assumed that the FEA will allocate an E-Voucher to the customer immediately prior to this FEWS. FEWS 15.4 will be used to issue the E-Voucher and it should be for the exact amount of the refund. The type of E-Voucher will be determined by the Operator and not by the CBE.</li></ol></p><p><b>VALIDATION</b></p><p>
      Parameter Validation:
      <ol><li>Authorisation Date and Time</li><li>SMS Mobile Number (Basic UK validation: minimum 11 numerics, beginning 07 or +447)</li><li>Truncated PAN 10 numerics</li><li>AuthorizationId –String (19)</li><li>CorrelationId – string (20)</li><li>MerchantReferenceCode –string (50)</li><li>ReceiptId – String (19)</li><li>RequestId – String (26)</li><li>RequestToken- String (256)</li><li>TransactionId – String(17)</li><li>Wallet Code - String(4)</li></ol></p><p><p>
        Business Validation:
        The following validation checks are made by the CBE on the data provided by the FEA. Where the request message from the FEA fails one or more of the validation checks listed below, the CBE will respond with an appropriate error messages as shown in the appropriate API guide.
        <ol><li>Mandatory items are present</li><li>Operator (User credentials) exists and has refund administration rights</li><li>Refund Number supplied must exist</li><li>Payment authorisation details or failed refund flag must be present</li><li>All tickets associated with the refund request must have their ticket refund status set to approved or rejected.</li><li>The refund state must be in state = approved or failed</li><li>Sum of authorisation amounts = Total Refund Amount from FEWS 9.2</li><li>MOP for refund must exist and be one of X, V, Q, M, E, P</li><li>If MOP = M, then retail channel must be Ticket Office or AuthorisationAmount is 0 (for zero amount the MOP must be M regardless of retail channel)</li><li>All payment detail fields must comply with the MOP data table for refund payment validation</li><li>The failed payment details if present should be complete (date and time and failure message)</li><li>Voucher sundry code should exist if MOP = V</li><li>Voucher sundry code should be from list of voucher sundry codes</li><li>Check the operator/user credentials has permission for this call</li><li>If MOP = E Evoucher serial number must be present and must an EVoucher serial number allocated to the customer requesting the refund (FEWS 15.4 will be used prior to this FEWS to allocate an E-Voucher serial number to the customer for the exact amount of the refund)</li><li>If MOP = EVoucher sundry code must not be present</li><li>If MOP = EVoucher Voucher Number must not be present</li><li>Email text if present must be not greater than 500 chars</li><li>Where MOP is D (for digital), the 4-character wallet code must exist and the wallet provider must be active</li><li>If the Admin Ui settings for the wallet state instrument token is required, this field must be present and populated</li><li>If the Admin UI settings for the wallet state reconciliation field 4 is required, this field must be present and populated</li></ol></p></p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABABBA_tab1" class="codeSnippetContainerTabSingle">Example PaymentRefund Request</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EABABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:soapenv</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="highlight-xml-attribute-name">xmlns:ns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UserCredentials</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:UserName</span><span class="highlight-xml-bracket">&gt;</span>TSawyer<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UserName</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Password</span><span class="highlight-xml-bracket">&gt;</span>password<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Password</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:UserCredentials</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PaymentRefundRequest</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:RefundNumber</span><span class="highlight-xml-bracket">&gt;</span>17RFPKSVIE<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:RefundNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:RefundPaymentDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:RefundPaymentDetail</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MopIndicator</span><span class="highlight-xml-bracket">&gt;</span>D<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MopIndicator</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AuthorisationDateTime</span><span class="highlight-xml-bracket">&gt;</span>2017-12-05T12:38:01<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AuthorisationDateTime</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AuthorisationAmount</span><span class="highlight-xml-bracket">&gt;</span>370<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AuthorisationAmount</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:ElectronicWalletDetails</span><span class="highlight-xml-bracket">&gt;</span>
           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:WalletCode</span><span class="highlight-xml-bracket">&gt;</span>ADRP<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:WalletCode</span><span class="highlight-xml-bracket">&gt;</span>             
           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MerchantReferenceCode</span><span class="highlight-xml-bracket">&gt;</span>MerchCode<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MerchantReferenceCode</span><span class="highlight-xml-bracket">&gt;</span>
           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AdditionalDetail1</span><span class="highlight-xml-bracket">&gt;</span>additional detail 1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AdditionalDetail1</span><span class="highlight-xml-bracket">&gt;</span>
           <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AdditionalDetail2</span><span class="highlight-xml-bracket">&gt;</span>additional detail 2<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AdditionalDetail2</span><span class="highlight-xml-bracket">&gt;</span>
        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:ElectronicWalletDetails</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:RefundPaymentDetail</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:RefundPaymentDetail</span><span class="highlight-xml-bracket">&gt;</span>
              <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:MopIndicator</span><span class="highlight-xml-bracket">&gt;</span>X<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:MopIndicator</span><span class="highlight-xml-bracket">&gt;</span>
                 <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AuthorisationDateTime</span><span class="highlight-xml-bracket">&gt;</span>2020-07-10T15:01:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AuthorisationDateTime</span><span class="highlight-xml-bracket">&gt;</span>
                 <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AuthorisationAmount</span><span class="highlight-xml-bracket">&gt;</span>300<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AuthorisationAmount</span><span class="highlight-xml-bracket">&gt;</span>
          <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PaymentCardDetails</span><span class="highlight-xml-bracket">&gt;</span>
                    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CardDetails</span><span class="highlight-xml-bracket">&gt;</span>
                      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PaymentCardSchemeCode</span><span class="highlight-xml-bracket">&gt;</span>VISAM<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PaymentCardSchemeCode</span><span class="highlight-xml-bracket">&gt;</span>
                      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PspToken</span><span class="highlight-xml-bracket">&gt;</span>123<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PspToken</span><span class="highlight-xml-bracket">&gt;</span>
                      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PspPaymentCardExpiryDate</span><span class="highlight-xml-bracket">&gt;</span>1021<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PspPaymentCardExpiryDate</span><span class="highlight-xml-bracket">&gt;</span>
                      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:TruncatedPan</span><span class="highlight-xml-bracket">&gt;</span>1234567890<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:TruncatedPan</span><span class="highlight-xml-bracket">&gt;</span>
                    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CardDetails</span><span class="highlight-xml-bracket">&gt;</span>
                    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PspAuthorisationDateTime</span><span class="highlight-xml-bracket">&gt;</span>2020-04-07T15:01:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PspAuthorisationDateTime</span><span class="highlight-xml-bracket">&gt;</span>
                    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PspAuthorisationCode</span><span class="highlight-xml-bracket">&gt;</span>123<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PspAuthorisationCode</span><span class="highlight-xml-bracket">&gt;</span>
                    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:PspTransactionReference</span><span class="highlight-xml-bracket">&gt;</span>123<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PspTransactionReference</span><span class="highlight-xml-bracket">&gt;</span>
                 <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PaymentCardDetails</span><span class="highlight-xml-bracket">&gt;</span>
           <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:RefundPaymentDetail</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:RefundPaymentDetails</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AdditionalDetailList</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:AdditionalDetail</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Name</span><span class="highlight-xml-bracket">&gt;</span>Payment sent<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Name</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:Value</span><span class="highlight-xml-bracket">&gt;</span>2017-12-05T03:38:01<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:Value</span><span class="highlight-xml-bracket">&gt;</span>
               <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ns:CreatedBy</span><span class="highlight-xml-bracket">&gt;</span>TSawyer<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:CreatedBy</span><span class="highlight-xml-bracket">&gt;</span>
            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AdditionalDetail</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:AdditionalDetailList</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ns:PaymentRefundRequest</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">soapenv:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABABBA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBA_tab1" class="codeSnippetContainerTabSingle">Example PaymentRefund Response</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Envelope</span> <span class="highlight-xml-attribute-name">xmlns:s</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PerformanceInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>142<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">CbeExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>0<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ExternalExecutionTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PerformanceInformation</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">FewsInformation</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>9.4<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">ReferenceNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Revision</span> <span class="highlight-xml-attribute-name">i:nil</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"true"</span><span class="highlight-xml-bracket">/&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>15.1<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">Version</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">FewsInformation</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Header</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">PaymentRefundResponse</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://vixtechnology.com/cbe/2012-05-29"</span> <span class="highlight-xml-attribute-name">xmlns:i</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">RefundNumber</span><span class="highlight-xml-bracket">&gt;</span>17RFPKSVIE<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">RefundNumber</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">RefundStatus</span><span class="highlight-xml-bracket">&gt;</span>Completed<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">RefundStatus</span><span class="highlight-xml-bracket">&gt;</span>
         <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">RefundStatusUpdatedDateTime</span><span class="highlight-xml-bracket">&gt;</span>2017-12-05T12:38:20.4803985+02:00<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">RefundStatusUpdatedDateTime</span><span class="highlight-xml-bracket">&gt;</span>
      <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">PaymentRefundResponse</span><span class="highlight-xml-bracket">&gt;</span>
   <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Body</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">s:Envelope</span><span class="highlight-xml-bracket">&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBA");</script></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Revision History</span></div><div id="ID4RBSection" class="collapsibleSection"><table><tr><th>Date</th><th>Version</th><th>Description</th></tr><tr><td>16/11/2017</td><td>14.1</td><td>FEWS 9.4 Refunds Repayment</td></tr><tr><td>16/11/2017</td><td>15.1</td><td>Updated to support refund of tickets with Split-Ticket discounts</td></tr><tr><td>04/08/2020</td><td>15.2</td><td>Updated RefundPaymentDetails, which is now a collection of RefundPaymentDetail objects.</td></tr><tr><td>11/05/2021</td><td>15.3</td><td>Added validation for MOP in case of zero sale. Must be M.</td></tr></table></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="84478d73-23dd-1bcd-02c4-86dcf17efc65.htm">CbeTOService Class</a></div><div class="seeAlsoStyle"><a href="26210088-6c4f-d952-a0af-51ddaeac4a15.htm">Vix.Cbe.WebService Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>